"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/stream-chat";
exports.ids = ["vendor-chunks/stream-chat"];
exports.modules = {

/***/ "(action-browser)/./node_modules/stream-chat/dist/index.es.js":
/*!***************************************************!*\
  !*** ./node_modules/stream-chat/dist/index.es.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Allow: () => (/* binding */ Allow),\n/* harmony export */   AllowAll: () => (/* binding */ AllowAll),\n/* harmony export */   AnyResource: () => (/* binding */ AnyResource),\n/* harmony export */   AnyRole: () => (/* binding */ AnyRole),\n/* harmony export */   BuiltinPermissions: () => (/* binding */ BuiltinPermissions),\n/* harmony export */   BuiltinRoles: () => (/* binding */ BuiltinRoles),\n/* harmony export */   Campaign: () => (/* binding */ Campaign),\n/* harmony export */   Channel: () => (/* binding */ Channel),\n/* harmony export */   ChannelState: () => (/* binding */ ChannelState),\n/* harmony export */   CheckSignature: () => (/* binding */ CheckSignature),\n/* harmony export */   ClientState: () => (/* binding */ ClientState),\n/* harmony export */   Deny: () => (/* binding */ Deny),\n/* harmony export */   DenyAll: () => (/* binding */ DenyAll),\n/* harmony export */   DevToken: () => (/* binding */ DevToken),\n/* harmony export */   EVENT_MAP: () => (/* binding */ EVENT_MAP),\n/* harmony export */   ErrorFromResponse: () => (/* binding */ ErrorFromResponse),\n/* harmony export */   InsightMetrics: () => (/* binding */ InsightMetrics),\n/* harmony export */   JWTServerToken: () => (/* binding */ JWTServerToken),\n/* harmony export */   JWTUserToken: () => (/* binding */ JWTUserToken),\n/* harmony export */   MaxPriority: () => (/* binding */ MaxPriority),\n/* harmony export */   MinPriority: () => (/* binding */ MinPriority),\n/* harmony export */   Permission: () => (/* binding */ Permission),\n/* harmony export */   Segment: () => (/* binding */ Segment),\n/* harmony export */   StableWSConnection: () => (/* binding */ StableWSConnection),\n/* harmony export */   StreamChat: () => (/* binding */ StreamChat),\n/* harmony export */   Thread: () => (/* binding */ Thread),\n/* harmony export */   TokenManager: () => (/* binding */ TokenManager),\n/* harmony export */   UserFromToken: () => (/* binding */ UserFromToken),\n/* harmony export */   buildWsFatalInsight: () => (/* binding */ buildWsFatalInsight),\n/* harmony export */   buildWsSuccessAfterFailureInsight: () => (/* binding */ buildWsSuccessAfterFailureInsight),\n/* harmony export */   chatCodes: () => (/* binding */ chatCodes),\n/* harmony export */   decodeBase64: () => (/* binding */ decodeBase64),\n/* harmony export */   encodeBase64: () => (/* binding */ encodeBase64),\n/* harmony export */   formatMessage: () => (/* binding */ formatMessage),\n/* harmony export */   isOwnUser: () => (/* binding */ isOwnUser),\n/* harmony export */   logChatPromiseExecution: () => (/* binding */ logChatPromiseExecution),\n/* harmony export */   postInsights: () => (/* binding */ postInsights)\n/* harmony export */ });\n/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base64-js */ \"(action-browser)/./node_modules/base64-js/index.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"(action-browser)/./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"(action-browser)/./node_modules/@babel/runtime/helpers/typeof.js\");\n/* harmony import */ var _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"(action-browser)/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"(action-browser)/./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"(action-browser)/./node_modules/@babel/runtime/helpers/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"(action-browser)/./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"(action-browser)/./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"(action-browser)/./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"(action-browser)/./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! axios */ \"(action-browser)/./node_modules/axios/index.js\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"(action-browser)/./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var form_data__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! form-data */ \"(action-browser)/./node_modules/form-data/lib/form_data.js\");\n/* harmony import */ var form_data__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(form_data__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! isomorphic-ws */ \"(action-browser)/./node_modules/stream-chat/node_modules/isomorphic-ws/node.js\");\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(isomorphic_ws__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! jsonwebtoken */ \"(action-browser)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ \"(action-browser)/./node_modules/@babel/runtime/helpers/assertThisInitialized.js\");\n/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ \"(action-browser)/./node_modules/@babel/runtime/helpers/inherits.js\");\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ \"(action-browser)/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js\");\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ \"(action-browser)/./node_modules/@babel/runtime/helpers/getPrototypeOf.js\");\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var _babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @babel/runtime/helpers/wrapNativeSuper */ \"(action-browser)/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js\");\n/* harmony import */ var _babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction isString$1(arrayOrString) {\n    return typeof arrayOrString === \"string\";\n}\nfunction isMapStringCallback(arrayOrString, callback) {\n    return !!callback && isString$1(arrayOrString);\n} // source - https://github.com/beatgammit/base64-js/blob/master/test/convert.js#L72\nfunction map(arrayOrString, callback) {\n    var res = [];\n    if (isString$1(arrayOrString) && isMapStringCallback(arrayOrString, callback)) {\n        for(var k = 0, len = arrayOrString.length; k < len; k++){\n            if (arrayOrString.charAt(k)) {\n                var kValue = arrayOrString.charAt(k);\n                var mappedValue = callback(kValue, k, arrayOrString);\n                res[k] = mappedValue;\n            }\n        }\n    } else if (!isString$1(arrayOrString) && !isMapStringCallback(arrayOrString, callback)) {\n        for(var _k = 0, _len = arrayOrString.length; _k < _len; _k++){\n            if (_k in arrayOrString) {\n                var _kValue = arrayOrString[_k];\n                var _mappedValue = callback(_kValue, _k, arrayOrString);\n                res[_k] = _mappedValue;\n            }\n        }\n    }\n    return res;\n}\nvar encodeBase64 = function encodeBase64(data) {\n    return (0,base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray)(new Uint8Array(map(data, function(char) {\n        return char.charCodeAt(0);\n    })));\n}; // base-64 decoder throws exception if encoded string is not padded by '=' to make string length\n// in multiples of 4. So gonna use our own method for this purpose to keep backwards compatibility\n// https://github.com/beatgammit/base64-js/blob/master/index.js#L26\nvar decodeBase64 = function decodeBase64(s) {\n    var e = {}, w = String.fromCharCode, L = s.length;\n    var i, b = 0, c, x, l = 0, a, r = \"\";\n    var A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    for(i = 0; i < 64; i++){\n        e[A.charAt(i)] = i;\n    }\n    for(x = 0; x < L; x++){\n        c = e[s.charAt(x)];\n        b = (b << 6) + c;\n        l += 6;\n        while(l >= 8){\n            ((a = b >>> (l -= 8) & 0xff) || x < L - 2) && (r += w(a));\n        }\n    }\n    return r;\n};\nfunction ownKeys$8(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$8(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$8(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$8(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nfunction _createForOfIteratorHelper$4(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray$4(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function(_e) {\n                    function e(_x) {\n                        return _e.apply(this, arguments);\n                    }\n                    e.toString = function() {\n                        return _e.toString();\n                    };\n                    return e;\n                }(function(e) {\n                    throw e;\n                }),\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function(_e2) {\n            function e(_x2) {\n                return _e2.apply(this, arguments);\n            }\n            e.toString = function() {\n                return _e2.toString();\n            };\n            return e;\n        }(function(e) {\n            didErr = true;\n            err = e;\n        }),\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray$4(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray$4(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$4(o, minLen);\n}\nfunction _arrayLikeToArray$4(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\n/**\n * logChatPromiseExecution - utility function for logging the execution of a promise..\n *  use this when you want to run the promise and handle errors by logging a warning\n *\n * @param {Promise<T>} promise The promise you want to run and log\n * @param {string} name    A descriptive name of what the promise does for log output\n *\n */ function logChatPromiseExecution(promise, name) {\n    promise.then().catch(function(error) {\n        console.warn(\"failed to do \".concat(name, \", ran into error: \"), error);\n    });\n}\nvar sleep = function sleep(m) {\n    return new Promise(function(r) {\n        return setTimeout(r, m);\n    });\n};\nfunction isFunction(value) {\n    return value && (Object.prototype.toString.call(value) === \"[object Function]\" || \"function\" === typeof value || value instanceof Function);\n}\nvar chatCodes = {\n    TOKEN_EXPIRED: 40,\n    WS_CLOSED_SUCCESS: 1000\n};\nfunction isReadableStream(obj) {\n    return obj !== null && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(obj) === \"object\" && (obj.readable || typeof obj._read === \"function\");\n}\nfunction isBuffer(obj) {\n    return obj != null && obj.constructor != null && // @ts-expect-error\n    typeof obj.constructor.isBuffer === \"function\" && // @ts-expect-error\n    obj.constructor.isBuffer(obj);\n}\nfunction isFileWebAPI(uri) {\n    return  false && 0;\n}\nfunction isOwnUser(user) {\n    return (user === null || user === void 0 ? void 0 : user.total_unread_count) !== undefined;\n}\nfunction isBlobWebAPI(uri) {\n    return  false && 0;\n}\nfunction isOwnUserBaseProperty(property) {\n    var ownUserBaseProperties = {\n        channel_mutes: true,\n        devices: true,\n        mutes: true,\n        total_unread_count: true,\n        unread_channels: true,\n        unread_count: true,\n        unread_threads: true,\n        invisible: true,\n        roles: true\n    };\n    return ownUserBaseProperties[property];\n}\nfunction addFileToFormData(uri, name, contentType) {\n    var data = new (form_data__WEBPACK_IMPORTED_MODULE_12___default())();\n    if (isReadableStream(uri) || isBuffer(uri) || isFileWebAPI(uri) || isBlobWebAPI(uri)) {\n        if (name) data.append(\"file\", uri, name);\n        else data.append(\"file\", uri);\n    } else {\n        data.append(\"file\", {\n            uri: uri,\n            name: name || uri.split(\"/\").reverse()[0],\n            contentType: contentType || undefined,\n            type: contentType || undefined\n        });\n    }\n    return data;\n}\nfunction normalizeQuerySort(sort) {\n    var sortFields = [];\n    var sortArr = Array.isArray(sort) ? sort : [\n        sort\n    ];\n    var _iterator = _createForOfIteratorHelper$4(sortArr), _step;\n    try {\n        for(_iterator.s(); !(_step = _iterator.n()).done;){\n            var item = _step.value;\n            var entries = Object.entries(item);\n            if (entries.length > 1) {\n                console.warn(\"client._buildSort() - multiple fields in a single sort object detected. Object's field order is not guaranteed\");\n            }\n            for(var _i = 0, _entries = entries; _i < _entries.length; _i++){\n                var _entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11___default()(_entries[_i], 2), field = _entries$_i[0], direction = _entries$_i[1];\n                sortFields.push({\n                    field: field,\n                    direction: direction\n                });\n            }\n        }\n    } catch (err) {\n        _iterator.e(err);\n    } finally{\n        _iterator.f();\n    }\n    return sortFields;\n}\n/**\n * retryInterval - A retry interval which increases acc to number of failures\n *\n * @return {number} Duration to wait in milliseconds\n */ function retryInterval(numberOfFailures) {\n    // try to reconnect in 0.25-25 seconds (random to spread out the load from failures)\n    var max = Math.min(500 + numberOfFailures * 2000, 25000);\n    var min = Math.min(Math.max(250, (numberOfFailures - 1) * 2000), 25000);\n    return Math.floor(Math.random() * (max - min) + min);\n}\nfunction randomId() {\n    return generateUUIDv4();\n}\nfunction hex(bytes) {\n    var s = \"\";\n    for(var i = 0; i < bytes.length; i++){\n        s += bytes[i].toString(16).padStart(2, \"0\");\n    }\n    return s;\n} // https://tools.ietf.org/html/rfc4122\nfunction generateUUIDv4() {\n    var bytes = getRandomBytes(16);\n    bytes[6] = bytes[6] & 0x0f | 0x40; // version\n    bytes[8] = bytes[8] & 0xbf | 0x80; // variant\n    return hex(bytes.subarray(0, 4)) + \"-\" + hex(bytes.subarray(4, 6)) + \"-\" + hex(bytes.subarray(6, 8)) + \"-\" + hex(bytes.subarray(8, 10)) + \"-\" + hex(bytes.subarray(10, 16));\n}\nfunction getRandomValuesWithMathRandom(bytes) {\n    var max = Math.pow(2, 8 * bytes.byteLength / bytes.length);\n    for(var i = 0; i < bytes.length; i++){\n        bytes[i] = Math.random() * max;\n    }\n}\nvar getRandomValues = function() {\n    var _crypto;\n    if (typeof crypto !== \"undefined\" && typeof ((_crypto = crypto) === null || _crypto === void 0 ? void 0 : _crypto.getRandomValues) !== \"undefined\") {\n        return crypto.getRandomValues.bind(crypto);\n    } else if (typeof msCrypto !== \"undefined\") {\n        return msCrypto.getRandomValues.bind(msCrypto);\n    } else {\n        return getRandomValuesWithMathRandom;\n    }\n}();\nfunction getRandomBytes(length) {\n    var bytes = new Uint8Array(length);\n    getRandomValues(bytes);\n    return bytes;\n}\nfunction convertErrorToJson(err) {\n    var jsonObj = {};\n    if (!err) return jsonObj;\n    try {\n        Object.getOwnPropertyNames(err).forEach(function(key) {\n            jsonObj[key] = Object.getOwnPropertyDescriptor(err, key);\n        });\n    } catch (_) {\n        return {\n            error: \"failed to serialize the error\"\n        };\n    }\n    return jsonObj;\n}\n/**\n * isOnline safely return the navigator.online value for browser env\n * if navigator is not in global object, it always return true\n */ function isOnline() {\n    var nav = typeof navigator !== \"undefined\" ? navigator :  false ? 0 : undefined;\n    if (!nav) {\n        console.warn(\"isOnline failed to access window.navigator and assume browser is online\");\n        return true;\n    } // RN navigator has undefined for onLine\n    if (typeof nav.onLine !== \"boolean\") {\n        return true;\n    }\n    return nav.onLine;\n}\n/**\n * listenForConnectionChanges - Adds an event listener fired on browser going online or offline\n */ function addConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction removeConnectionEventListeners(cb) {\n    if (false) {}\n}\nvar axiosParamsSerializer = function axiosParamsSerializer(params) {\n    var newParams = [];\n    for(var k in params){\n        // Stream backend doesn't treat \"undefined\" value same as value not being present.\n        // So, we need to skip the undefined values.\n        if (params[k] === undefined) continue;\n        if (Array.isArray(params[k]) || _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(params[k]) === \"object\") {\n            newParams.push(\"\".concat(k, \"=\").concat(encodeURIComponent(JSON.stringify(params[k]))));\n        } else {\n            newParams.push(\"\".concat(k, \"=\").concat(encodeURIComponent(params[k])));\n        }\n    }\n    return newParams.join(\"&\");\n};\n/**\n * formatMessage - Takes the message object. Parses the dates, sets __html\n * and sets the status to received if missing. Returns a message object\n *\n * @param {MessageResponse<StreamChatGenerics>} message a message object\n *\n */ function formatMessage(message) {\n    return _objectSpread$8(_objectSpread$8({}, message), {}, {\n        /**\n     * @deprecated please use `html`\n     */ __html: message.html,\n        // parse the date..\n        pinned_at: message.pinned_at ? new Date(message.pinned_at) : null,\n        created_at: message.created_at ? new Date(message.created_at) : new Date(),\n        updated_at: message.updated_at ? new Date(message.updated_at) : new Date(),\n        status: message.status || \"received\"\n    });\n}\nfunction addToMessageList(messages, message) {\n    var timestampChanged = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var sortBy = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"created_at\";\n    var addIfDoesNotExist = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var addMessageToList = addIfDoesNotExist || timestampChanged;\n    var messageArr = messages; // if created_at has changed, message should be filtered and re-inserted in correct order\n    // slow op but usually this only happens for a message inserted to state before actual response with correct timestamp\n    if (timestampChanged) {\n        messageArr = messageArr.filter(function(msg) {\n            return !(msg.id && message.id === msg.id);\n        });\n    } // Get array length after filtering\n    var messageArrayLength = messageArr.length; // for empty list just concat and return unless it's an update or deletion\n    if (messageArrayLength === 0 && addMessageToList) {\n        return messageArr.concat(message);\n    } else if (messageArrayLength === 0) {\n        return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n    }\n    var messageTime = message[sortBy].getTime();\n    var messageIsNewest = messageArr[messageArrayLength - 1][sortBy].getTime() < messageTime; // if message is newer than last item in the list concat and return unless it's an update or deletion\n    if (messageIsNewest && addMessageToList) {\n        return messageArr.concat(message);\n    } else if (messageIsNewest) {\n        return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n    } // find the closest index to push the new message\n    var left = 0;\n    var middle = 0;\n    var right = messageArrayLength - 1;\n    while(left <= right){\n        middle = Math.floor((right + left) / 2);\n        if (messageArr[middle][sortBy].getTime() <= messageTime) left = middle + 1;\n        else right = middle - 1;\n    } // message already exists and not filtered due to timestampChanged, update and return\n    if (!timestampChanged && message.id) {\n        if (messageArr[left] && message.id === messageArr[left].id) {\n            messageArr[left] = message;\n            return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n        }\n        if (messageArr[left - 1] && message.id === messageArr[left - 1].id) {\n            messageArr[left - 1] = message;\n            return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n        }\n    } // Do not add updated or deleted messages to the list if they do not already exist\n    // or have a timestamp change.\n    if (addMessageToList) {\n        messageArr.splice(left, 0, message);\n    }\n    return _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageArr);\n}\nfunction ownKeys$7(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$7(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$7(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$7(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n/**\n * ChannelState - A container class for the channel state.\n */ var ChannelState = /*#__PURE__*/ function() {\n    /**\n   * Flag which indicates if channel state contain latest/recent messages or no.\n   * This flag should be managed by UI sdks using a setter - setIsUpToDate.\n   * When false, any new message (received by websocket event - message.new) will not\n   * be pushed on to message list.\n   */ /**\n   * Disjoint lists of messages\n   * Users can jump in the message list (with searching) and this can result in disjoint lists of messages\n   * The state manages these lists and merges them when lists overlap\n   * The messages array contains the currently active set\n   */ function ChannelState(channel) {\n        var _this = this, _channel$state;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, ChannelState);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_channel\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"watcher_count\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"typing\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"read\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"pinnedMessages\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"pending_messages\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"threads\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"mutedUsers\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"watchers\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"members\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"unreadCount\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"membership\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"last_message_at\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isUpToDate\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"messageSets\", []);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setIsUpToDate\", function(isUpToDate) {\n            _this.isUpToDate = isUpToDate;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"removeMessageFromArray\", function(msgArray, msg) {\n            var result = msgArray.filter(function(message) {\n                return !(!!message.id && !!msg.id && message.id === msg.id);\n            });\n            return {\n                removed: result.length < msgArray.length,\n                result: result\n            };\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"updateUserMessages\", function(user) {\n            var _updateUserMessages = function _updateUserMessages(messages, user) {\n                for(var i = 0; i < messages.length; i++){\n                    var _m$user;\n                    var m = messages[i];\n                    if (((_m$user = m.user) === null || _m$user === void 0 ? void 0 : _m$user.id) === user.id) {\n                        messages[i] = _objectSpread$7(_objectSpread$7({}, m), {}, {\n                            user: user\n                        });\n                    }\n                }\n            };\n            _this.messageSets.forEach(function(set) {\n                return _updateUserMessages(set.messages, user);\n            });\n            for(var parentId in _this.threads){\n                _updateUserMessages(_this.threads[parentId], user);\n            }\n            _updateUserMessages(_this.pinnedMessages, user);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"deleteUserMessages\", function(user) {\n            var hardDelete = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var _deleteUserMessages = function _deleteUserMessages(messages, user) {\n                var hardDelete = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n                for(var i = 0; i < messages.length; i++){\n                    var _m$user2;\n                    var m = messages[i];\n                    if (((_m$user2 = m.user) === null || _m$user2 === void 0 ? void 0 : _m$user2.id) !== user.id) {\n                        continue;\n                    }\n                    if (hardDelete) {\n                        /**\n             * In case of hard delete, we need to strip down all text, html,\n             * attachments and all the custom properties on message\n             */ messages[i] = {\n                            cid: m.cid,\n                            created_at: m.created_at,\n                            deleted_at: user.deleted_at,\n                            id: m.id,\n                            latest_reactions: [],\n                            mentioned_users: [],\n                            own_reactions: [],\n                            parent_id: m.parent_id,\n                            reply_count: m.reply_count,\n                            status: m.status,\n                            thread_participants: m.thread_participants,\n                            type: \"deleted\",\n                            updated_at: m.updated_at,\n                            user: m.user\n                        };\n                    } else {\n                        messages[i] = _objectSpread$7(_objectSpread$7({}, m), {}, {\n                            type: \"deleted\",\n                            deleted_at: user.deleted_at\n                        });\n                    }\n                }\n            };\n            _this.messageSets.forEach(function(set) {\n                return _deleteUserMessages(set.messages, user, hardDelete);\n            });\n            for(var parentId in _this.threads){\n                _deleteUserMessages(_this.threads[parentId], user, hardDelete);\n            }\n            _deleteUserMessages(_this.pinnedMessages, user, hardDelete);\n        });\n        this._channel = channel;\n        this.watcher_count = 0;\n        this.typing = {};\n        this.read = {};\n        this.initMessages();\n        this.pinnedMessages = [];\n        this.pending_messages = [];\n        this.threads = {}; // a list of users to hide messages from\n        this.mutedUsers = [];\n        this.watchers = {};\n        this.members = {};\n        this.membership = {};\n        this.unreadCount = 0;\n        /**\n     * Flag which indicates if channel state contain latest/recent messages or no.\n     * This flag should be managed by UI sdks using a setter - setIsUpToDate.\n     * When false, any new message (received by websocket event - message.new) will not\n     * be pushed on to message list.\n     */ this.isUpToDate = true;\n        this.last_message_at = (channel === null || channel === void 0 ? void 0 : (_channel$state = channel.state) === null || _channel$state === void 0 ? void 0 : _channel$state.last_message_at) != null ? new Date(channel.state.last_message_at) : null;\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(ChannelState, [\n        {\n            key: \"messages\",\n            get: function get() {\n                var _this$messageSets$fin;\n                return ((_this$messageSets$fin = this.messageSets.find(function(s) {\n                    return s.isCurrent;\n                })) === null || _this$messageSets$fin === void 0 ? void 0 : _this$messageSets$fin.messages) || [];\n            },\n            set: function set(messages) {\n                var index = this.messageSets.findIndex(function(s) {\n                    return s.isCurrent;\n                });\n                this.messageSets[index].messages = messages;\n            }\n        },\n        {\n            key: \"latestMessages\",\n            get: function get() {\n                var _this$messageSets$fin2;\n                return ((_this$messageSets$fin2 = this.messageSets.find(function(s) {\n                    return s.isLatest;\n                })) === null || _this$messageSets$fin2 === void 0 ? void 0 : _this$messageSets$fin2.messages) || [];\n            },\n            set: function set(messages) {\n                var index = this.messageSets.findIndex(function(s) {\n                    return s.isLatest;\n                });\n                this.messageSets[index].messages = messages;\n            }\n        },\n        {\n            key: \"addMessageSorted\",\n            value: function addMessageSorted(newMessage) {\n                var timestampChanged = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n                var addIfDoesNotExist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n                var messageSetToAddToIfDoesNotExist = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"latest\";\n                return this.addMessagesSorted([\n                    newMessage\n                ], timestampChanged, false, addIfDoesNotExist, messageSetToAddToIfDoesNotExist);\n            }\n        },\n        {\n            key: \"formatMessage\",\n            value: function formatMessage(message) {\n                return _objectSpread$7(_objectSpread$7({}, message), {}, {\n                    /**\n         * @deprecated please use `html`\n         */ __html: message.html,\n                    // parse the date..\n                    pinned_at: message.pinned_at ? new Date(message.pinned_at) : null,\n                    created_at: message.created_at ? new Date(message.created_at) : new Date(),\n                    updated_at: message.updated_at ? new Date(message.updated_at) : new Date(),\n                    status: message.status || \"received\"\n                });\n            }\n        },\n        {\n            key: \"addMessagesSorted\",\n            value: function addMessagesSorted(newMessages) {\n                var timestampChanged = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n                var initializing = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n                var addIfDoesNotExist = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n                var messageSetToAddToIfDoesNotExist = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : \"current\";\n                var _this$findTargetMessa = this.findTargetMessageSet(newMessages, addIfDoesNotExist, messageSetToAddToIfDoesNotExist), messagesToAdd = _this$findTargetMessa.messagesToAdd, targetMessageSetIndex = _this$findTargetMessa.targetMessageSetIndex;\n                for(var i = 0; i < messagesToAdd.length; i += 1){\n                    var isFromShadowBannedUser = messagesToAdd[i].shadowed;\n                    if (isFromShadowBannedUser) {\n                        continue;\n                    } // If message is already formatted we can skip the tasks below\n                    // This will be true for messages that are already present at the state -> this happens when we perform merging of message sets\n                    // This will be also true for message previews used by some SDKs\n                    var isMessageFormatted = messagesToAdd[i].created_at instanceof Date;\n                    var message = void 0;\n                    if (isMessageFormatted) {\n                        message = messagesToAdd[i];\n                    } else {\n                        var _this$_channel;\n                        message = this.formatMessage(messagesToAdd[i]);\n                        if (message.user && (_this$_channel = this._channel) !== null && _this$_channel !== void 0 && _this$_channel.cid) {\n                            /**\n             * Store the reference to user for this channel, so that when we have to\n             * handle updates to user, we can use the reference map, to determine which\n             * channels need to be updated with updated user object.\n             */ this._channel.getClient().state.updateUserReference(message.user, this._channel.cid);\n                        }\n                        if (initializing && message.id && this.threads[message.id]) {\n                            // If we are initializing the state of channel (e.g., in case of connection recovery),\n                            // then in that case we remove thread related to this message from threads object.\n                            // This way we can ensure that we don't have any stale data in thread object\n                            // and consumer can refetch the replies.\n                            delete this.threads[message.id];\n                        }\n                        if (!this.last_message_at) {\n                            this.last_message_at = new Date(message.created_at.getTime());\n                        }\n                        if (message.created_at.getTime() > this.last_message_at.getTime()) {\n                            this.last_message_at = new Date(message.created_at.getTime());\n                        }\n                    } // update or append the messages...\n                    var parentID = message.parent_id; // add to the given message set\n                    if ((!parentID || message.show_in_channel) && targetMessageSetIndex !== -1) {\n                        this.messageSets[targetMessageSetIndex].messages = this._addToMessageList(this.messageSets[targetMessageSetIndex].messages, message, timestampChanged, \"created_at\", addIfDoesNotExist);\n                    }\n                    /**\n         * Add message to thread if applicable and the message\n         * was added when querying for replies, or the thread already exits.\n         * This is to prevent the thread state from getting out of sync if\n         * a thread message is shown in channel but older than the newest thread\n         * message. This situation can result in a thread state where a random\n         * message is \"oldest\" message, and newer messages are therefore not loaded.\n         * This can also occur if an old thread message is updated.\n         */ if (parentID && !initializing) {\n                        var thread = this.threads[parentID] || [];\n                        var threadMessages = this._addToMessageList(thread, message, timestampChanged, \"created_at\", addIfDoesNotExist);\n                        this.threads[parentID] = threadMessages;\n                    }\n                }\n                return {\n                    messageSet: this.messageSets[targetMessageSetIndex]\n                };\n            }\n        },\n        {\n            key: \"addPinnedMessages\",\n            value: function addPinnedMessages(pinnedMessages) {\n                for(var i = 0; i < pinnedMessages.length; i += 1){\n                    this.addPinnedMessage(pinnedMessages[i]);\n                }\n            }\n        },\n        {\n            key: \"addPinnedMessage\",\n            value: function addPinnedMessage(pinnedMessage) {\n                this.pinnedMessages = this._addToMessageList(this.pinnedMessages, this.formatMessage(pinnedMessage), false, \"pinned_at\");\n            }\n        },\n        {\n            key: \"removePinnedMessage\",\n            value: function removePinnedMessage(message) {\n                var _this$removeMessageFr = this.removeMessageFromArray(this.pinnedMessages, message), result = _this$removeMessageFr.result;\n                this.pinnedMessages = result;\n            }\n        },\n        {\n            key: \"addReaction\",\n            value: function addReaction(reaction, message, enforce_unique) {\n                var _this2 = this;\n                if (!message) return;\n                var messageWithReaction = message;\n                this._updateMessage(message, function(msg) {\n                    messageWithReaction.own_reactions = _this2._addOwnReactionToMessage(msg.own_reactions, reaction, enforce_unique);\n                    return _this2.formatMessage(messageWithReaction);\n                });\n                return messageWithReaction;\n            }\n        },\n        {\n            key: \"_addOwnReactionToMessage\",\n            value: function _addOwnReactionToMessage(ownReactions, reaction, enforce_unique) {\n                if (enforce_unique) {\n                    ownReactions = [];\n                } else {\n                    ownReactions = this._removeOwnReactionFromMessage(ownReactions, reaction);\n                }\n                ownReactions = ownReactions || [];\n                if (this._channel.getClient().userID === reaction.user_id) {\n                    ownReactions.push(reaction);\n                }\n                return ownReactions;\n            }\n        },\n        {\n            key: \"_removeOwnReactionFromMessage\",\n            value: function _removeOwnReactionFromMessage(ownReactions, reaction) {\n                if (ownReactions) {\n                    return ownReactions.filter(function(item) {\n                        return item.user_id !== reaction.user_id || item.type !== reaction.type;\n                    });\n                }\n                return ownReactions;\n            }\n        },\n        {\n            key: \"removeReaction\",\n            value: function removeReaction(reaction, message) {\n                var _this3 = this;\n                if (!message) return;\n                var messageWithReaction = message;\n                this._updateMessage(message, function(msg) {\n                    messageWithReaction.own_reactions = _this3._removeOwnReactionFromMessage(msg.own_reactions, reaction);\n                    return _this3.formatMessage(messageWithReaction);\n                });\n                return messageWithReaction;\n            }\n        },\n        {\n            key: \"removeQuotedMessageReferences\",\n            value: function removeQuotedMessageReferences(message) {\n                var _this4 = this;\n                var parseMessage = function parseMessage(m) {\n                    var _m$pinned_at, _m$updated_at;\n                    return _objectSpread$7(_objectSpread$7({}, m), {}, {\n                        created_at: m.created_at.toISOString(),\n                        pinned_at: (_m$pinned_at = m.pinned_at) === null || _m$pinned_at === void 0 ? void 0 : _m$pinned_at.toISOString(),\n                        updated_at: (_m$updated_at = m.updated_at) === null || _m$updated_at === void 0 ? void 0 : _m$updated_at.toISOString()\n                    });\n                };\n                this.messageSets.forEach(function(set) {\n                    var updatedMessages = set.messages.filter(function(msg) {\n                        return msg.quoted_message_id === message.id;\n                    }).map(parseMessage).map(function(msg) {\n                        return _objectSpread$7(_objectSpread$7({}, msg), {}, {\n                            quoted_message: _objectSpread$7(_objectSpread$7({}, message), {}, {\n                                attachments: []\n                            })\n                        });\n                    });\n                    _this4.addMessagesSorted(updatedMessages, true);\n                });\n            }\n        },\n        {\n            key: \"_updateMessage\",\n            value: function _updateMessage(message, updateFunc) {\n                var parent_id = message.parent_id, show_in_channel = message.show_in_channel, pinned = message.pinned;\n                if (parent_id && this.threads[parent_id]) {\n                    var thread = this.threads[parent_id];\n                    var msgIndex = thread.findIndex(function(msg) {\n                        return msg.id === message.id;\n                    });\n                    if (msgIndex !== -1) {\n                        thread[msgIndex] = updateFunc(thread[msgIndex]);\n                        this.threads[parent_id] = thread;\n                    }\n                }\n                if (!show_in_channel && !parent_id || show_in_channel) {\n                    var messageSetIndex = this.findMessageSetIndex(message);\n                    if (messageSetIndex !== -1) {\n                        var _msgIndex = this.messageSets[messageSetIndex].messages.findIndex(function(msg) {\n                            return msg.id === message.id;\n                        });\n                        if (_msgIndex !== -1) {\n                            this.messageSets[messageSetIndex].messages[_msgIndex] = updateFunc(this.messageSets[messageSetIndex].messages[_msgIndex]);\n                        }\n                    }\n                }\n                if (pinned) {\n                    var _msgIndex2 = this.pinnedMessages.findIndex(function(msg) {\n                        return msg.id === message.id;\n                    });\n                    if (_msgIndex2 !== -1) {\n                        this.pinnedMessages[_msgIndex2] = updateFunc(this.pinnedMessages[_msgIndex2]);\n                    }\n                }\n            }\n        },\n        {\n            key: \"_addToMessageList\",\n            value: /**\n     * _addToMessageList - Adds a message to a list of messages, tries to update first, appends if message isn't found\n     *\n     * @param {Array<ReturnType<ChannelState<StreamChatGenerics>['formatMessage']>>} messages A list of messages\n     * @param message\n     * @param {boolean} timestampChanged Whether updating a message with changed created_at value.\n     * @param {string} sortBy field name to use to sort the messages by\n     * @param {boolean} addIfDoesNotExist Add message if it is not in the list, used to prevent out of order updated messages from being added.\n     */ function _addToMessageList(messages, message) {\n                var timestampChanged = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n                var sortBy = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"created_at\";\n                var addIfDoesNotExist = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n                return addToMessageList(messages, message, timestampChanged, sortBy, addIfDoesNotExist);\n            }\n        },\n        {\n            key: \"removeMessage\",\n            value: function removeMessage(messageToRemove) {\n                var isRemoved = false;\n                if (messageToRemove.parent_id && this.threads[messageToRemove.parent_id]) {\n                    var _this$removeMessageFr2 = this.removeMessageFromArray(this.threads[messageToRemove.parent_id], messageToRemove), removed = _this$removeMessageFr2.removed, threadMessages = _this$removeMessageFr2.result;\n                    this.threads[messageToRemove.parent_id] = threadMessages;\n                    isRemoved = removed;\n                } else {\n                    var _messageToRemove$mess;\n                    var messageSetIndex = (_messageToRemove$mess = messageToRemove.messageSetIndex) !== null && _messageToRemove$mess !== void 0 ? _messageToRemove$mess : this.findMessageSetIndex(messageToRemove);\n                    if (messageSetIndex !== -1) {\n                        var _this$removeMessageFr3 = this.removeMessageFromArray(this.messageSets[messageSetIndex].messages, messageToRemove), _removed = _this$removeMessageFr3.removed, messages = _this$removeMessageFr3.result;\n                        this.messageSets[messageSetIndex].messages = messages;\n                        isRemoved = _removed;\n                    }\n                }\n                return isRemoved;\n            }\n        },\n        {\n            key: \"filterErrorMessages\",\n            value: /**\n     * filterErrorMessages - Removes error messages from the channel state.\n     *\n     */ function filterErrorMessages() {\n                var filteredMessages = this.latestMessages.filter(function(message) {\n                    return message.type !== \"error\";\n                });\n                this.latestMessages = filteredMessages;\n            }\n        },\n        {\n            key: \"clean\",\n            value: function clean() {\n                var now = new Date(); // prevent old users from showing up as typing\n                for(var _i = 0, _Object$entries = Object.entries(this.typing); _i < _Object$entries.length; _i++){\n                    var _Object$entries$_i = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_11___default()(_Object$entries[_i], 2), userID = _Object$entries$_i[0], lastEvent = _Object$entries$_i[1];\n                    var receivedAt = typeof lastEvent.received_at === \"string\" ? new Date(lastEvent.received_at) : lastEvent.received_at || new Date();\n                    if (now.getTime() - receivedAt.getTime() > 7000) {\n                        delete this.typing[userID];\n                        this._channel.getClient().dispatchEvent({\n                            cid: this._channel.cid,\n                            type: \"typing.stop\",\n                            user: {\n                                id: userID\n                            }\n                        });\n                    }\n                }\n            }\n        },\n        {\n            key: \"clearMessages\",\n            value: function clearMessages() {\n                this.initMessages();\n                this.pinnedMessages = [];\n            }\n        },\n        {\n            key: \"initMessages\",\n            value: function initMessages() {\n                this.messageSets = [\n                    {\n                        messages: [],\n                        isLatest: true,\n                        isCurrent: true\n                    }\n                ];\n            }\n        },\n        {\n            key: \"loadMessageIntoState\",\n            value: function() {\n                var _loadMessageIntoState = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(messageId, parentMessageId) {\n                    var _this$threads$parentM;\n                    var limit, messageSetIndex, switchedToMessageSet, loadedMessageThread, messageIdToFind, _args = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                        while(1){\n                            switch(_context.prev = _context.next){\n                                case 0:\n                                    limit = _args.length > 2 && _args[2] !== undefined ? _args[2] : 25;\n                                    switchedToMessageSet = false;\n                                    loadedMessageThread = false;\n                                    messageIdToFind = parentMessageId || messageId;\n                                    if (!(messageId === \"latest\")) {\n                                        _context.next = 10;\n                                        break;\n                                    }\n                                    if (!(this.messages === this.latestMessages)) {\n                                        _context.next = 7;\n                                        break;\n                                    }\n                                    return _context.abrupt(\"return\");\n                                case 7:\n                                    messageSetIndex = this.messageSets.findIndex(function(s) {\n                                        return s.isLatest;\n                                    });\n                                    _context.next = 11;\n                                    break;\n                                case 10:\n                                    messageSetIndex = this.findMessageSetIndex({\n                                        id: messageIdToFind\n                                    });\n                                case 11:\n                                    if (messageSetIndex !== -1) {\n                                        this.switchToMessageSet(messageSetIndex);\n                                        switchedToMessageSet = true;\n                                    }\n                                    loadedMessageThread = !parentMessageId || !!((_this$threads$parentM = this.threads[parentMessageId]) !== null && _this$threads$parentM !== void 0 && _this$threads$parentM.find(function(m) {\n                                        return m.id === messageId;\n                                    }));\n                                    if (!(switchedToMessageSet && loadedMessageThread)) {\n                                        _context.next = 15;\n                                        break;\n                                    }\n                                    return _context.abrupt(\"return\");\n                                case 15:\n                                    if (switchedToMessageSet) {\n                                        _context.next = 18;\n                                        break;\n                                    }\n                                    _context.next = 18;\n                                    return this._channel.query({\n                                        messages: {\n                                            id_around: messageIdToFind,\n                                            limit: limit\n                                        }\n                                    }, \"new\");\n                                case 18:\n                                    if (!(!loadedMessageThread && parentMessageId)) {\n                                        _context.next = 21;\n                                        break;\n                                    }\n                                    _context.next = 21;\n                                    return this._channel.getReplies(parentMessageId, {\n                                        id_around: messageId,\n                                        limit: limit\n                                    });\n                                case 21:\n                                    messageSetIndex = this.findMessageSetIndex({\n                                        id: messageIdToFind\n                                    });\n                                    if (messageSetIndex !== -1) {\n                                        this.switchToMessageSet(messageSetIndex);\n                                    }\n                                case 23:\n                                case \"end\":\n                                    return _context.stop();\n                            }\n                        }\n                    }, _callee, this);\n                }));\n                function loadMessageIntoState(_x, _x2) {\n                    return _loadMessageIntoState.apply(this, arguments);\n                }\n                return loadMessageIntoState;\n            }()\n        },\n        {\n            key: \"findMessage\",\n            value: function findMessage(messageId, parentMessageId) {\n                if (parentMessageId) {\n                    var messages = this.threads[parentMessageId];\n                    if (!messages) {\n                        return undefined;\n                    }\n                    return messages.find(function(m) {\n                        return m.id === messageId;\n                    });\n                }\n                var messageSetIndex = this.findMessageSetIndex({\n                    id: messageId\n                });\n                if (messageSetIndex === -1) {\n                    return undefined;\n                }\n                return this.messageSets[messageSetIndex].messages.find(function(m) {\n                    return m.id === messageId;\n                });\n            }\n        },\n        {\n            key: \"switchToMessageSet\",\n            value: function switchToMessageSet(index) {\n                var currentMessages = this.messageSets.find(function(s) {\n                    return s.isCurrent;\n                });\n                if (!currentMessages) {\n                    return;\n                }\n                currentMessages.isCurrent = false;\n                this.messageSets[index].isCurrent = true;\n            }\n        },\n        {\n            key: \"areMessageSetsOverlap\",\n            value: function areMessageSetsOverlap(messages1, messages2) {\n                return messages1.some(function(m1) {\n                    return messages2.find(function(m2) {\n                        return m1.id === m2.id;\n                    });\n                });\n            }\n        },\n        {\n            key: \"findMessageSetIndex\",\n            value: function findMessageSetIndex(message) {\n                return this.messageSets.findIndex(function(set) {\n                    return !!set.messages.find(function(m) {\n                        return m.id === message.id;\n                    });\n                });\n            }\n        },\n        {\n            key: \"findTargetMessageSet\",\n            value: function findTargetMessageSet(newMessages) {\n                var _this5 = this;\n                var addIfDoesNotExist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n                var messageSetToAddToIfDoesNotExist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"current\";\n                var messagesToAdd = newMessages;\n                var targetMessageSetIndex;\n                if (addIfDoesNotExist) {\n                    var overlappingMessageSetIndices = this.messageSets.map(function(_, i) {\n                        return i;\n                    }).filter(function(i) {\n                        return _this5.areMessageSetsOverlap(_this5.messageSets[i].messages, newMessages);\n                    });\n                    switch(messageSetToAddToIfDoesNotExist){\n                        case \"new\":\n                            if (overlappingMessageSetIndices.length > 0) {\n                                targetMessageSetIndex = overlappingMessageSetIndices[0]; // No new message set is created if newMessages only contains thread replies\n                            } else if (newMessages.some(function(m) {\n                                return !m.parent_id;\n                            })) {\n                                this.messageSets.push({\n                                    messages: [],\n                                    isCurrent: false,\n                                    isLatest: false\n                                });\n                                targetMessageSetIndex = this.messageSets.length - 1;\n                            }\n                            break;\n                        case \"current\":\n                            targetMessageSetIndex = this.messageSets.findIndex(function(s) {\n                                return s.isCurrent;\n                            });\n                            break;\n                        case \"latest\":\n                            targetMessageSetIndex = this.messageSets.findIndex(function(s) {\n                                return s.isLatest;\n                            });\n                            break;\n                        default:\n                            targetMessageSetIndex = -1;\n                    } // when merging the target set will be the first one from the overlapping message sets\n                    var mergeTargetMessageSetIndex = overlappingMessageSetIndices.splice(0, 1)[0];\n                    var mergeSourceMessageSetIndices = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(overlappingMessageSetIndices);\n                    if (mergeTargetMessageSetIndex !== undefined && mergeTargetMessageSetIndex !== targetMessageSetIndex) {\n                        mergeSourceMessageSetIndices.push(targetMessageSetIndex);\n                    } // merge message sets\n                    if (mergeSourceMessageSetIndices.length > 0) {\n                        var target = this.messageSets[mergeTargetMessageSetIndex];\n                        var sources = this.messageSets.filter(function(_, i) {\n                            return mergeSourceMessageSetIndices.indexOf(i) !== -1;\n                        });\n                        sources.forEach(function(messageSet) {\n                            target.isLatest = target.isLatest || messageSet.isLatest;\n                            target.isCurrent = target.isCurrent || messageSet.isCurrent;\n                            messagesToAdd = [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messagesToAdd), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(messageSet.messages));\n                        });\n                        sources.forEach(function(s) {\n                            return _this5.messageSets.splice(_this5.messageSets.indexOf(s), 1);\n                        });\n                        var overlappingMessageSetIndex = this.messageSets.findIndex(function(s) {\n                            return _this5.areMessageSetsOverlap(s.messages, newMessages);\n                        });\n                        targetMessageSetIndex = overlappingMessageSetIndex;\n                    }\n                } else {\n                    // assumes that all new messages belong to the same set\n                    targetMessageSetIndex = this.findMessageSetIndex(newMessages[0]);\n                }\n                return {\n                    targetMessageSetIndex: targetMessageSetIndex,\n                    messagesToAdd: messagesToAdd\n                };\n            }\n        }\n    ]);\n    return ChannelState;\n}();\nfunction _createForOfIteratorHelper$3(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray$3(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function e(_e) {\n                    throw _e;\n                },\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n        },\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray$3(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray$3(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen);\n}\nfunction _arrayLikeToArray$3(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\nfunction ownKeys$6(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$6(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$6(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$6(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n/**\n * Channel - The Channel class manages it's own state.\n */ var Channel = /*#__PURE__*/ function() {\n    /**  */ /**\n   * This boolean is a vague indication of weather the channel exists on chat backend.\n   *\n   * If the value is true, then that means the channel has been initialized by either calling\n   * channel.create() or channel.query() or channel.watch().\n   *\n   * If the value is false, then channel may or may not exist on the backend. The only way to ensure\n   * is by calling channel.create() or channel.query() or channel.watch().\n   */ /**\n   * Indicates weather channel has been initialized by manually populating the state with some messages, members etc.\n   * Static state indicates that channel exists on backend, but is not being watched yet.\n   */ /**\n   * constructor - Create a channel\n   *\n   * @param {StreamChat<StreamChatGenerics>} client the chat client\n   * @param {string} type  the type of channel\n   * @param {string} [id]  the id of the chat\n   * @param {ChannelData<StreamChatGenerics>} data any additional custom params\n   *\n   * @return {Channel<StreamChatGenerics>} Returns a new uninitialized channel\n   */ function Channel(client, type, id, data) {\n        var _this = this;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, Channel);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"type\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"id\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"data\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_data\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"cid\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"listeners\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"state\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"initialized\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"offlineMode\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"lastKeyStroke\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"lastTypingEvent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isTyping\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnected\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"create\", /*#__PURE__*/ function() {\n            var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(options) {\n                var defaultOptions;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                    while(1){\n                        switch(_context.prev = _context.next){\n                            case 0:\n                                defaultOptions = _objectSpread$6(_objectSpread$6({}, options), {}, {\n                                    watch: false,\n                                    state: false,\n                                    presence: false\n                                });\n                                _context.next = 3;\n                                return _this.query(defaultOptions, \"latest\");\n                            case 3:\n                                return _context.abrupt(\"return\", _context.sent);\n                            case 4:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee);\n            }));\n            return function(_x) {\n                return _ref.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_callChannelListeners\", function(event) {\n            var channel = _this; // gather and call the listeners\n            var listeners = [];\n            if (channel.listeners.all) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(channel.listeners.all));\n            }\n            if (channel.listeners[event.type]) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(channel.listeners[event.type]));\n            } // call the event and send it to the listeners\n            for(var _i = 0, _listeners = listeners; _i < _listeners.length; _i++){\n                var listener = _listeners[_i];\n                if (typeof listener !== \"string\") {\n                    listener(event);\n                }\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_channelURL\", function() {\n            if (!_this.id) {\n                throw new Error(\"channel id is not defined\");\n            }\n            return \"\".concat(_this.getClient().baseURL, \"/channels/\").concat(_this.type, \"/\").concat(_this.id);\n        });\n        var validTypeRe = /^[\\w_-]+$/;\n        var validIDRe = /^[\\w!_-]+$/;\n        if (!validTypeRe.test(type)) {\n            throw new Error(\"Invalid chat type \".concat(type, ', letters, numbers and \"_-\" are allowed'));\n        }\n        if (typeof id === \"string\" && !validIDRe.test(id)) {\n            throw new Error(\"Invalid chat id \".concat(id, ', letters, numbers and \"!-_\" are allowed'));\n        }\n        this._client = client;\n        this.type = type;\n        this.id = id; // used by the frontend, gets updated:\n        this.data = data; // this._data is used for the requests...\n        this._data = _objectSpread$6({}, data);\n        this.cid = \"\".concat(type, \":\").concat(id);\n        this.listeners = {}; // perhaps the state variable should be private\n        this.state = new ChannelState(this);\n        this.initialized = false;\n        this.offlineMode = false;\n        this.lastTypingEvent = null;\n        this.isTyping = false;\n        this.disconnected = false;\n    }\n    /**\n   * getClient - Get the chat client for this channel. If client.disconnect() was called, this function will error\n   *\n   * @return {StreamChat<StreamChatGenerics>}\n   */ _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(Channel, [\n        {\n            key: \"getClient\",\n            value: function getClient() {\n                if (this.disconnected === true) {\n                    throw Error(\"You can't use a channel after client.disconnect() was called\");\n                }\n                return this._client;\n            }\n        },\n        {\n            key: \"getConfig\",\n            value: function getConfig() {\n                var client = this.getClient();\n                return client.configs[this.cid];\n            }\n        },\n        {\n            key: \"sendMessage\",\n            value: function() {\n                var _sendMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2(message, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                        while(1){\n                            switch(_context2.prev = _context2.next){\n                                case 0:\n                                    _context2.next = 2;\n                                    return this.getClient().post(this._channelURL() + \"/message\", _objectSpread$6({\n                                        message: message\n                                    }, options));\n                                case 2:\n                                    return _context2.abrupt(\"return\", _context2.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context2.stop();\n                            }\n                        }\n                    }, _callee2, this);\n                }));\n                function sendMessage(_x2, _x3) {\n                    return _sendMessage.apply(this, arguments);\n                }\n                return sendMessage;\n            }()\n        },\n        {\n            key: \"sendFile\",\n            value: function sendFile(uri, name, contentType, user) {\n                return this.getClient().sendFile(\"\".concat(this._channelURL(), \"/file\"), uri, name, contentType, user);\n            }\n        },\n        {\n            key: \"sendImage\",\n            value: function sendImage(uri, name, contentType, user) {\n                return this.getClient().sendFile(\"\".concat(this._channelURL(), \"/image\"), uri, name, contentType, user);\n            }\n        },\n        {\n            key: \"deleteFile\",\n            value: function deleteFile(url) {\n                return this.getClient().delete(\"\".concat(this._channelURL(), \"/file\"), {\n                    url: url\n                });\n            }\n        },\n        {\n            key: \"deleteImage\",\n            value: function deleteImage(url) {\n                return this.getClient().delete(\"\".concat(this._channelURL(), \"/image\"), {\n                    url: url\n                });\n            }\n        },\n        {\n            key: \"sendEvent\",\n            value: function() {\n                var _sendEvent = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3(event) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                        while(1){\n                            switch(_context3.prev = _context3.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context3.next = 3;\n                                    return this.getClient().post(this._channelURL() + \"/event\", {\n                                        event: event\n                                    });\n                                case 3:\n                                    return _context3.abrupt(\"return\", _context3.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context3.stop();\n                            }\n                        }\n                    }, _callee3, this);\n                }));\n                function sendEvent(_x4) {\n                    return _sendEvent.apply(this, arguments);\n                }\n                return sendEvent;\n            }()\n        },\n        {\n            key: \"search\",\n            value: function() {\n                var _search = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4(query) {\n                    var options, payload, _args4 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                        while(1){\n                            switch(_context4.prev = _context4.next){\n                                case 0:\n                                    options = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : {};\n                                    if (!(options.offset && options.next)) {\n                                        _context4.next = 3;\n                                        break;\n                                    }\n                                    throw Error(\"Cannot specify offset with next\");\n                                case 3:\n                                    // Return a list of channels\n                                    payload = _objectSpread$6(_objectSpread$6({\n                                        filter_conditions: {\n                                            cid: this.cid\n                                        }\n                                    }, options), {}, {\n                                        sort: options.sort ? normalizeQuerySort(options.sort) : undefined\n                                    });\n                                    if (!(typeof query === \"string\")) {\n                                        _context4.next = 8;\n                                        break;\n                                    }\n                                    payload.query = query;\n                                    _context4.next = 13;\n                                    break;\n                                case 8:\n                                    if (!(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query) === \"object\")) {\n                                        _context4.next = 12;\n                                        break;\n                                    }\n                                    payload.message_filter_conditions = query;\n                                    _context4.next = 13;\n                                    break;\n                                case 12:\n                                    throw Error(\"Invalid type \".concat(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query), \" for query parameter\"));\n                                case 13:\n                                    _context4.next = 15;\n                                    return this.getClient().wsPromise;\n                                case 15:\n                                    _context4.next = 17;\n                                    return this.getClient().get(this.getClient().baseURL + \"/search\", {\n                                        payload: payload\n                                    });\n                                case 17:\n                                    return _context4.abrupt(\"return\", _context4.sent);\n                                case 18:\n                                case \"end\":\n                                    return _context4.stop();\n                            }\n                        }\n                    }, _callee4, this);\n                }));\n                function search(_x5) {\n                    return _search.apply(this, arguments);\n                }\n                return search;\n            }()\n        },\n        {\n            key: \"queryMembers\",\n            value: function() {\n                var _queryMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5(filterConditions) {\n                    var _this$data;\n                    var sort, options, id, type, members, _args5 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                        while(1){\n                            switch(_context5.prev = _context5.next){\n                                case 0:\n                                    sort = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : [];\n                                    options = _args5.length > 2 && _args5[2] !== undefined ? _args5[2] : {};\n                                    type = this.type;\n                                    if (this.id) {\n                                        id = this.id;\n                                    } else if ((_this$data = this.data) !== null && _this$data !== void 0 && _this$data.members && Array.isArray(this.data.members)) {\n                                        members = this.data.members;\n                                    } // Return a list of members\n                                    _context5.next = 6;\n                                    return this.getClient().get(this.getClient().baseURL + \"/members\", {\n                                        payload: _objectSpread$6({\n                                            type: type,\n                                            id: id,\n                                            members: members,\n                                            sort: normalizeQuerySort(sort),\n                                            filter_conditions: filterConditions\n                                        }, options)\n                                    });\n                                case 6:\n                                    return _context5.abrupt(\"return\", _context5.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context5.stop();\n                            }\n                        }\n                    }, _callee5, this);\n                }));\n                function queryMembers(_x6) {\n                    return _queryMembers.apply(this, arguments);\n                }\n                return queryMembers;\n            }()\n        },\n        {\n            key: \"sendReaction\",\n            value: function() {\n                var _sendReaction = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6(messageID, reaction, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                        while(1){\n                            switch(_context6.prev = _context6.next){\n                                case 0:\n                                    if (messageID) {\n                                        _context6.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Message id is missing\");\n                                case 2:\n                                    if (!(!reaction || Object.keys(reaction).length === 0)) {\n                                        _context6.next = 4;\n                                        break;\n                                    }\n                                    throw Error(\"Reaction object is missing\");\n                                case 4:\n                                    _context6.next = 6;\n                                    return this.getClient().post(this.getClient().baseURL + \"/messages/\".concat(messageID, \"/reaction\"), _objectSpread$6({\n                                        reaction: reaction\n                                    }, options));\n                                case 6:\n                                    return _context6.abrupt(\"return\", _context6.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context6.stop();\n                            }\n                        }\n                    }, _callee6, this);\n                }));\n                function sendReaction(_x7, _x8, _x9) {\n                    return _sendReaction.apply(this, arguments);\n                }\n                return sendReaction;\n            }()\n        },\n        {\n            key: \"deleteReaction\",\n            value: function deleteReaction(messageID, reactionType, user_id) {\n                this._checkInitialized();\n                if (!reactionType || !messageID) {\n                    throw Error(\"Deleting a reaction requires specifying both the message and reaction type\");\n                }\n                var url = this.getClient().baseURL + \"/messages/\".concat(messageID, \"/reaction/\").concat(reactionType); //provided when server side request\n                if (user_id) {\n                    return this.getClient().delete(url, {\n                        user_id: user_id\n                    });\n                }\n                return this.getClient().delete(url, {});\n            }\n        },\n        {\n            key: \"update\",\n            value: function() {\n                var _update2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee7() {\n                    var channelData, updateMessage, options, reserved, _args7 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee7$(_context7) {\n                        while(1){\n                            switch(_context7.prev = _context7.next){\n                                case 0:\n                                    channelData = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : {};\n                                    updateMessage = _args7.length > 1 ? _args7[1] : undefined;\n                                    options = _args7.length > 2 ? _args7[2] : undefined;\n                                    // Strip out reserved names that will result in API errors.\n                                    reserved = [\n                                        \"config\",\n                                        \"cid\",\n                                        \"created_by\",\n                                        \"id\",\n                                        \"member_count\",\n                                        \"type\",\n                                        \"created_at\",\n                                        \"updated_at\",\n                                        \"last_message_at\",\n                                        \"own_capabilities\"\n                                    ];\n                                    reserved.forEach(function(key) {\n                                        delete channelData[key];\n                                    });\n                                    _context7.next = 7;\n                                    return this._update(_objectSpread$6({\n                                        message: updateMessage,\n                                        data: channelData\n                                    }, options));\n                                case 7:\n                                    return _context7.abrupt(\"return\", _context7.sent);\n                                case 8:\n                                case \"end\":\n                                    return _context7.stop();\n                            }\n                        }\n                    }, _callee7, this);\n                }));\n                function update() {\n                    return _update2.apply(this, arguments);\n                }\n                return update;\n            }()\n        },\n        {\n            key: \"updatePartial\",\n            value: function() {\n                var _updatePartial = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee8(update) {\n                    var _this$data2, _this$data3;\n                    var data, areCapabilitiesChanged;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee8$(_context8) {\n                        while(1){\n                            switch(_context8.prev = _context8.next){\n                                case 0:\n                                    _context8.next = 2;\n                                    return this.getClient().patch(this._channelURL(), update);\n                                case 2:\n                                    data = _context8.sent;\n                                    areCapabilitiesChanged = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(data.channel.own_capabilities || []).sort().join() !== _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(Array.isArray((_this$data2 = this.data) === null || _this$data2 === void 0 ? void 0 : _this$data2.own_capabilities) ? (_this$data3 = this.data) === null || _this$data3 === void 0 ? void 0 : _this$data3.own_capabilities : []).sort().join();\n                                    this.data = data.channel; // If the capabiltities are changed, we trigger the `capabilities.changed` event.\n                                    if (areCapabilitiesChanged) {\n                                        this.getClient().dispatchEvent({\n                                            type: \"capabilities.changed\",\n                                            cid: this.cid,\n                                            own_capabilities: data.channel.own_capabilities\n                                        });\n                                    }\n                                    return _context8.abrupt(\"return\", data);\n                                case 7:\n                                case \"end\":\n                                    return _context8.stop();\n                            }\n                        }\n                    }, _callee8, this);\n                }));\n                function updatePartial(_x10) {\n                    return _updatePartial.apply(this, arguments);\n                }\n                return updatePartial;\n            }()\n        },\n        {\n            key: \"enableSlowMode\",\n            value: function() {\n                var _enableSlowMode = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee9(coolDownInterval) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee9$(_context9) {\n                        while(1){\n                            switch(_context9.prev = _context9.next){\n                                case 0:\n                                    _context9.next = 2;\n                                    return this.getClient().post(this._channelURL(), {\n                                        cooldown: coolDownInterval\n                                    });\n                                case 2:\n                                    data = _context9.sent;\n                                    this.data = data.channel;\n                                    return _context9.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context9.stop();\n                            }\n                        }\n                    }, _callee9, this);\n                }));\n                function enableSlowMode(_x11) {\n                    return _enableSlowMode.apply(this, arguments);\n                }\n                return enableSlowMode;\n            }()\n        },\n        {\n            key: \"disableSlowMode\",\n            value: function() {\n                var _disableSlowMode = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee10() {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee10$(_context10) {\n                        while(1){\n                            switch(_context10.prev = _context10.next){\n                                case 0:\n                                    _context10.next = 2;\n                                    return this.getClient().post(this._channelURL(), {\n                                        cooldown: 0\n                                    });\n                                case 2:\n                                    data = _context10.sent;\n                                    this.data = data.channel;\n                                    return _context10.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context10.stop();\n                            }\n                        }\n                    }, _callee10, this);\n                }));\n                function disableSlowMode() {\n                    return _disableSlowMode.apply(this, arguments);\n                }\n                return disableSlowMode;\n            }()\n        },\n        {\n            key: \"delete\",\n            value: function() {\n                var _delete2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee11() {\n                    var options, _args11 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee11$(_context11) {\n                        while(1){\n                            switch(_context11.prev = _context11.next){\n                                case 0:\n                                    options = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : {};\n                                    _context11.next = 3;\n                                    return this.getClient().delete(this._channelURL(), _objectSpread$6({}, options));\n                                case 3:\n                                    return _context11.abrupt(\"return\", _context11.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context11.stop();\n                            }\n                        }\n                    }, _callee11, this);\n                }));\n                function _delete() {\n                    return _delete2.apply(this, arguments);\n                }\n                return _delete;\n            }()\n        },\n        {\n            key: \"truncate\",\n            value: function() {\n                var _truncate = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee12() {\n                    var options, _args12 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee12$(_context12) {\n                        while(1){\n                            switch(_context12.prev = _context12.next){\n                                case 0:\n                                    options = _args12.length > 0 && _args12[0] !== undefined ? _args12[0] : {};\n                                    _context12.next = 3;\n                                    return this.getClient().post(this._channelURL() + \"/truncate\", options);\n                                case 3:\n                                    return _context12.abrupt(\"return\", _context12.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context12.stop();\n                            }\n                        }\n                    }, _callee12, this);\n                }));\n                function truncate() {\n                    return _truncate.apply(this, arguments);\n                }\n                return truncate;\n            }()\n        },\n        {\n            key: \"acceptInvite\",\n            value: function() {\n                var _acceptInvite = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee13() {\n                    var options, _args13 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee13$(_context13) {\n                        while(1){\n                            switch(_context13.prev = _context13.next){\n                                case 0:\n                                    options = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : {};\n                                    _context13.next = 3;\n                                    return this._update(_objectSpread$6({\n                                        accept_invite: true\n                                    }, options));\n                                case 3:\n                                    return _context13.abrupt(\"return\", _context13.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context13.stop();\n                            }\n                        }\n                    }, _callee13, this);\n                }));\n                function acceptInvite() {\n                    return _acceptInvite.apply(this, arguments);\n                }\n                return acceptInvite;\n            }()\n        },\n        {\n            key: \"rejectInvite\",\n            value: function() {\n                var _rejectInvite = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee14() {\n                    var options, _args14 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee14$(_context14) {\n                        while(1){\n                            switch(_context14.prev = _context14.next){\n                                case 0:\n                                    options = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {};\n                                    _context14.next = 3;\n                                    return this._update(_objectSpread$6({\n                                        reject_invite: true\n                                    }, options));\n                                case 3:\n                                    return _context14.abrupt(\"return\", _context14.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context14.stop();\n                            }\n                        }\n                    }, _callee14, this);\n                }));\n                function rejectInvite() {\n                    return _rejectInvite.apply(this, arguments);\n                }\n                return rejectInvite;\n            }()\n        },\n        {\n            key: \"addMembers\",\n            value: function() {\n                var _addMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee15(members, message) {\n                    var options, _args15 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee15$(_context15) {\n                        while(1){\n                            switch(_context15.prev = _context15.next){\n                                case 0:\n                                    options = _args15.length > 2 && _args15[2] !== undefined ? _args15[2] : {};\n                                    _context15.next = 3;\n                                    return this._update(_objectSpread$6({\n                                        add_members: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context15.abrupt(\"return\", _context15.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context15.stop();\n                            }\n                        }\n                    }, _callee15, this);\n                }));\n                function addMembers(_x12, _x13) {\n                    return _addMembers.apply(this, arguments);\n                }\n                return addMembers;\n            }()\n        },\n        {\n            key: \"addModerators\",\n            value: function() {\n                var _addModerators = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee16(members, message) {\n                    var options, _args16 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee16$(_context16) {\n                        while(1){\n                            switch(_context16.prev = _context16.next){\n                                case 0:\n                                    options = _args16.length > 2 && _args16[2] !== undefined ? _args16[2] : {};\n                                    _context16.next = 3;\n                                    return this._update(_objectSpread$6({\n                                        add_moderators: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context16.stop();\n                            }\n                        }\n                    }, _callee16, this);\n                }));\n                function addModerators(_x14, _x15) {\n                    return _addModerators.apply(this, arguments);\n                }\n                return addModerators;\n            }()\n        },\n        {\n            key: \"assignRoles\",\n            value: function() {\n                var _assignRoles = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee17(roles, message) {\n                    var options, _args17 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee17$(_context17) {\n                        while(1){\n                            switch(_context17.prev = _context17.next){\n                                case 0:\n                                    options = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : {};\n                                    _context17.next = 3;\n                                    return this._update(_objectSpread$6({\n                                        assign_roles: roles,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context17.abrupt(\"return\", _context17.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context17.stop();\n                            }\n                        }\n                    }, _callee17, this);\n                }));\n                function assignRoles(_x16, _x17) {\n                    return _assignRoles.apply(this, arguments);\n                }\n                return assignRoles;\n            }()\n        },\n        {\n            key: \"inviteMembers\",\n            value: function() {\n                var _inviteMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee18(members, message) {\n                    var options, _args18 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee18$(_context18) {\n                        while(1){\n                            switch(_context18.prev = _context18.next){\n                                case 0:\n                                    options = _args18.length > 2 && _args18[2] !== undefined ? _args18[2] : {};\n                                    _context18.next = 3;\n                                    return this._update(_objectSpread$6({\n                                        invites: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context18.abrupt(\"return\", _context18.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context18.stop();\n                            }\n                        }\n                    }, _callee18, this);\n                }));\n                function inviteMembers(_x18, _x19) {\n                    return _inviteMembers.apply(this, arguments);\n                }\n                return inviteMembers;\n            }()\n        },\n        {\n            key: \"removeMembers\",\n            value: function() {\n                var _removeMembers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee19(members, message) {\n                    var options, _args19 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee19$(_context19) {\n                        while(1){\n                            switch(_context19.prev = _context19.next){\n                                case 0:\n                                    options = _args19.length > 2 && _args19[2] !== undefined ? _args19[2] : {};\n                                    _context19.next = 3;\n                                    return this._update(_objectSpread$6({\n                                        remove_members: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context19.abrupt(\"return\", _context19.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context19.stop();\n                            }\n                        }\n                    }, _callee19, this);\n                }));\n                function removeMembers(_x20, _x21) {\n                    return _removeMembers.apply(this, arguments);\n                }\n                return removeMembers;\n            }()\n        },\n        {\n            key: \"demoteModerators\",\n            value: function() {\n                var _demoteModerators = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee20(members, message) {\n                    var options, _args20 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee20$(_context20) {\n                        while(1){\n                            switch(_context20.prev = _context20.next){\n                                case 0:\n                                    options = _args20.length > 2 && _args20[2] !== undefined ? _args20[2] : {};\n                                    _context20.next = 3;\n                                    return this._update(_objectSpread$6({\n                                        demote_moderators: members,\n                                        message: message\n                                    }, options));\n                                case 3:\n                                    return _context20.abrupt(\"return\", _context20.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context20.stop();\n                            }\n                        }\n                    }, _callee20, this);\n                }));\n                function demoteModerators(_x22, _x23) {\n                    return _demoteModerators.apply(this, arguments);\n                }\n                return demoteModerators;\n            }()\n        },\n        {\n            key: \"_update\",\n            value: function() {\n                var _update3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee21(payload) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee21$(_context21) {\n                        while(1){\n                            switch(_context21.prev = _context21.next){\n                                case 0:\n                                    _context21.next = 2;\n                                    return this.getClient().post(this._channelURL(), payload);\n                                case 2:\n                                    data = _context21.sent;\n                                    this.data = data.channel;\n                                    return _context21.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context21.stop();\n                            }\n                        }\n                    }, _callee21, this);\n                }));\n                function _update(_x24) {\n                    return _update3.apply(this, arguments);\n                }\n                return _update;\n            }()\n        },\n        {\n            key: \"mute\",\n            value: function() {\n                var _mute = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee22() {\n                    var opts, _args22 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee22$(_context22) {\n                        while(1){\n                            switch(_context22.prev = _context22.next){\n                                case 0:\n                                    opts = _args22.length > 0 && _args22[0] !== undefined ? _args22[0] : {};\n                                    _context22.next = 3;\n                                    return this.getClient().post(this.getClient().baseURL + \"/moderation/mute/channel\", _objectSpread$6({\n                                        channel_cid: this.cid\n                                    }, opts));\n                                case 3:\n                                    return _context22.abrupt(\"return\", _context22.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context22.stop();\n                            }\n                        }\n                    }, _callee22, this);\n                }));\n                function mute() {\n                    return _mute.apply(this, arguments);\n                }\n                return mute;\n            }()\n        },\n        {\n            key: \"unmute\",\n            value: function() {\n                var _unmute = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee23() {\n                    var opts, _args23 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee23$(_context23) {\n                        while(1){\n                            switch(_context23.prev = _context23.next){\n                                case 0:\n                                    opts = _args23.length > 0 && _args23[0] !== undefined ? _args23[0] : {};\n                                    _context23.next = 3;\n                                    return this.getClient().post(this.getClient().baseURL + \"/moderation/unmute/channel\", _objectSpread$6({\n                                        channel_cid: this.cid\n                                    }, opts));\n                                case 3:\n                                    return _context23.abrupt(\"return\", _context23.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context23.stop();\n                            }\n                        }\n                    }, _callee23, this);\n                }));\n                function unmute() {\n                    return _unmute.apply(this, arguments);\n                }\n                return unmute;\n            }()\n        },\n        {\n            key: \"muteStatus\",\n            value: function muteStatus() {\n                this._checkInitialized();\n                return this.getClient()._muteStatus(this.cid);\n            }\n        },\n        {\n            key: \"sendAction\",\n            value: function sendAction(messageID, formData) {\n                this._checkInitialized();\n                if (!messageID) {\n                    throw Error(\"Message id is missing\");\n                }\n                return this.getClient().post(this.getClient().baseURL + \"/messages/\".concat(messageID, \"/action\"), {\n                    message_id: messageID,\n                    form_data: formData,\n                    id: this.id,\n                    type: this.type\n                });\n            }\n        },\n        {\n            key: \"keystroke\",\n            value: function() {\n                var _keystroke = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee24(parent_id, options) {\n                    var _this$getConfig;\n                    var now, diff;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee24$(_context24) {\n                        while(1){\n                            switch(_context24.prev = _context24.next){\n                                case 0:\n                                    if ((_this$getConfig = this.getConfig()) !== null && _this$getConfig !== void 0 && _this$getConfig.typing_events) {\n                                        _context24.next = 2;\n                                        break;\n                                    }\n                                    return _context24.abrupt(\"return\");\n                                case 2:\n                                    now = new Date();\n                                    diff = this.lastTypingEvent && now.getTime() - this.lastTypingEvent.getTime();\n                                    this.lastKeyStroke = now;\n                                    this.isTyping = true; // send a typing.start every 2 seconds\n                                    if (!(diff === null || diff > 2000)) {\n                                        _context24.next = 10;\n                                        break;\n                                    }\n                                    this.lastTypingEvent = new Date();\n                                    _context24.next = 10;\n                                    return this.sendEvent(_objectSpread$6({\n                                        type: \"typing.start\",\n                                        parent_id: parent_id\n                                    }, options || {}));\n                                case 10:\n                                case \"end\":\n                                    return _context24.stop();\n                            }\n                        }\n                    }, _callee24, this);\n                }));\n                function keystroke(_x25, _x26) {\n                    return _keystroke.apply(this, arguments);\n                }\n                return keystroke;\n            }()\n        },\n        {\n            key: \"stopTyping\",\n            value: function() {\n                var _stopTyping = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee25(parent_id, options) {\n                    var _this$getConfig2;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee25$(_context25) {\n                        while(1){\n                            switch(_context25.prev = _context25.next){\n                                case 0:\n                                    if ((_this$getConfig2 = this.getConfig()) !== null && _this$getConfig2 !== void 0 && _this$getConfig2.typing_events) {\n                                        _context25.next = 2;\n                                        break;\n                                    }\n                                    return _context25.abrupt(\"return\");\n                                case 2:\n                                    this.lastTypingEvent = null;\n                                    this.isTyping = false;\n                                    _context25.next = 6;\n                                    return this.sendEvent(_objectSpread$6({\n                                        type: \"typing.stop\",\n                                        parent_id: parent_id\n                                    }, options || {}));\n                                case 6:\n                                case \"end\":\n                                    return _context25.stop();\n                            }\n                        }\n                    }, _callee25, this);\n                }));\n                function stopTyping(_x27, _x28) {\n                    return _stopTyping.apply(this, arguments);\n                }\n                return stopTyping;\n            }()\n        },\n        {\n            key: \"lastMessage\",\n            value: function lastMessage() {\n                // get last 5 messages, sort, return the latest\n                // get a slice of the last 5\n                var min = this.state.latestMessages.length - 5;\n                if (min < 0) {\n                    min = 0;\n                }\n                var max = this.state.latestMessages.length + 1;\n                var messageSlice = this.state.latestMessages.slice(min, max); // sort by pk desc\n                messageSlice.sort(function(a, b) {\n                    return b.created_at.getTime() - a.created_at.getTime();\n                });\n                return messageSlice[0];\n            }\n        },\n        {\n            key: \"markRead\",\n            value: function() {\n                var _markRead = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee26() {\n                    var _this$getConfig3;\n                    var data, _args26 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee26$(_context26) {\n                        while(1){\n                            switch(_context26.prev = _context26.next){\n                                case 0:\n                                    data = _args26.length > 0 && _args26[0] !== undefined ? _args26[0] : {};\n                                    this._checkInitialized();\n                                    if (!(!((_this$getConfig3 = this.getConfig()) !== null && _this$getConfig3 !== void 0 && _this$getConfig3.read_events) && !this.getClient()._isUsingServerAuth())) {\n                                        _context26.next = 4;\n                                        break;\n                                    }\n                                    return _context26.abrupt(\"return\", Promise.resolve(null));\n                                case 4:\n                                    _context26.next = 6;\n                                    return this.getClient().post(this._channelURL() + \"/read\", _objectSpread$6({}, data));\n                                case 6:\n                                    return _context26.abrupt(\"return\", _context26.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context26.stop();\n                            }\n                        }\n                    }, _callee26, this);\n                }));\n                function markRead() {\n                    return _markRead.apply(this, arguments);\n                }\n                return markRead;\n            }()\n        },\n        {\n            key: \"markUnread\",\n            value: function() {\n                var _markUnread = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee27(data) {\n                    var _this$getConfig4;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee27$(_context27) {\n                        while(1){\n                            switch(_context27.prev = _context27.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    if (!(!((_this$getConfig4 = this.getConfig()) !== null && _this$getConfig4 !== void 0 && _this$getConfig4.read_events) && !this.getClient()._isUsingServerAuth())) {\n                                        _context27.next = 3;\n                                        break;\n                                    }\n                                    return _context27.abrupt(\"return\", Promise.resolve(null));\n                                case 3:\n                                    _context27.next = 5;\n                                    return this.getClient().post(this._channelURL() + \"/unread\", _objectSpread$6({}, data));\n                                case 5:\n                                    return _context27.abrupt(\"return\", _context27.sent);\n                                case 6:\n                                case \"end\":\n                                    return _context27.stop();\n                            }\n                        }\n                    }, _callee27, this);\n                }));\n                function markUnread(_x29) {\n                    return _markUnread.apply(this, arguments);\n                }\n                return markUnread;\n            }()\n        },\n        {\n            key: \"clean\",\n            value: function clean() {\n                if (this.lastKeyStroke) {\n                    var now = new Date();\n                    var diff = now.getTime() - this.lastKeyStroke.getTime();\n                    if (diff > 1000 && this.isTyping) {\n                        logChatPromiseExecution(this.stopTyping(), \"stop typing event\");\n                    }\n                }\n                this.state.clean();\n            }\n        },\n        {\n            key: \"watch\",\n            value: function() {\n                var _watch = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee28(options) {\n                    var defaultOptions, combined, state;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee28$(_context28) {\n                        while(1){\n                            switch(_context28.prev = _context28.next){\n                                case 0:\n                                    defaultOptions = {\n                                        state: true,\n                                        watch: true,\n                                        presence: false\n                                    }; // Make sure we wait for the connect promise if there is a pending one\n                                    _context28.next = 3;\n                                    return this.getClient().wsPromise;\n                                case 3:\n                                    if (!this.getClient()._hasConnectionID()) {\n                                        defaultOptions.watch = false;\n                                    }\n                                    combined = _objectSpread$6(_objectSpread$6({}, defaultOptions), options);\n                                    _context28.next = 7;\n                                    return this.query(combined, \"latest\");\n                                case 7:\n                                    state = _context28.sent;\n                                    this.initialized = true;\n                                    this.data = state.channel;\n                                    this._client.logger(\"info\", \"channel:watch() - started watching channel \".concat(this.cid), {\n                                        tags: [\n                                            \"channel\"\n                                        ],\n                                        channel: this\n                                    });\n                                    return _context28.abrupt(\"return\", state);\n                                case 12:\n                                case \"end\":\n                                    return _context28.stop();\n                            }\n                        }\n                    }, _callee28, this);\n                }));\n                function watch(_x30) {\n                    return _watch.apply(this, arguments);\n                }\n                return watch;\n            }()\n        },\n        {\n            key: \"stopWatching\",\n            value: function() {\n                var _stopWatching = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee29() {\n                    var response;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee29$(_context29) {\n                        while(1){\n                            switch(_context29.prev = _context29.next){\n                                case 0:\n                                    _context29.next = 2;\n                                    return this.getClient().post(this._channelURL() + \"/stop-watching\", {});\n                                case 2:\n                                    response = _context29.sent;\n                                    this._client.logger(\"info\", \"channel:watch() - stopped watching channel \".concat(this.cid), {\n                                        tags: [\n                                            \"channel\"\n                                        ],\n                                        channel: this\n                                    });\n                                    return _context29.abrupt(\"return\", response);\n                                case 5:\n                                case \"end\":\n                                    return _context29.stop();\n                            }\n                        }\n                    }, _callee29, this);\n                }));\n                function stopWatching() {\n                    return _stopWatching.apply(this, arguments);\n                }\n                return stopWatching;\n            }()\n        },\n        {\n            key: \"getReplies\",\n            value: function() {\n                var _getReplies = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee30(parent_id, options) {\n                    var data;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee30$(_context30) {\n                        while(1){\n                            switch(_context30.prev = _context30.next){\n                                case 0:\n                                    _context30.next = 2;\n                                    return this.getClient().get(this.getClient().baseURL + \"/messages/\".concat(parent_id, \"/replies\"), _objectSpread$6({}, options));\n                                case 2:\n                                    data = _context30.sent;\n                                    // add any messages to our thread state\n                                    if (data.messages) {\n                                        this.state.addMessagesSorted(data.messages);\n                                    }\n                                    return _context30.abrupt(\"return\", data);\n                                case 5:\n                                case \"end\":\n                                    return _context30.stop();\n                            }\n                        }\n                    }, _callee30, this);\n                }));\n                function getReplies(_x31, _x32) {\n                    return _getReplies.apply(this, arguments);\n                }\n                return getReplies;\n            }()\n        },\n        {\n            key: \"getPinnedMessages\",\n            value: function() {\n                var _getPinnedMessages = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee31(options) {\n                    var sort, _args31 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee31$(_context31) {\n                        while(1){\n                            switch(_context31.prev = _context31.next){\n                                case 0:\n                                    sort = _args31.length > 1 && _args31[1] !== undefined ? _args31[1] : [];\n                                    _context31.next = 3;\n                                    return this.getClient().get(this.getClient().baseURL + \"/channels/\".concat(this.type, \"/\").concat(this.id, \"/pinned_messages\"), {\n                                        payload: _objectSpread$6(_objectSpread$6({}, options), {}, {\n                                            sort: normalizeQuerySort(sort)\n                                        })\n                                    });\n                                case 3:\n                                    return _context31.abrupt(\"return\", _context31.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context31.stop();\n                            }\n                        }\n                    }, _callee31, this);\n                }));\n                function getPinnedMessages(_x33) {\n                    return _getPinnedMessages.apply(this, arguments);\n                }\n                return getPinnedMessages;\n            }()\n        },\n        {\n            key: \"getReactions\",\n            value: function getReactions(message_id, options) {\n                return this.getClient().get(this.getClient().baseURL + \"/messages/\".concat(message_id, \"/reactions\"), _objectSpread$6({}, options));\n            }\n        },\n        {\n            key: \"getMessagesById\",\n            value: function getMessagesById(messageIds) {\n                return this.getClient().get(this._channelURL() + \"/messages\", {\n                    ids: messageIds.join(\",\")\n                });\n            }\n        },\n        {\n            key: \"lastRead\",\n            value: function lastRead() {\n                var _this$getClient = this.getClient(), userID = _this$getClient.userID;\n                if (userID) {\n                    return this.state.read[userID] ? this.state.read[userID].last_read : null;\n                }\n            }\n        },\n        {\n            key: \"_countMessageAsUnread\",\n            value: function _countMessageAsUnread(message) {\n                var _message$user, _message$user2, _this$data4, _this$data5;\n                if (message.shadowed) return false;\n                if (message.silent) return false;\n                if (message.parent_id && !message.show_in_channel) return false;\n                if (((_message$user = message.user) === null || _message$user === void 0 ? void 0 : _message$user.id) === this.getClient().userID) return false;\n                if ((_message$user2 = message.user) !== null && _message$user2 !== void 0 && _message$user2.id && this.getClient().userMuteStatus(message.user.id)) return false;\n                if (message.type === \"system\") return false; // Return false if channel doesn't allow read events.\n                if (Array.isArray((_this$data4 = this.data) === null || _this$data4 === void 0 ? void 0 : _this$data4.own_capabilities) && !((_this$data5 = this.data) !== null && _this$data5 !== void 0 && _this$data5.own_capabilities.includes(\"read-events\"))) return false; // FIXME: see #1265, adjust and count new messages even when the channel is muted\n                if (this.muteStatus().muted) return false;\n                return true;\n            }\n        },\n        {\n            key: \"countUnread\",\n            value: function countUnread(lastRead) {\n                if (!lastRead) return this.state.unreadCount;\n                var count = 0;\n                for(var i = 0; i < this.state.latestMessages.length; i += 1){\n                    var message = this.state.latestMessages[i];\n                    if (message.created_at > lastRead && this._countMessageAsUnread(message)) {\n                        count++;\n                    }\n                }\n                return count;\n            }\n        },\n        {\n            key: \"countUnreadMentions\",\n            value: function countUnreadMentions() {\n                var lastRead = this.lastRead();\n                var userID = this.getClient().userID;\n                var count = 0;\n                for(var i = 0; i < this.state.latestMessages.length; i += 1){\n                    var _message$mentioned_us;\n                    var message = this.state.latestMessages[i];\n                    if (this._countMessageAsUnread(message) && (!lastRead || message.created_at > lastRead) && (_message$mentioned_us = message.mentioned_users) !== null && _message$mentioned_us !== void 0 && _message$mentioned_us.some(function(user) {\n                        return user.id === userID;\n                    })) {\n                        count++;\n                    }\n                }\n                return count;\n            }\n        },\n        {\n            key: \"query\",\n            value: /**\n     * query - Query the API, get messages, members or other channel fields\n     *\n     * @param {ChannelQueryOptions<StreamChatGenerics>} options The query options\n     * @param {MessageSetType} messageSetToAddToIfDoesNotExist It's possible to load disjunct sets of a channel's messages into state, use `current` to load the initial channel state or if you want to extend the currently displayed messages, use `latest` if you want to load/extend the latest messages, `new` is used for loading a specific message and it's surroundings\n     *\n     * @return {Promise<QueryChannelAPIResponse<StreamChatGenerics>>} Returns a query response\n     */ function() {\n                var _query = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee32(options) {\n                    var _this$data6, _this$data7;\n                    var messageSetToAddToIfDoesNotExist, queryURL, state, membersStr, tempChannelCid, _this$_initializeStat, messageSet, areCapabilitiesChanged, _args32 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee32$(_context32) {\n                        while(1){\n                            switch(_context32.prev = _context32.next){\n                                case 0:\n                                    messageSetToAddToIfDoesNotExist = _args32.length > 1 && _args32[1] !== undefined ? _args32[1] : \"current\";\n                                    _context32.next = 3;\n                                    return this.getClient().wsPromise;\n                                case 3:\n                                    queryURL = \"\".concat(this.getClient().baseURL, \"/channels/\").concat(this.type);\n                                    if (this.id) {\n                                        queryURL += \"/\".concat(this.id);\n                                    }\n                                    _context32.next = 7;\n                                    return this.getClient().post(queryURL + \"/query\", _objectSpread$6({\n                                        data: this._data,\n                                        state: true\n                                    }, options));\n                                case 7:\n                                    state = _context32.sent;\n                                    // update the channel id if it was missing\n                                    if (!this.id) {\n                                        this.id = state.channel.id;\n                                        this.cid = state.channel.cid; // set the channel as active...\n                                        membersStr = state.members.map(function(member) {\n                                            var _member$user;\n                                            return member.user_id || ((_member$user = member.user) === null || _member$user === void 0 ? void 0 : _member$user.id);\n                                        }).sort().join(\",\");\n                                        tempChannelCid = \"\".concat(this.type, \":!members-\").concat(membersStr);\n                                        if (tempChannelCid in this.getClient().activeChannels) {\n                                            // This gets set in `client.channel()` function, when channel is created\n                                            // using members, not id.\n                                            delete this.getClient().activeChannels[tempChannelCid];\n                                        }\n                                        if (!(this.cid in this.getClient().activeChannels)) {\n                                            this.getClient().activeChannels[this.cid] = this;\n                                        }\n                                    }\n                                    this.getClient()._addChannelConfig(state.channel); // add any messages to our channel state\n                                    _this$_initializeStat = this._initializeState(state, messageSetToAddToIfDoesNotExist), messageSet = _this$_initializeStat.messageSet;\n                                    areCapabilitiesChanged = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(state.channel.own_capabilities || []).sort().join() !== _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(Array.isArray((_this$data6 = this.data) === null || _this$data6 === void 0 ? void 0 : _this$data6.own_capabilities) ? (_this$data7 = this.data) === null || _this$data7 === void 0 ? void 0 : _this$data7.own_capabilities : []).sort().join();\n                                    this.data = state.channel;\n                                    this.offlineMode = false;\n                                    if (areCapabilitiesChanged) {\n                                        this.getClient().dispatchEvent({\n                                            type: \"capabilities.changed\",\n                                            cid: this.cid,\n                                            own_capabilities: state.channel.own_capabilities\n                                        });\n                                    }\n                                    this.getClient().dispatchEvent({\n                                        type: \"channels.queried\",\n                                        queriedChannels: {\n                                            channels: [\n                                                state\n                                            ],\n                                            isLatestMessageSet: messageSet.isLatest\n                                        }\n                                    });\n                                    return _context32.abrupt(\"return\", state);\n                                case 17:\n                                case \"end\":\n                                    return _context32.stop();\n                            }\n                        }\n                    }, _callee32, this);\n                }));\n                function query(_x34) {\n                    return _query.apply(this, arguments);\n                }\n                return query;\n            }()\n        },\n        {\n            key: \"banUser\",\n            value: function() {\n                var _banUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee33(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee33$(_context33) {\n                        while(1){\n                            switch(_context33.prev = _context33.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context33.next = 3;\n                                    return this.getClient().banUser(targetUserID, _objectSpread$6(_objectSpread$6({}, options), {}, {\n                                        type: this.type,\n                                        id: this.id\n                                    }));\n                                case 3:\n                                    return _context33.abrupt(\"return\", _context33.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context33.stop();\n                            }\n                        }\n                    }, _callee33, this);\n                }));\n                function banUser(_x35, _x36) {\n                    return _banUser.apply(this, arguments);\n                }\n                return banUser;\n            }()\n        },\n        {\n            key: \"hide\",\n            value: function() {\n                var _hide = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee34() {\n                    var userId, clearHistory, _args34 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee34$(_context34) {\n                        while(1){\n                            switch(_context34.prev = _context34.next){\n                                case 0:\n                                    userId = _args34.length > 0 && _args34[0] !== undefined ? _args34[0] : null;\n                                    clearHistory = _args34.length > 1 && _args34[1] !== undefined ? _args34[1] : false;\n                                    this._checkInitialized();\n                                    _context34.next = 5;\n                                    return this.getClient().post(\"\".concat(this._channelURL(), \"/hide\"), {\n                                        user_id: userId,\n                                        clear_history: clearHistory\n                                    });\n                                case 5:\n                                    return _context34.abrupt(\"return\", _context34.sent);\n                                case 6:\n                                case \"end\":\n                                    return _context34.stop();\n                            }\n                        }\n                    }, _callee34, this);\n                }));\n                function hide() {\n                    return _hide.apply(this, arguments);\n                }\n                return hide;\n            }()\n        },\n        {\n            key: \"show\",\n            value: function() {\n                var _show = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee35() {\n                    var userId, _args35 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee35$(_context35) {\n                        while(1){\n                            switch(_context35.prev = _context35.next){\n                                case 0:\n                                    userId = _args35.length > 0 && _args35[0] !== undefined ? _args35[0] : null;\n                                    this._checkInitialized();\n                                    _context35.next = 4;\n                                    return this.getClient().post(\"\".concat(this._channelURL(), \"/show\"), {\n                                        user_id: userId\n                                    });\n                                case 4:\n                                    return _context35.abrupt(\"return\", _context35.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context35.stop();\n                            }\n                        }\n                    }, _callee35, this);\n                }));\n                function show() {\n                    return _show.apply(this, arguments);\n                }\n                return show;\n            }()\n        },\n        {\n            key: \"unbanUser\",\n            value: function() {\n                var _unbanUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee36(targetUserID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee36$(_context36) {\n                        while(1){\n                            switch(_context36.prev = _context36.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context36.next = 3;\n                                    return this.getClient().unbanUser(targetUserID, {\n                                        type: this.type,\n                                        id: this.id\n                                    });\n                                case 3:\n                                    return _context36.abrupt(\"return\", _context36.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context36.stop();\n                            }\n                        }\n                    }, _callee36, this);\n                }));\n                function unbanUser(_x37) {\n                    return _unbanUser.apply(this, arguments);\n                }\n                return unbanUser;\n            }()\n        },\n        {\n            key: \"shadowBan\",\n            value: function() {\n                var _shadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee37(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee37$(_context37) {\n                        while(1){\n                            switch(_context37.prev = _context37.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context37.next = 3;\n                                    return this.getClient().shadowBan(targetUserID, _objectSpread$6(_objectSpread$6({}, options), {}, {\n                                        type: this.type,\n                                        id: this.id\n                                    }));\n                                case 3:\n                                    return _context37.abrupt(\"return\", _context37.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context37.stop();\n                            }\n                        }\n                    }, _callee37, this);\n                }));\n                function shadowBan(_x38, _x39) {\n                    return _shadowBan.apply(this, arguments);\n                }\n                return shadowBan;\n            }()\n        },\n        {\n            key: \"removeShadowBan\",\n            value: function() {\n                var _removeShadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee38(targetUserID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee38$(_context38) {\n                        while(1){\n                            switch(_context38.prev = _context38.next){\n                                case 0:\n                                    this._checkInitialized();\n                                    _context38.next = 3;\n                                    return this.getClient().removeShadowBan(targetUserID, {\n                                        type: this.type,\n                                        id: this.id\n                                    });\n                                case 3:\n                                    return _context38.abrupt(\"return\", _context38.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context38.stop();\n                            }\n                        }\n                    }, _callee38, this);\n                }));\n                function removeShadowBan(_x40) {\n                    return _removeShadowBan.apply(this, arguments);\n                }\n                return removeShadowBan;\n            }()\n        },\n        {\n            key: \"createCall\",\n            value: function() {\n                var _createCall = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee39(options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee39$(_context39) {\n                        while(1){\n                            switch(_context39.prev = _context39.next){\n                                case 0:\n                                    _context39.next = 2;\n                                    return this.getClient().post(this._channelURL() + \"/call\", options);\n                                case 2:\n                                    return _context39.abrupt(\"return\", _context39.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context39.stop();\n                            }\n                        }\n                    }, _callee39, this);\n                }));\n                function createCall(_x41) {\n                    return _createCall.apply(this, arguments);\n                }\n                return createCall;\n            }()\n        },\n        {\n            key: \"on\",\n            value: function on(callbackOrString, callbackOrNothing) {\n                var _this2 = this;\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this._client.logger(\"info\", \"Attaching listener for \".concat(key, \" event on channel \").concat(this.cid), {\n                    tags: [\n                        \"event\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                this.listeners[key].push(callback);\n                return {\n                    unsubscribe: function unsubscribe() {\n                        _this2._client.logger(\"info\", \"Removing listener for \".concat(key, \" event from channel \").concat(_this2.cid), {\n                            tags: [\n                                \"event\",\n                                \"channel\"\n                            ],\n                            channel: _this2\n                        });\n                        _this2.listeners[key] = _this2.listeners[key].filter(function(el) {\n                            return el !== callback;\n                        });\n                    }\n                };\n            }\n        },\n        {\n            key: \"off\",\n            value: function off(callbackOrString, callbackOrNothing) {\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this._client.logger(\"info\", \"Removing listener for \".concat(key, \" event from channel \").concat(this.cid), {\n                    tags: [\n                        \"event\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                this.listeners[key] = this.listeners[key].filter(function(value) {\n                    return value !== callback;\n                });\n            } // eslint-disable-next-line sonarjs/cognitive-complexity\n        },\n        {\n            key: \"_handleChannelEvent\",\n            value: function _handleChannelEvent(event) {\n                var _event$user, _event$user2, _event$user3, _event$user5, _event$user6, _event$channel, _event$member, _event$user9, _event$user11, _channelState$members, _event$user12, _channelState$members2;\n                var channel = this;\n                this._client.logger(\"info\", \"channel:_handleChannelEvent - Received event of type { \".concat(event.type, \" } on \").concat(this.cid), {\n                    tags: [\n                        \"event\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                var channelState = channel.state;\n                switch(event.type){\n                    case \"typing.start\":\n                        if ((_event$user = event.user) !== null && _event$user !== void 0 && _event$user.id) {\n                            channelState.typing[event.user.id] = event;\n                        }\n                        break;\n                    case \"typing.stop\":\n                        if ((_event$user2 = event.user) !== null && _event$user2 !== void 0 && _event$user2.id) {\n                            delete channelState.typing[event.user.id];\n                        }\n                        break;\n                    case \"message.read\":\n                        if ((_event$user3 = event.user) !== null && _event$user3 !== void 0 && _event$user3.id && event.created_at) {\n                            var _event$user4, _this$getClient$user;\n                            channelState.read[event.user.id] = {\n                                last_read: new Date(event.created_at),\n                                last_read_message_id: event.last_read_message_id,\n                                user: event.user,\n                                unread_messages: 0\n                            };\n                            if (((_event$user4 = event.user) === null || _event$user4 === void 0 ? void 0 : _event$user4.id) === ((_this$getClient$user = this.getClient().user) === null || _this$getClient$user === void 0 ? void 0 : _this$getClient$user.id)) {\n                                channelState.unreadCount = 0;\n                            }\n                        }\n                        break;\n                    case \"user.watching.start\":\n                    case \"user.updated\":\n                        if ((_event$user5 = event.user) !== null && _event$user5 !== void 0 && _event$user5.id) {\n                            channelState.watchers[event.user.id] = event.user;\n                        }\n                        break;\n                    case \"user.watching.stop\":\n                        if ((_event$user6 = event.user) !== null && _event$user6 !== void 0 && _event$user6.id) {\n                            delete channelState.watchers[event.user.id];\n                        }\n                        break;\n                    case \"message.deleted\":\n                        if (event.message) {\n                            this._extendEventWithOwnReactions(event);\n                            if (event.hard_delete) channelState.removeMessage(event.message);\n                            else channelState.addMessageSorted(event.message, false, false);\n                            channelState.removeQuotedMessageReferences(event.message);\n                            if (event.message.pinned) {\n                                channelState.removePinnedMessage(event.message);\n                            }\n                        }\n                        break;\n                    case \"message.new\":\n                        if (event.message) {\n                            var _event$user7, _this$getClient$user2, _event$user8;\n                            /* if message belongs to current user, always assume timestamp is changed to filter it out and add again to avoid duplication */ var ownMessage = ((_event$user7 = event.user) === null || _event$user7 === void 0 ? void 0 : _event$user7.id) === ((_this$getClient$user2 = this.getClient().user) === null || _this$getClient$user2 === void 0 ? void 0 : _this$getClient$user2.id);\n                            var isThreadMessage = event.message.parent_id && !event.message.show_in_channel;\n                            if (this.state.isUpToDate || isThreadMessage) {\n                                channelState.addMessageSorted(event.message, ownMessage);\n                            }\n                            if (event.message.pinned) {\n                                channelState.addPinnedMessage(event.message);\n                            } // do not increase the unread count - the back-end does not increase the count neither in the following cases:\n                            // 1. the message is mine\n                            // 2. the message is a thread reply from any user\n                            var preventUnreadCountUpdate = ownMessage || isThreadMessage;\n                            if (preventUnreadCountUpdate) break;\n                            if ((_event$user8 = event.user) !== null && _event$user8 !== void 0 && _event$user8.id) {\n                                for(var userId in channelState.read){\n                                    if (userId === event.user.id) {\n                                        channelState.read[event.user.id] = {\n                                            last_read: new Date(event.created_at),\n                                            user: event.user,\n                                            unread_messages: 0\n                                        };\n                                    } else {\n                                        channelState.read[userId].unread_messages += 1;\n                                    }\n                                }\n                            }\n                            if (this._countMessageAsUnread(event.message)) {\n                                channelState.unreadCount = channelState.unreadCount + 1;\n                            }\n                        }\n                        break;\n                    case \"message.updated\":\n                    case \"message.undeleted\":\n                        if (event.message) {\n                            this._extendEventWithOwnReactions(event);\n                            channelState.addMessageSorted(event.message, false, false);\n                            if (event.message.pinned) {\n                                channelState.addPinnedMessage(event.message);\n                            } else {\n                                channelState.removePinnedMessage(event.message);\n                            }\n                        }\n                        break;\n                    case \"channel.truncated\":\n                        if ((_event$channel = event.channel) !== null && _event$channel !== void 0 && _event$channel.truncated_at) {\n                            var truncatedAt = +new Date(event.channel.truncated_at);\n                            channelState.messageSets.forEach(function(messageSet, messageSetIndex) {\n                                messageSet.messages.forEach(function(_ref2) {\n                                    var createdAt = _ref2.created_at, id = _ref2.id;\n                                    if (truncatedAt > +createdAt) channelState.removeMessage({\n                                        id: id,\n                                        messageSetIndex: messageSetIndex\n                                    });\n                                });\n                            });\n                            channelState.pinnedMessages.forEach(function(_ref3) {\n                                var id = _ref3.id, createdAt = _ref3.created_at;\n                                if (truncatedAt > +createdAt) channelState.removePinnedMessage({\n                                    id: id\n                                });\n                            });\n                        } else {\n                            channelState.clearMessages();\n                        }\n                        channelState.unreadCount = 0; // system messages don't increment unread counts\n                        if (event.message) {\n                            channelState.addMessageSorted(event.message);\n                            if (event.message.pinned) {\n                                channelState.addPinnedMessage(event.message);\n                            }\n                        }\n                        break;\n                    case \"member.added\":\n                    case \"member.updated\":\n                        if ((_event$member = event.member) !== null && _event$member !== void 0 && _event$member.user_id) {\n                            channelState.members[event.member.user_id] = event.member;\n                        }\n                        break;\n                    case \"member.removed\":\n                        if ((_event$user9 = event.user) !== null && _event$user9 !== void 0 && _event$user9.id) {\n                            delete channelState.members[event.user.id];\n                        }\n                        break;\n                    case \"notification.mark_unread\":\n                        {\n                            var _event$user10, _this$getClient$user3, _event$unread_message;\n                            var _ownMessage = ((_event$user10 = event.user) === null || _event$user10 === void 0 ? void 0 : _event$user10.id) === ((_this$getClient$user3 = this.getClient().user) === null || _this$getClient$user3 === void 0 ? void 0 : _this$getClient$user3.id);\n                            if (!(_ownMessage && event.user)) break;\n                            var unreadCount = (_event$unread_message = event.unread_messages) !== null && _event$unread_message !== void 0 ? _event$unread_message : 0;\n                            channelState.read[event.user.id] = {\n                                first_unread_message_id: event.first_unread_message_id,\n                                last_read: new Date(event.last_read_at),\n                                last_read_message_id: event.last_read_message_id,\n                                user: event.user,\n                                unread_messages: unreadCount\n                            };\n                            channelState.unreadCount = unreadCount;\n                            break;\n                        }\n                    case \"channel.updated\":\n                        if (event.channel) {\n                            var _event$channel2, _channel$data, _event$channel$hidden, _event$channel3, _channel$data2, _event$channel$own_ca, _event$channel4, _channel$data3;\n                            var isFrozenChanged = ((_event$channel2 = event.channel) === null || _event$channel2 === void 0 ? void 0 : _event$channel2.frozen) !== undefined && event.channel.frozen !== ((_channel$data = channel.data) === null || _channel$data === void 0 ? void 0 : _channel$data.frozen);\n                            if (isFrozenChanged) {\n                                this.query({\n                                    state: false,\n                                    messages: {\n                                        limit: 0\n                                    },\n                                    watchers: {\n                                        limit: 0\n                                    }\n                                });\n                            }\n                            channel.data = _objectSpread$6(_objectSpread$6({}, event.channel), {}, {\n                                hidden: (_event$channel$hidden = (_event$channel3 = event.channel) === null || _event$channel3 === void 0 ? void 0 : _event$channel3.hidden) !== null && _event$channel$hidden !== void 0 ? _event$channel$hidden : (_channel$data2 = channel.data) === null || _channel$data2 === void 0 ? void 0 : _channel$data2.hidden,\n                                own_capabilities: (_event$channel$own_ca = (_event$channel4 = event.channel) === null || _event$channel4 === void 0 ? void 0 : _event$channel4.own_capabilities) !== null && _event$channel$own_ca !== void 0 ? _event$channel$own_ca : (_channel$data3 = channel.data) === null || _channel$data3 === void 0 ? void 0 : _channel$data3.own_capabilities\n                            });\n                        }\n                        break;\n                    case \"reaction.new\":\n                        if (event.message && event.reaction) {\n                            event.message = channelState.addReaction(event.reaction, event.message);\n                        }\n                        break;\n                    case \"reaction.deleted\":\n                        if (event.reaction) {\n                            event.message = channelState.removeReaction(event.reaction, event.message);\n                        }\n                        break;\n                    case \"reaction.updated\":\n                        if (event.reaction) {\n                            // assuming reaction.updated is only called if enforce_unique is true\n                            event.message = channelState.addReaction(event.reaction, event.message, true);\n                        }\n                        break;\n                    case \"channel.hidden\":\n                        channel.data = _objectSpread$6(_objectSpread$6({}, channel.data), {}, {\n                            hidden: true\n                        });\n                        if (event.clear_history) {\n                            channelState.clearMessages();\n                        }\n                        break;\n                    case \"channel.visible\":\n                        channel.data = _objectSpread$6(_objectSpread$6({}, channel.data), {}, {\n                            hidden: false\n                        });\n                        break;\n                    case \"user.banned\":\n                        if (!((_event$user11 = event.user) !== null && _event$user11 !== void 0 && _event$user11.id)) break;\n                        channelState.members[event.user.id] = _objectSpread$6(_objectSpread$6({}, channelState.members[event.user.id] || {}), {}, {\n                            shadow_banned: !!event.shadow,\n                            banned: !event.shadow,\n                            user: _objectSpread$6(_objectSpread$6({}, ((_channelState$members = channelState.members[event.user.id]) === null || _channelState$members === void 0 ? void 0 : _channelState$members.user) || {}), event.user)\n                        });\n                        break;\n                    case \"user.unbanned\":\n                        if (!((_event$user12 = event.user) !== null && _event$user12 !== void 0 && _event$user12.id)) break;\n                        channelState.members[event.user.id] = _objectSpread$6(_objectSpread$6({}, channelState.members[event.user.id] || {}), {}, {\n                            shadow_banned: false,\n                            banned: false,\n                            user: _objectSpread$6(_objectSpread$6({}, ((_channelState$members2 = channelState.members[event.user.id]) === null || _channelState$members2 === void 0 ? void 0 : _channelState$members2.user) || {}), event.user)\n                        });\n                        break;\n                } // any event can send over the online count\n                if (event.watcher_count !== undefined) {\n                    channel.state.watcher_count = event.watcher_count;\n                }\n            }\n        },\n        {\n            key: \"_checkInitialized\",\n            value: function _checkInitialized() {\n                if (!this.initialized && !this.offlineMode && !this.getClient()._isUsingServerAuth()) {\n                    throw Error(\"Channel \".concat(this.cid, \" hasn't been initialized yet. Make sure to call .watch() and wait for it to resolve\"));\n                }\n            } // eslint-disable-next-line sonarjs/cognitive-complexity\n        },\n        {\n            key: \"_initializeState\",\n            value: function _initializeState(state) {\n                var messageSetToAddToIfDoesNotExist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"latest\";\n                var _this$getClient2 = this.getClient(), clientState = _this$getClient2.state, user = _this$getClient2.user, userID = _this$getClient2.userID; // add the Users\n                if (state.members) {\n                    var _iterator = _createForOfIteratorHelper$3(state.members), _step;\n                    try {\n                        for(_iterator.s(); !(_step = _iterator.n()).done;){\n                            var member = _step.value;\n                            if (member.user) {\n                                clientState.updateUserReference(member.user, this.cid);\n                            }\n                        }\n                    } catch (err) {\n                        _iterator.e(err);\n                    } finally{\n                        _iterator.f();\n                    }\n                }\n                this.state.membership = state.membership || {};\n                var messages = state.messages || [];\n                if (!this.state.messages) {\n                    this.state.initMessages();\n                }\n                var _this$state$addMessag = this.state.addMessagesSorted(messages, false, true, true, messageSetToAddToIfDoesNotExist), messageSet = _this$state$addMessag.messageSet;\n                if (!this.state.pinnedMessages) {\n                    this.state.pinnedMessages = [];\n                }\n                this.state.addPinnedMessages(state.pinned_messages || []);\n                if (state.pending_messages) {\n                    this.state.pending_messages = state.pending_messages;\n                }\n                if (state.watcher_count !== undefined) {\n                    this.state.watcher_count = state.watcher_count;\n                } // convert the arrays into objects for easier syncing...\n                if (state.watchers) {\n                    var _iterator2 = _createForOfIteratorHelper$3(state.watchers), _step2;\n                    try {\n                        for(_iterator2.s(); !(_step2 = _iterator2.n()).done;){\n                            var watcher = _step2.value;\n                            if (watcher) {\n                                clientState.updateUserReference(watcher, this.cid);\n                                this.state.watchers[watcher.id] = watcher;\n                            }\n                        }\n                    } catch (err) {\n                        _iterator2.e(err);\n                    } finally{\n                        _iterator2.f();\n                    }\n                } // initialize read state to last message or current time if the channel is empty\n                // if the user is a member, this value will be overwritten later on otherwise this ensures\n                // that everything up to this point is not marked as unread\n                if (userID != null) {\n                    var last_read = this.state.last_message_at || new Date();\n                    if (user) {\n                        this.state.read[user.id] = {\n                            user: user,\n                            last_read: last_read,\n                            unread_messages: 0\n                        };\n                    }\n                } // apply read state if part of the state\n                if (state.read) {\n                    var _iterator3 = _createForOfIteratorHelper$3(state.read), _step3;\n                    try {\n                        for(_iterator3.s(); !(_step3 = _iterator3.n()).done;){\n                            var _read$unread_messages;\n                            var read = _step3.value;\n                            this.state.read[read.user.id] = {\n                                last_read: new Date(read.last_read),\n                                last_read_message_id: read.last_read_message_id,\n                                unread_messages: (_read$unread_messages = read.unread_messages) !== null && _read$unread_messages !== void 0 ? _read$unread_messages : 0,\n                                user: read.user\n                            };\n                            if (read.user.id === (user === null || user === void 0 ? void 0 : user.id)) {\n                                this.state.unreadCount = this.state.read[read.user.id].unread_messages;\n                            }\n                        }\n                    } catch (err) {\n                        _iterator3.e(err);\n                    } finally{\n                        _iterator3.f();\n                    }\n                }\n                if (state.members) {\n                    this.state.members = state.members.reduce(function(acc, member) {\n                        if (member.user) {\n                            acc[member.user.id] = member;\n                        }\n                        return acc;\n                    }, {});\n                }\n                return {\n                    messageSet: messageSet\n                };\n            }\n        },\n        {\n            key: \"_extendEventWithOwnReactions\",\n            value: function _extendEventWithOwnReactions(event) {\n                if (!event.message) {\n                    return;\n                }\n                var message = this.state.findMessage(event.message.id, event.message.parent_id);\n                if (message) {\n                    event.message.own_reactions = message.own_reactions;\n                }\n            }\n        },\n        {\n            key: \"_disconnect\",\n            value: function _disconnect() {\n                this._client.logger(\"info\", \"channel:disconnect() - Disconnecting the channel \".concat(this.cid), {\n                    tags: [\n                        \"connection\",\n                        \"channel\"\n                    ],\n                    channel: this\n                });\n                this.disconnected = true;\n                this.state.setIsUpToDate(false);\n            }\n        }\n    ]);\n    return Channel;\n}();\nfunction _createForOfIteratorHelper$2(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray$2(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function e(_e) {\n                    throw _e;\n                },\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n        },\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray$2(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray$2(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen);\n}\nfunction _arrayLikeToArray$2(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\n/**\n * ClientState - A container class for the client state.\n */ var ClientState = /*#__PURE__*/ function() {\n    function ClientState() {\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, ClientState);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"users\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"userChannelReferences\", void 0);\n        // show the status for a certain user...\n        // ie online, offline etc\n        this.users = {}; // store which channels contain references to the specified user...\n        this.userChannelReferences = {};\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(ClientState, [\n        {\n            key: \"updateUsers\",\n            value: function updateUsers(users) {\n                var _iterator = _createForOfIteratorHelper$2(users), _step;\n                try {\n                    for(_iterator.s(); !(_step = _iterator.n()).done;){\n                        var user = _step.value;\n                        this.updateUser(user);\n                    }\n                } catch (err) {\n                    _iterator.e(err);\n                } finally{\n                    _iterator.f();\n                }\n            }\n        },\n        {\n            key: \"updateUser\",\n            value: function updateUser(user) {\n                if (user != null) {\n                    this.users[user.id] = user;\n                }\n            }\n        },\n        {\n            key: \"updateUserReference\",\n            value: function updateUserReference(user, channelID) {\n                if (user == null) {\n                    return;\n                }\n                this.updateUser(user);\n                if (!this.userChannelReferences[user.id]) {\n                    this.userChannelReferences[user.id] = {};\n                }\n                this.userChannelReferences[user.id][channelID] = true;\n            }\n        },\n        {\n            key: \"deleteAllChannelReference\",\n            value: function deleteAllChannelReference(channelID) {\n                for(var userID in this.userChannelReferences){\n                    delete this.userChannelReferences[userID][channelID];\n                }\n            }\n        }\n    ]);\n    return ClientState;\n}();\nfunction ownKeys$5(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$5(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$5(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$5(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nvar InsightMetrics = function InsightMetrics() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, InsightMetrics);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionStartTimestamp\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsConsecutiveFailures\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsTotalFailures\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"instanceClientId\", void 0);\n    this.connectionStartTimestamp = null;\n    this.wsTotalFailures = 0;\n    this.wsConsecutiveFailures = 0;\n    this.instanceClientId = randomId();\n};\n/**\n * postInsights is not supposed to be used by end users directly within chat application, and thus is kept isolated\n * from all the client/connection code/logic.\n *\n * @param insightType\n * @param insights\n */ var postInsights = /*#__PURE__*/ function() {\n    var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(insightType, insights) {\n        var maxAttempts, i;\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n            while(1){\n                switch(_context.prev = _context.next){\n                    case 0:\n                        maxAttempts = 3;\n                        i = 0;\n                    case 2:\n                        if (!(i < maxAttempts)) {\n                            _context.next = 17;\n                            break;\n                        }\n                        _context.prev = 3;\n                        _context.next = 6;\n                        return axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].post(\"https://chat-insights.getstream.io/insights/\".concat(insightType), insights);\n                    case 6:\n                        _context.next = 13;\n                        break;\n                    case 8:\n                        _context.prev = 8;\n                        _context.t0 = _context[\"catch\"](3);\n                        _context.next = 12;\n                        return sleep((i + 1) * 3000);\n                    case 12:\n                        return _context.abrupt(\"continue\", 14);\n                    case 13:\n                        return _context.abrupt(\"break\", 17);\n                    case 14:\n                        i++;\n                        _context.next = 2;\n                        break;\n                    case 17:\n                    case \"end\":\n                        return _context.stop();\n                }\n            }\n        }, _callee, null, [\n            [\n                3,\n                8\n            ]\n        ]);\n    }));\n    return function postInsights(_x, _x2) {\n        return _ref.apply(this, arguments);\n    };\n}();\nfunction buildWsFatalInsight(connection, event) {\n    return _objectSpread$5(_objectSpread$5({}, event), buildWsBaseInsight(connection));\n}\nfunction buildWsBaseInsight(connection) {\n    var _connection$ws, _navigator, _navigator2;\n    var client = connection.client;\n    return {\n        ready_state: (_connection$ws = connection.ws) === null || _connection$ws === void 0 ? void 0 : _connection$ws.readyState,\n        url: connection._buildUrl(),\n        api_key: client.key,\n        start_ts: client.insightMetrics.connectionStartTimestamp,\n        end_ts: new Date().getTime(),\n        auth_type: client.getAuthType(),\n        token: client.tokenManager.token,\n        user_id: client.userID,\n        user_details: client._user,\n        device: client.options.device,\n        client_id: connection.connectionID,\n        ws_details: connection.ws,\n        ws_consecutive_failures: client.insightMetrics.wsConsecutiveFailures,\n        ws_total_failures: client.insightMetrics.wsTotalFailures,\n        request_id: connection.requestID,\n        online: typeof navigator !== \"undefined\" ? (_navigator = navigator) === null || _navigator === void 0 ? void 0 : _navigator.onLine : null,\n        user_agent: typeof navigator !== \"undefined\" ? (_navigator2 = navigator) === null || _navigator2 === void 0 ? void 0 : _navigator2.userAgent : null,\n        instance_client_id: client.insightMetrics.instanceClientId\n    };\n}\nfunction buildWsSuccessAfterFailureInsight(connection) {\n    return buildWsBaseInsight(connection);\n}\nfunction ownKeys$4(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$4(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$4(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$4(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n// Type guards to check WebSocket error type\nvar isCloseEvent = function isCloseEvent(res) {\n    return res.code !== undefined;\n};\nvar isErrorEvent = function isErrorEvent(res) {\n    return res.error !== undefined;\n};\n/**\n * StableWSConnection - A WS connection that reconnects upon failure.\n * - the browser will sometimes report that you're online or offline\n * - the WS connection can break and fail (there is a 30s health check)\n * - sometimes your WS connection will seem to work while the user is in fact offline\n * - to speed up online/offline detection you can use the window.addEventListener('offline');\n *\n * There are 4 ways in which a connection can become unhealthy:\n * - websocket.onerror is called\n * - websocket.onclose is called\n * - the health check fails and no event is received for ~40 seconds\n * - the browser indicates the connection is now offline\n *\n * There are 2 assumptions we make about the server:\n * - state can be recovered by querying the channel again\n * - if the servers fails to publish a message to the client, the WS connection is destroyed\n */ var StableWSConnection = /*#__PURE__*/ function() {\n    // global from constructor\n    // local vars\n    function StableWSConnection(_ref) {\n        var _this = this;\n        var client = _ref.client;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, StableWSConnection);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionOpen\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"consecutiveFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"pingInterval\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"healthCheckTimeoutRef\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isConnecting\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isDisconnected\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isHealthy\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isResolved\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"lastEvent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionCheckTimeout\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionCheckTimeoutRef\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"rejectPromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"requestID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"resolvePromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"totalFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"ws\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_buildUrl\", function() {\n            var qs = encodeURIComponent(_this.client._buildWSPayload(_this.requestID));\n            var token = _this.client.tokenManager.getToken();\n            return \"\".concat(_this.client.wsBaseURL, \"/connect?json=\").concat(qs, \"&api_key=\").concat(_this.client.key, \"&authorization=\").concat(token, \"&stream-auth-type=\").concat(_this.client.getAuthType(), \"&X-Stream-Client=\").concat(_this.client.getUserAgent());\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onlineStatusChanged\", function(event) {\n            if (event.type === \"offline\") {\n                // mark the connection as down\n                _this._log(\"onlineStatusChanged() - Status changing to offline\");\n                _this._setHealth(false);\n            } else if (event.type === \"online\") {\n                // retry right now...\n                // We check this.isHealthy, not sure if it's always\n                // smart to create a new WS connection if the old one is still up and running.\n                // it's possible we didn't miss any messages, so this process is just expensive and not needed.\n                _this._log(\"onlineStatusChanged() - Status changing to online. isHealthy: \".concat(_this.isHealthy));\n                if (!_this.isHealthy) {\n                    _this._reconnect({\n                        interval: 10\n                    });\n                }\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onopen\", function(wsID) {\n            if (_this.wsID !== wsID) return;\n            _this._log(\"onopen() - onopen callback\", {\n                wsID: wsID\n            });\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onmessage\", function(wsID, event) {\n            if (_this.wsID !== wsID) return;\n            _this._log(\"onmessage() - onmessage callback\", {\n                event: event,\n                wsID: wsID\n            });\n            var data = typeof event.data === \"string\" ? JSON.parse(event.data) : null; // we wait till the first message before we consider the connection open..\n            // the reason for this is that auth errors and similar errors trigger a ws.onopen and immediately\n            // after that a ws.onclose..\n            if (!_this.isResolved && data) {\n                var _this$resolvePromise;\n                _this.isResolved = true;\n                if (data.error) {\n                    var _this$rejectPromise;\n                    (_this$rejectPromise = _this.rejectPromise) === null || _this$rejectPromise === void 0 ? void 0 : _this$rejectPromise.call(_this, _this._errorFromWSEvent(data, false));\n                    return;\n                }\n                (_this$resolvePromise = _this.resolvePromise) === null || _this$resolvePromise === void 0 ? void 0 : _this$resolvePromise.call(_this, data);\n                _this._setHealth(true);\n            } // trigger the event..\n            _this.lastEvent = new Date();\n            if (data && data.type === \"health.check\") {\n                _this.scheduleNextPing();\n            }\n            _this.client.handleEvent(event);\n            _this.scheduleConnectionCheck();\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onclose\", function(wsID, event) {\n            if (_this.wsID !== wsID) return;\n            _this._log(\"onclose() - onclose callback - \" + event.code, {\n                event: event,\n                wsID: wsID\n            });\n            if (event.code === chatCodes.WS_CLOSED_SUCCESS) {\n                var _this$rejectPromise2;\n                // this is a permanent error raised by stream..\n                // usually caused by invalid auth details\n                var error = new Error(\"WS connection reject with error \".concat(event.reason));\n                error.reason = event.reason;\n                error.code = event.code;\n                error.wasClean = event.wasClean;\n                error.target = event.target;\n                (_this$rejectPromise2 = _this.rejectPromise) === null || _this$rejectPromise2 === void 0 ? void 0 : _this$rejectPromise2.call(_this, error);\n                _this._log(\"onclose() - WS connection reject with error \".concat(event.reason), {\n                    event: event\n                });\n            } else {\n                var _this$rejectPromise3;\n                _this.consecutiveFailures += 1;\n                _this.totalFailures += 1;\n                _this._setHealth(false);\n                _this.isConnecting = false;\n                (_this$rejectPromise3 = _this.rejectPromise) === null || _this$rejectPromise3 === void 0 ? void 0 : _this$rejectPromise3.call(_this, _this._errorFromWSEvent(event));\n                _this._log(\"onclose() - WS connection closed. Calling reconnect ...\", {\n                    event: event\n                }); // reconnect if its an abnormal failure\n                _this._reconnect();\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"onerror\", function(wsID, event) {\n            var _this$rejectPromise4;\n            if (_this.wsID !== wsID) return;\n            _this.consecutiveFailures += 1;\n            _this.totalFailures += 1;\n            _this._setHealth(false);\n            _this.isConnecting = false;\n            (_this$rejectPromise4 = _this.rejectPromise) === null || _this$rejectPromise4 === void 0 ? void 0 : _this$rejectPromise4.call(_this, _this._errorFromWSEvent(event));\n            _this._log(\"onerror() - WS connection resulted into error\", {\n                event: event\n            });\n            _this._reconnect();\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setHealth\", function(healthy) {\n            if (healthy === _this.isHealthy) return;\n            _this.isHealthy = healthy;\n            if (_this.isHealthy) {\n                _this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: _this.isHealthy\n                });\n                return;\n            } // we're offline, wait few seconds and fire and event if still offline\n            setTimeout(function() {\n                if (_this.isHealthy) return;\n                _this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: _this.isHealthy\n                });\n            }, 5000);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_errorFromWSEvent\", function(event) {\n            var isWSFailure = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n            var code;\n            var statusCode;\n            var message;\n            if (isCloseEvent(event)) {\n                code = event.code;\n                statusCode = \"unknown\";\n                message = event.reason;\n            }\n            if (isErrorEvent(event)) {\n                code = event.error.code;\n                statusCode = event.error.StatusCode;\n                message = event.error.message;\n            } // Keeping this `warn` level log, to avoid cluttering of error logs from ws failures.\n            _this._log(\"_errorFromWSEvent() - WS failed with code \".concat(code), {\n                event: event\n            }, \"warn\");\n            var error = new Error(\"WS failed with code \".concat(code, \" and reason - \").concat(message));\n            error.code = code;\n            /**\n       * StatusCode does not exist on any event types but has been left\n       * as is to preserve JS functionality during the TS implementation\n       */ error.StatusCode = statusCode;\n            error.isWSFailure = isWSFailure;\n            return error;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setupConnectionPromise\", function() {\n            _this.isResolved = false;\n            /** a promise that is resolved once ws.open is called */ _this.connectionOpen = new Promise(function(resolve, reject) {\n                _this.resolvePromise = resolve;\n                _this.rejectPromise = reject;\n            });\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"scheduleNextPing\", function() {\n            if (_this.healthCheckTimeoutRef) {\n                clearTimeout(_this.healthCheckTimeoutRef);\n            } // 30 seconds is the recommended interval (messenger uses this)\n            _this.healthCheckTimeoutRef = setTimeout(function() {\n                // send the healthcheck.., server replies with a health check event\n                var data = [\n                    {\n                        type: \"health.check\",\n                        client_id: _this.client.clientID\n                    }\n                ]; // try to send on the connection\n                try {\n                    var _this$ws;\n                    (_this$ws = _this.ws) === null || _this$ws === void 0 ? void 0 : _this$ws.send(JSON.stringify(data));\n                } catch (e) {}\n            }, _this.pingInterval);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"scheduleConnectionCheck\", function() {\n            if (_this.connectionCheckTimeoutRef) {\n                clearTimeout(_this.connectionCheckTimeoutRef);\n            }\n            _this.connectionCheckTimeoutRef = setTimeout(function() {\n                var now = new Date();\n                if (_this.lastEvent && now.getTime() - _this.lastEvent.getTime() > _this.connectionCheckTimeout) {\n                    _this._log(\"scheduleConnectionCheck - going to reconnect\");\n                    _this._setHealth(false);\n                    _this._reconnect();\n                }\n            }, _this.connectionCheckTimeout);\n        });\n        /** StreamChat client */ this.client = client;\n        /** consecutive failures influence the duration of the timeout */ this.consecutiveFailures = 0;\n        /** keep track of the total number of failures */ this.totalFailures = 0;\n        /** We only make 1 attempt to reconnect at the same time.. */ this.isConnecting = false;\n        /** To avoid reconnect if client is disconnected */ this.isDisconnected = false;\n        /** Boolean that indicates if the connection promise is resolved */ this.isResolved = false;\n        /** Boolean that indicates if we have a working connection to the server */ this.isHealthy = false;\n        /** Incremented when a new WS connection is made */ this.wsID = 1;\n        /** Store the last event time for health checks */ this.lastEvent = null;\n        /** Send a health check message every 25 seconds */ this.pingInterval = 25 * 1000;\n        this.connectionCheckTimeout = this.pingInterval + 10 * 1000;\n        addConnectionEventListeners(this.onlineStatusChanged);\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(StableWSConnection, [\n        {\n            key: \"_log\",\n            value: function _log(msg) {\n                var extra = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"info\";\n                this.client.logger(level, \"connection:\" + msg, _objectSpread$4({\n                    tags: [\n                        \"connection\"\n                    ]\n                }, extra));\n            }\n        },\n        {\n            key: \"setClient\",\n            value: function setClient(client) {\n                this.client = client;\n            }\n        },\n        {\n            key: \"connect\",\n            value: function() {\n                var _connect2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee() {\n                    var timeout, healthCheck, _args = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                        while(1){\n                            switch(_context.prev = _context.next){\n                                case 0:\n                                    timeout = _args.length > 0 && _args[0] !== undefined ? _args[0] : 15000;\n                                    if (!this.isConnecting) {\n                                        _context.next = 3;\n                                        break;\n                                    }\n                                    throw Error(\"You've called connect twice, can only attempt 1 connection at the time\");\n                                case 3:\n                                    this.isDisconnected = false;\n                                    _context.prev = 4;\n                                    _context.next = 7;\n                                    return this._connect();\n                                case 7:\n                                    healthCheck = _context.sent;\n                                    this.consecutiveFailures = 0;\n                                    this._log(\"connect() - Established ws connection with healthcheck: \".concat(healthCheck));\n                                    _context.next = 23;\n                                    break;\n                                case 12:\n                                    _context.prev = 12;\n                                    _context.t0 = _context[\"catch\"](4);\n                                    this.isHealthy = false;\n                                    this.consecutiveFailures += 1;\n                                    if (!(_context.t0.code === chatCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic())) {\n                                        _context.next = 21;\n                                        break;\n                                    }\n                                    this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                                    this._reconnect({\n                                        refreshToken: true\n                                    });\n                                    _context.next = 23;\n                                    break;\n                                case 21:\n                                    if (_context.t0.isWSFailure) {\n                                        _context.next = 23;\n                                        break;\n                                    }\n                                    throw new Error(JSON.stringify({\n                                        code: _context.t0.code,\n                                        StatusCode: _context.t0.StatusCode,\n                                        message: _context.t0.message,\n                                        isWSFailure: _context.t0.isWSFailure\n                                    }));\n                                case 23:\n                                    _context.next = 25;\n                                    return this._waitForHealthy(timeout);\n                                case 25:\n                                    return _context.abrupt(\"return\", _context.sent);\n                                case 26:\n                                case \"end\":\n                                    return _context.stop();\n                            }\n                        }\n                    }, _callee, this, [\n                        [\n                            4,\n                            12\n                        ]\n                    ]);\n                }));\n                function connect() {\n                    return _connect2.apply(this, arguments);\n                }\n                return connect;\n            }()\n        },\n        {\n            key: \"_waitForHealthy\",\n            value: function() {\n                var _waitForHealthy2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4() {\n                    var _this2 = this;\n                    var timeout, _args4 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                        while(1){\n                            switch(_context4.prev = _context4.next){\n                                case 0:\n                                    timeout = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : 15000;\n                                    return _context4.abrupt(\"return\", Promise.race([\n                                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2() {\n                                            var interval, i;\n                                            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                                                while(1){\n                                                    switch(_context2.prev = _context2.next){\n                                                        case 0:\n                                                            interval = 50; // ms\n                                                            i = 0;\n                                                        case 2:\n                                                            if (!(i <= timeout)) {\n                                                                _context2.next = 18;\n                                                                break;\n                                                            }\n                                                            _context2.prev = 3;\n                                                            _context2.next = 6;\n                                                            return _this2.connectionOpen;\n                                                        case 6:\n                                                            return _context2.abrupt(\"return\", _context2.sent);\n                                                        case 9:\n                                                            _context2.prev = 9;\n                                                            _context2.t0 = _context2[\"catch\"](3);\n                                                            if (!(i === timeout)) {\n                                                                _context2.next = 13;\n                                                                break;\n                                                            }\n                                                            throw new Error(JSON.stringify({\n                                                                code: _context2.t0.code,\n                                                                StatusCode: _context2.t0.StatusCode,\n                                                                message: _context2.t0.message,\n                                                                isWSFailure: _context2.t0.isWSFailure\n                                                            }));\n                                                        case 13:\n                                                            _context2.next = 15;\n                                                            return sleep(interval);\n                                                        case 15:\n                                                            i += interval;\n                                                            _context2.next = 2;\n                                                            break;\n                                                        case 18:\n                                                        case \"end\":\n                                                            return _context2.stop();\n                                                    }\n                                                }\n                                            }, _callee2, null, [\n                                                [\n                                                    3,\n                                                    9\n                                                ]\n                                            ]);\n                                        }))(),\n                                        _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3() {\n                                            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                                                while(1){\n                                                    switch(_context3.prev = _context3.next){\n                                                        case 0:\n                                                            _context3.next = 2;\n                                                            return sleep(timeout);\n                                                        case 2:\n                                                            _this2.isConnecting = false;\n                                                            throw new Error(JSON.stringify({\n                                                                code: \"\",\n                                                                StatusCode: \"\",\n                                                                message: \"initial WS connection could not be established\",\n                                                                isWSFailure: true\n                                                            }));\n                                                        case 4:\n                                                        case \"end\":\n                                                            return _context3.stop();\n                                                    }\n                                                }\n                                            }, _callee3);\n                                        }))()\n                                    ]));\n                                case 2:\n                                case \"end\":\n                                    return _context4.stop();\n                            }\n                        }\n                    }, _callee4);\n                }));\n                function _waitForHealthy() {\n                    return _waitForHealthy2.apply(this, arguments);\n                }\n                return _waitForHealthy;\n            }()\n        },\n        {\n            key: \"disconnect\",\n            value: /**\n     * disconnect - Disconnect the connection and doesn't recover...\n     *\n     */ function disconnect(timeout) {\n                var _this3 = this;\n                this._log(\"disconnect() - Closing the websocket connection for wsID \".concat(this.wsID));\n                this.wsID += 1;\n                this.isConnecting = false;\n                this.isDisconnected = true; // start by removing all the listeners\n                if (this.healthCheckTimeoutRef) {\n                    clearInterval(this.healthCheckTimeoutRef);\n                }\n                if (this.connectionCheckTimeoutRef) {\n                    clearInterval(this.connectionCheckTimeoutRef);\n                }\n                removeConnectionEventListeners(this.onlineStatusChanged);\n                this.isHealthy = false; // remove ws handlers...\n                if (this.ws && this.ws.removeAllListeners) {\n                    this.ws.removeAllListeners();\n                }\n                var isClosedPromise; // and finally close...\n                // Assigning to local here because we will remove it from this before the\n                // promise resolves.\n                var ws = this.ws;\n                if (ws && ws.close && ws.readyState === ws.OPEN) {\n                    isClosedPromise = new Promise(function(resolve) {\n                        var onclose = function onclose(event) {\n                            _this3._log(\"disconnect() - resolving isClosedPromise \".concat(event ? \"with\" : \"without\", \" close frame\"), {\n                                event: event\n                            });\n                            resolve();\n                        };\n                        ws.onclose = onclose; // In case we don't receive close frame websocket server in time,\n                        // lets not wait for more than 1 seconds.\n                        setTimeout(onclose, timeout != null ? timeout : 1000);\n                    });\n                    this._log(\"disconnect() - Manually closed connection by calling client.disconnect()\");\n                    ws.close(chatCodes.WS_CLOSED_SUCCESS, \"Manually closed connection by calling client.disconnect()\");\n                } else {\n                    this._log(\"disconnect() - ws connection doesn't exist or it is already closed.\");\n                    isClosedPromise = Promise.resolve();\n                }\n                delete this.ws;\n                return isClosedPromise;\n            }\n        },\n        {\n            key: \"_connect\",\n            value: function() {\n                var _connect3 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5() {\n                    var isTokenReady, wsURL, response, insights;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                        while(1){\n                            switch(_context5.prev = _context5.next){\n                                case 0:\n                                    if (!(this.isConnecting || this.isDisconnected && this.client.options.enableWSFallback)) {\n                                        _context5.next = 2;\n                                        break;\n                                    }\n                                    return _context5.abrupt(\"return\");\n                                case 2:\n                                    // simply ignore _connect if it's currently trying to connect\n                                    this.isConnecting = true;\n                                    this.requestID = randomId();\n                                    this.client.insightMetrics.connectionStartTimestamp = new Date().getTime();\n                                    isTokenReady = false;\n                                    _context5.prev = 6;\n                                    this._log(\"_connect() - waiting for token\");\n                                    _context5.next = 10;\n                                    return this.client.tokenManager.tokenReady();\n                                case 10:\n                                    isTokenReady = true;\n                                    _context5.next = 15;\n                                    break;\n                                case 13:\n                                    _context5.prev = 13;\n                                    _context5.t0 = _context5[\"catch\"](6);\n                                case 15:\n                                    _context5.prev = 15;\n                                    if (isTokenReady) {\n                                        _context5.next = 20;\n                                        break;\n                                    }\n                                    this._log(\"_connect() - tokenProvider failed before, so going to retry\");\n                                    _context5.next = 20;\n                                    return this.client.tokenManager.loadToken();\n                                case 20:\n                                    this._setupConnectionPromise();\n                                    wsURL = this._buildUrl();\n                                    this._log(\"_connect() - Connecting to \".concat(wsURL), {\n                                        wsURL: wsURL,\n                                        requestID: this.requestID\n                                    });\n                                    this.ws = new (isomorphic_ws__WEBPACK_IMPORTED_MODULE_13___default())(wsURL);\n                                    this.ws.onopen = this.onopen.bind(this, this.wsID);\n                                    this.ws.onclose = this.onclose.bind(this, this.wsID);\n                                    this.ws.onerror = this.onerror.bind(this, this.wsID);\n                                    this.ws.onmessage = this.onmessage.bind(this, this.wsID);\n                                    _context5.next = 30;\n                                    return this.connectionOpen;\n                                case 30:\n                                    response = _context5.sent;\n                                    this.isConnecting = false;\n                                    if (!response) {\n                                        _context5.next = 36;\n                                        break;\n                                    }\n                                    this.connectionID = response.connection_id;\n                                    if (this.client.insightMetrics.wsConsecutiveFailures > 0 && this.client.options.enableInsights) {\n                                        postInsights(\"ws_success_after_failure\", buildWsSuccessAfterFailureInsight(this));\n                                        this.client.insightMetrics.wsConsecutiveFailures = 0;\n                                    }\n                                    return _context5.abrupt(\"return\", response);\n                                case 36:\n                                    _context5.next = 44;\n                                    break;\n                                case 38:\n                                    _context5.prev = 38;\n                                    _context5.t1 = _context5[\"catch\"](15);\n                                    this.isConnecting = false;\n                                    this._log(\"_connect() - Error - \", _context5.t1);\n                                    if (this.client.options.enableInsights) {\n                                        this.client.insightMetrics.wsConsecutiveFailures++;\n                                        this.client.insightMetrics.wsTotalFailures++;\n                                        insights = buildWsFatalInsight(this, convertErrorToJson(_context5.t1));\n                                        postInsights === null || postInsights === void 0 ? void 0 : postInsights(\"ws_fatal\", insights);\n                                    }\n                                    throw _context5.t1;\n                                case 44:\n                                case \"end\":\n                                    return _context5.stop();\n                            }\n                        }\n                    }, _callee5, this, [\n                        [\n                            6,\n                            13\n                        ],\n                        [\n                            15,\n                            38\n                        ]\n                    ]);\n                }));\n                function _connect() {\n                    return _connect3.apply(this, arguments);\n                }\n                return _connect;\n            }()\n        },\n        {\n            key: \"_reconnect\",\n            value: function() {\n                var _reconnect2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6() {\n                    var options, interval, _args6 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                        while(1){\n                            switch(_context6.prev = _context6.next){\n                                case 0:\n                                    options = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : {};\n                                    this._log(\"_reconnect() - Initiating the reconnect\"); // only allow 1 connection at the time\n                                    if (!(this.isConnecting || this.isHealthy)) {\n                                        _context6.next = 5;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - Abort (1) since already connecting or healthy\");\n                                    return _context6.abrupt(\"return\");\n                                case 5:\n                                    // reconnect in case of on error or on close\n                                    // also reconnect if the health check cycle fails\n                                    interval = options.interval;\n                                    if (!interval) {\n                                        interval = retryInterval(this.consecutiveFailures);\n                                    } // reconnect, or try again after a little while...\n                                    _context6.next = 9;\n                                    return sleep(interval);\n                                case 9:\n                                    if (!(this.isConnecting || this.isHealthy)) {\n                                        _context6.next = 12;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - Abort (2) since already connecting or healthy\");\n                                    return _context6.abrupt(\"return\");\n                                case 12:\n                                    if (!(this.isDisconnected && this.client.options.enableWSFallback)) {\n                                        _context6.next = 15;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - Abort (3) since disconnect() is called\");\n                                    return _context6.abrupt(\"return\");\n                                case 15:\n                                    this._log(\"_reconnect() - Destroying current WS connection\"); // cleanup the old connection\n                                    this._destroyCurrentWSConnection();\n                                    if (!options.refreshToken) {\n                                        _context6.next = 20;\n                                        break;\n                                    }\n                                    _context6.next = 20;\n                                    return this.client.tokenManager.loadToken();\n                                case 20:\n                                    _context6.prev = 20;\n                                    _context6.next = 23;\n                                    return this._connect();\n                                case 23:\n                                    this._log(\"_reconnect() - Waiting for recoverCallBack\");\n                                    _context6.next = 26;\n                                    return this.client.recoverState();\n                                case 26:\n                                    this._log(\"_reconnect() - Finished recoverCallBack\");\n                                    this.consecutiveFailures = 0;\n                                    _context6.next = 38;\n                                    break;\n                                case 30:\n                                    _context6.prev = 30;\n                                    _context6.t0 = _context6[\"catch\"](20);\n                                    this.isHealthy = false;\n                                    this.consecutiveFailures += 1;\n                                    if (!(_context6.t0.code === chatCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic())) {\n                                        _context6.next = 37;\n                                        break;\n                                    }\n                                    this._log(\"_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                                    return _context6.abrupt(\"return\", this._reconnect({\n                                        refreshToken: true\n                                    }));\n                                case 37:\n                                    // reconnect on WS failures, don't reconnect if there is a code bug\n                                    if (_context6.t0.isWSFailure) {\n                                        this._log(\"_reconnect() - WS failure, so going to try to reconnect\");\n                                        this._reconnect();\n                                    }\n                                case 38:\n                                    this._log(\"_reconnect() - == END ==\");\n                                case 39:\n                                case \"end\":\n                                    return _context6.stop();\n                            }\n                        }\n                    }, _callee6, this, [\n                        [\n                            20,\n                            30\n                        ]\n                    ]);\n                }));\n                function _reconnect() {\n                    return _reconnect2.apply(this, arguments);\n                }\n                return _reconnect;\n            }()\n        },\n        {\n            key: \"_destroyCurrentWSConnection\",\n            value: /**\n     * _destroyCurrentWSConnection - Removes the current WS connection\n     *\n     */ function _destroyCurrentWSConnection() {\n                // increment the ID, meaning we will ignore all messages from the old\n                // ws connection from now on.\n                this.wsID += 1;\n                try {\n                    var _this$ws2, _this$ws3;\n                    this === null || this === void 0 ? void 0 : (_this$ws2 = this.ws) === null || _this$ws2 === void 0 ? void 0 : _this$ws2.removeAllListeners();\n                    this === null || this === void 0 ? void 0 : (_this$ws3 = this.ws) === null || _this$ws3 === void 0 ? void 0 : _this$ws3.close();\n                } catch (e) {}\n            }\n        }\n    ]);\n    return StableWSConnection;\n}();\nfunction ownKeys$3(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$3(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$3(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$3(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\n/**\n * Creates the JWT token that can be used for a UserSession\n * @method JWTUserToken\n * @memberof signing\n * @private\n * @param {Secret} apiSecret - API Secret key\n * @param {string} userId - The user_id key in the JWT payload\n * @param {UR} [extraData] - Extra that should be part of the JWT token\n * @param {SignOptions} [jwtOptions] - Options that can be past to jwt.sign\n * @return {string} JWT Token\n */ function JWTUserToken(apiSecret, userId) {\n    var extraData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var jwtOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (typeof userId !== \"string\") {\n        throw new TypeError(\"userId should be a string\");\n    }\n    var payload = _objectSpread$3({\n        user_id: userId\n    }, extraData); // make sure we return a clear error when jwt is shimmed (ie. browser build)\n    if ((jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default()) == null || (jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default().sign) == null) {\n        throw Error(\"Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.\");\n    }\n    var opts = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({\n        algorithm: \"HS256\",\n        noTimestamp: true\n    }, jwtOptions);\n    if (payload.iat) {\n        opts.noTimestamp = false;\n    }\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default().sign(payload, apiSecret, opts);\n}\nfunction JWTServerToken(apiSecret) {\n    var jwtOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var payload = {\n        server: true\n    };\n    var opts = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({\n        algorithm: \"HS256\",\n        noTimestamp: true\n    }, jwtOptions);\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_14___default().sign(payload, apiSecret, opts);\n}\nfunction UserFromToken(token) {\n    var fragments = token.split(\".\");\n    if (fragments.length !== 3) {\n        return \"\";\n    }\n    var b64Payload = fragments[1];\n    var payload = decodeBase64(b64Payload);\n    var data = JSON.parse(payload);\n    return data.user_id;\n}\n/**\n *\n * @param {string} userId the id of the user\n * @return {string}\n */ function DevToken(userId) {\n    return [\n        \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\",\n        encodeBase64(JSON.stringify({\n            user_id: userId\n        })),\n        \"devtoken\" // hardcoded signature\n    ].join(\".\");\n}\n/**\n *\n * @param {string | Buffer} body the signed message\n * @param {string} secret the shared secret used to generate the signature (Stream API secret)\n * @param {string} signature the signature to validate\n * @return {boolean}\n */ function CheckSignature(body, secret, signature) {\n    var key = Buffer.from(secret, \"utf8\");\n    var hash = crypto__WEBPACK_IMPORTED_MODULE_15___default().createHmac(\"sha256\", key).update(body).digest(\"hex\");\n    try {\n        return crypto__WEBPACK_IMPORTED_MODULE_15___default().timingSafeEqual(Buffer.from(hash), Buffer.from(signature));\n    } catch (_unused) {\n        return false;\n    }\n}\n/**\n * TokenManager\n *\n * Handles all the operations around user token.\n */ var TokenManager = /**\n * Constructor\n *\n * @param {Secret} secret\n */ function TokenManager(secret) {\n    var _this = this;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, TokenManager);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"loadTokenPromise\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"type\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"secret\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"token\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"tokenProvider\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"user\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setTokenOrProvider\", /*#__PURE__*/ function() {\n        var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(tokenOrProvider, user) {\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                while(1){\n                    switch(_context.prev = _context.next){\n                        case 0:\n                            _this.validateToken(tokenOrProvider, user);\n                            _this.user = user;\n                            if (isFunction(tokenOrProvider)) {\n                                _this.tokenProvider = tokenOrProvider;\n                                _this.type = \"provider\";\n                            }\n                            if (typeof tokenOrProvider === \"string\") {\n                                _this.token = tokenOrProvider;\n                                _this.type = \"static\";\n                            }\n                            if (!tokenOrProvider && _this.user && _this.secret) {\n                                _this.token = JWTUserToken(_this.secret, user.id, {}, {});\n                                _this.type = \"static\";\n                            }\n                            _context.next = 7;\n                            return _this.loadToken();\n                        case 7:\n                        case \"end\":\n                            return _context.stop();\n                    }\n                }\n            }, _callee);\n        }));\n        return function(_x, _x2) {\n            return _ref.apply(this, arguments);\n        };\n    }());\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"reset\", function() {\n        _this.token = undefined;\n        _this.user = undefined;\n        _this.loadTokenPromise = null;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"validateToken\", function(tokenOrProvider, user) {\n        // allow empty token for anon user\n        if (user && user.anon && !tokenOrProvider) return; // Don't allow empty token for non-server side client.\n        if (!_this.secret && !tokenOrProvider) {\n            throw new Error(\"User token can not be empty\");\n        }\n        if (tokenOrProvider && typeof tokenOrProvider !== \"string\" && !isFunction(tokenOrProvider)) {\n            throw new Error(\"user token should either be a string or a function\");\n        }\n        if (typeof tokenOrProvider === \"string\") {\n            // Allow empty token for anonymous users\n            if (user.anon && tokenOrProvider === \"\") return;\n            var tokenUserId = UserFromToken(tokenOrProvider);\n            if (tokenOrProvider != null && (tokenUserId == null || tokenUserId === \"\" || tokenUserId !== user.id)) {\n                throw new Error(\"userToken does not have a user_id or is not matching with user.id\");\n            }\n        }\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"tokenReady\", function() {\n        return _this.loadTokenPromise;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"loadToken\", function() {\n        // eslint-disable-next-line no-async-promise-executor\n        _this.loadTokenPromise = new Promise(/*#__PURE__*/ function() {\n            var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2(resolve, reject) {\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                    while(1){\n                        switch(_context2.prev = _context2.next){\n                            case 0:\n                                if (!(_this.type === \"static\")) {\n                                    _context2.next = 2;\n                                    break;\n                                }\n                                return _context2.abrupt(\"return\", resolve(_this.token));\n                            case 2:\n                                if (!(_this.tokenProvider && typeof _this.tokenProvider !== \"string\")) {\n                                    _context2.next = 13;\n                                    break;\n                                }\n                                _context2.prev = 3;\n                                _context2.next = 6;\n                                return _this.tokenProvider();\n                            case 6:\n                                _this.token = _context2.sent;\n                                _context2.next = 12;\n                                break;\n                            case 9:\n                                _context2.prev = 9;\n                                _context2.t0 = _context2[\"catch\"](3);\n                                return _context2.abrupt(\"return\", reject(new Error(\"Call to tokenProvider failed with message: \".concat(_context2.t0))));\n                            case 12:\n                                resolve(_this.token);\n                            case 13:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, null, [\n                    [\n                        3,\n                        9\n                    ]\n                ]);\n            }));\n            return function(_x3, _x4) {\n                return _ref2.apply(this, arguments);\n            };\n        }());\n        return _this.loadTokenPromise;\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"getToken\", function() {\n        if (_this.token) {\n            return _this.token;\n        }\n        if (_this.user && _this.user.anon && !_this.token) {\n            return _this.token;\n        }\n        if (_this.secret) {\n            return JWTServerToken(_this.secret);\n        }\n        throw new Error(\"Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called\");\n    });\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isStatic\", function() {\n        return _this.type === \"static\";\n    });\n    this.loadTokenPromise = null;\n    if (secret) {\n        this.secret = secret;\n    }\n    this.type = \"static\";\n    if (this.secret) {\n        this.token = JWTServerToken(this.secret);\n    }\n} /**\n * Set the static string token or token provider.\n * Token provider should return a token string or a promise which resolves to string token.\n *\n * @param {TokenOrProvider} tokenOrProvider\n * @param {UserResponse<StreamChatGenerics>} user\n */ ;\nvar APIErrorCodes = {\n    \"-1\": {\n        name: \"InternalSystemError\",\n        retryable: true\n    },\n    \"2\": {\n        name: \"AccessKeyError\",\n        retryable: false\n    },\n    \"3\": {\n        name: \"AuthenticationFailedError\",\n        retryable: true\n    },\n    \"4\": {\n        name: \"InputError\",\n        retryable: false\n    },\n    \"6\": {\n        name: \"DuplicateUsernameError\",\n        retryable: false\n    },\n    \"9\": {\n        name: \"RateLimitError\",\n        retryable: true\n    },\n    \"16\": {\n        name: \"DoesNotExistError\",\n        retryable: false\n    },\n    \"17\": {\n        name: \"NotAllowedError\",\n        retryable: false\n    },\n    \"18\": {\n        name: \"EventNotSupportedError\",\n        retryable: false\n    },\n    \"19\": {\n        name: \"ChannelFeatureNotSupportedError\",\n        retryable: false\n    },\n    \"20\": {\n        name: \"MessageTooLongError\",\n        retryable: false\n    },\n    \"21\": {\n        name: \"MultipleNestingLevelError\",\n        retryable: false\n    },\n    \"22\": {\n        name: \"PayloadTooBigError\",\n        retryable: false\n    },\n    \"23\": {\n        name: \"RequestTimeoutError\",\n        retryable: true\n    },\n    \"24\": {\n        name: \"MaxHeaderSizeExceededError\",\n        retryable: false\n    },\n    \"40\": {\n        name: \"AuthErrorTokenExpired\",\n        retryable: false\n    },\n    \"41\": {\n        name: \"AuthErrorTokenNotValidYet\",\n        retryable: false\n    },\n    \"42\": {\n        name: \"AuthErrorTokenUsedBeforeIssuedAt\",\n        retryable: false\n    },\n    \"43\": {\n        name: \"AuthErrorTokenSignatureInvalid\",\n        retryable: false\n    },\n    \"44\": {\n        name: \"CustomCommandEndpointMissingError\",\n        retryable: false\n    },\n    \"45\": {\n        name: \"CustomCommandEndpointCallError\",\n        retryable: true\n    },\n    \"46\": {\n        name: \"ConnectionIDNotFoundError\",\n        retryable: false\n    },\n    \"60\": {\n        name: \"CoolDownError\",\n        retryable: true\n    },\n    \"69\": {\n        name: \"ErrWrongRegion\",\n        retryable: false\n    },\n    \"70\": {\n        name: \"ErrQueryChannelPermissions\",\n        retryable: false\n    },\n    \"71\": {\n        name: \"ErrTooManyConnections\",\n        retryable: true\n    },\n    \"99\": {\n        name: \"AppSuspendedError\",\n        retryable: false\n    }\n};\nfunction isAPIError(error) {\n    return error.code !== undefined;\n}\nfunction isErrorRetryable(error) {\n    if (!error.code) return false;\n    var err = APIErrorCodes[\"\".concat(error.code)];\n    if (!err) return false;\n    return err.retryable;\n}\nfunction isConnectionIDError(error) {\n    return error.code === 46; // ConnectionIDNotFoundError\n}\nfunction isWSFailure(err) {\n    if (typeof err.isWSFailure === \"boolean\") {\n        return err.isWSFailure;\n    }\n    try {\n        return JSON.parse(err.message).isWSFailure;\n    } catch (_) {\n        return false;\n    }\n}\nfunction isErrorResponse(res) {\n    return !res.status || res.status < 200 || 300 <= res.status;\n}\nfunction ownKeys$2(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$2(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$2(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$2(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nvar ConnectionState;\n(function(ConnectionState) {\n    ConnectionState[\"Closed\"] = \"CLOSED\";\n    ConnectionState[\"Connected\"] = \"CONNECTED\";\n    ConnectionState[\"Connecting\"] = \"CONNECTING\";\n    ConnectionState[\"Disconnected\"] = \"DISCONNECTED\";\n    ConnectionState[\"Init\"] = \"INIT\";\n})(ConnectionState || (ConnectionState = {}));\nvar WSConnectionFallback = /*#__PURE__*/ function() {\n    function WSConnectionFallback(_ref) {\n        var _this = this;\n        var client = _ref.client;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, WSConnectionFallback);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"state\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"consecutiveFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectionID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"cancelToken\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_onlineStatusChanged\", function(event) {\n            _this._log(\"_onlineStatusChanged() - \".concat(event.type));\n            if (event.type === \"offline\") {\n                var _this$cancelToken;\n                _this._setState(ConnectionState.Closed);\n                (_this$cancelToken = _this.cancelToken) === null || _this$cancelToken === void 0 ? void 0 : _this$cancelToken.cancel(\"disconnect() is called\");\n                _this.cancelToken = undefined;\n                return;\n            }\n            if (event.type === \"online\" && _this.state === ConnectionState.Closed) {\n                _this.connect(true);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_req\", /*#__PURE__*/ function() {\n            var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(params, config, retry) {\n                var _this$cancelToken2, res;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                    while(1){\n                        switch(_context.prev = _context.next){\n                            case 0:\n                                if (!_this.cancelToken && !params.close) {\n                                    _this.cancelToken = axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].CancelToken.source();\n                                }\n                                _context.prev = 1;\n                                _context.next = 4;\n                                return _this.client.doAxiosRequest(\"get\", _this.client.baseURL.replace(\":3030\", \":8900\") + \"/longpoll\", undefined, {\n                                    config: _objectSpread$2(_objectSpread$2({}, config), {}, {\n                                        cancelToken: (_this$cancelToken2 = _this.cancelToken) === null || _this$cancelToken2 === void 0 ? void 0 : _this$cancelToken2.token\n                                    }),\n                                    params: params\n                                });\n                            case 4:\n                                res = _context.sent;\n                                _this.consecutiveFailures = 0; // always reset in case of no error\n                                return _context.abrupt(\"return\", res);\n                            case 9:\n                                _context.prev = 9;\n                                _context.t0 = _context[\"catch\"](1);\n                                _this.consecutiveFailures += 1;\n                                if (!(retry && isErrorRetryable(_context.t0))) {\n                                    _context.next = 17;\n                                    break;\n                                }\n                                _this._log(\"_req() - Retryable error, retrying request\");\n                                _context.next = 16;\n                                return sleep(retryInterval(_this.consecutiveFailures));\n                            case 16:\n                                return _context.abrupt(\"return\", _this._req(params, config, retry));\n                            case 17:\n                                throw _context.t0;\n                            case 18:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, null, [\n                    [\n                        1,\n                        9\n                    ]\n                ]);\n            }));\n            return function(_x, _x2, _x3) {\n                return _ref2.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_poll\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2() {\n            var _data$events, data, i;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                while(1){\n                    switch(_context2.prev = _context2.next){\n                        case 0:\n                            if (!(_this.state === ConnectionState.Connected)) {\n                                _context2.next = 25;\n                                break;\n                            }\n                            _context2.prev = 1;\n                            _context2.next = 4;\n                            return _this._req({}, {\n                                timeout: 30000\n                            }, true);\n                        case 4:\n                            data = _context2.sent;\n                            // 30s => API responds in 20s if there is no event\n                            if ((_data$events = data.events) !== null && _data$events !== void 0 && _data$events.length) {\n                                for(i = 0; i < data.events.length; i++){\n                                    _this.client.dispatchEvent(data.events[i]);\n                                }\n                            }\n                            _context2.next = 23;\n                            break;\n                        case 8:\n                            _context2.prev = 8;\n                            _context2.t0 = _context2[\"catch\"](1);\n                            if (!axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].isCancel(_context2.t0)) {\n                                _context2.next = 13;\n                                break;\n                            }\n                            _this._log(\"_poll() - axios canceled request\");\n                            return _context2.abrupt(\"return\");\n                        case 13:\n                            if (!isConnectionIDError(_context2.t0)) {\n                                _context2.next = 18;\n                                break;\n                            }\n                            _this._log(\"_poll() - ConnectionID error, connecting without ID...\");\n                            _this._setState(ConnectionState.Disconnected);\n                            _this.connect(true);\n                            return _context2.abrupt(\"return\");\n                        case 18:\n                            if (!(isAPIError(_context2.t0) && !isErrorRetryable(_context2.t0))) {\n                                _context2.next = 21;\n                                break;\n                            }\n                            _this._setState(ConnectionState.Closed);\n                            return _context2.abrupt(\"return\");\n                        case 21:\n                            _context2.next = 23;\n                            return sleep(retryInterval(_this.consecutiveFailures));\n                        case 23:\n                            _context2.next = 0;\n                            break;\n                        case 25:\n                        case \"end\":\n                            return _context2.stop();\n                    }\n                }\n            }, _callee2, null, [\n                [\n                    1,\n                    8\n                ]\n            ]);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connect\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3() {\n            var reconnect, _yield$_this$_req, event, _args3 = arguments;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                while(1){\n                    switch(_context3.prev = _context3.next){\n                        case 0:\n                            reconnect = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : false;\n                            if (!(_this.state === ConnectionState.Connecting)) {\n                                _context3.next = 4;\n                                break;\n                            }\n                            _this._log(\"connect() - connecting already in progress\", {\n                                reconnect: reconnect\n                            }, \"warn\");\n                            return _context3.abrupt(\"return\");\n                        case 4:\n                            if (!(_this.state === ConnectionState.Connected)) {\n                                _context3.next = 7;\n                                break;\n                            }\n                            _this._log(\"connect() - already connected and polling\", {\n                                reconnect: reconnect\n                            }, \"warn\");\n                            return _context3.abrupt(\"return\");\n                        case 7:\n                            _this._setState(ConnectionState.Connecting);\n                            _this.connectionID = undefined; // connect should be sent with empty connection_id so API creates one\n                            _context3.prev = 9;\n                            _context3.next = 12;\n                            return _this._req({\n                                json: _this.client._buildWSPayload()\n                            }, {\n                                timeout: 8000\n                            }, reconnect);\n                        case 12:\n                            _yield$_this$_req = _context3.sent;\n                            event = _yield$_this$_req.event;\n                            _this._setState(ConnectionState.Connected);\n                            _this.connectionID = event.connection_id; // @ts-expect-error\n                            _this.client.dispatchEvent(event);\n                            _this._poll();\n                            if (reconnect) {\n                                _this.client.recoverState();\n                            }\n                            return _context3.abrupt(\"return\", event);\n                        case 22:\n                            _context3.prev = 22;\n                            _context3.t0 = _context3[\"catch\"](9);\n                            _this._setState(ConnectionState.Closed);\n                            throw _context3.t0;\n                        case 26:\n                        case \"end\":\n                            return _context3.stop();\n                    }\n                }\n            }, _callee3, null, [\n                [\n                    9,\n                    22\n                ]\n            ]);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"isHealthy\", function() {\n            return !!_this.connectionID && _this.state === ConnectionState.Connected;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnect\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4() {\n            var _this$cancelToken3;\n            var timeout, connection_id, _args4 = arguments;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                while(1){\n                    switch(_context4.prev = _context4.next){\n                        case 0:\n                            timeout = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : 2000;\n                            removeConnectionEventListeners(_this._onlineStatusChanged);\n                            _this._setState(ConnectionState.Disconnected);\n                            (_this$cancelToken3 = _this.cancelToken) === null || _this$cancelToken3 === void 0 ? void 0 : _this$cancelToken3.cancel(\"disconnect() is called\");\n                            _this.cancelToken = undefined;\n                            connection_id = _this.connectionID;\n                            _this.connectionID = undefined;\n                            _context4.prev = 7;\n                            _context4.next = 10;\n                            return _this._req({\n                                close: true,\n                                connection_id: connection_id\n                            }, {\n                                timeout: timeout\n                            }, false);\n                        case 10:\n                            _this._log(\"disconnect() - Closed connectionID\");\n                            _context4.next = 16;\n                            break;\n                        case 13:\n                            _context4.prev = 13;\n                            _context4.t0 = _context4[\"catch\"](7);\n                            _this._log(\"disconnect() - Failed\", {\n                                err: _context4.t0\n                            }, \"error\");\n                        case 16:\n                        case \"end\":\n                            return _context4.stop();\n                    }\n                }\n            }, _callee4, null, [\n                [\n                    7,\n                    13\n                ]\n            ]);\n        })));\n        this.client = client;\n        this.state = ConnectionState.Init;\n        this.consecutiveFailures = 0;\n        addConnectionEventListeners(this._onlineStatusChanged);\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(WSConnectionFallback, [\n        {\n            key: \"_log\",\n            value: function _log(msg) {\n                var extra = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var level = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"info\";\n                this.client.logger(level, \"WSConnectionFallback:\" + msg, _objectSpread$2({\n                    tags: [\n                        \"connection_fallback\",\n                        \"connection\"\n                    ]\n                }, extra));\n            }\n        },\n        {\n            key: \"_setState\",\n            value: function _setState(state) {\n                this._log(\"_setState() - \".concat(state)); // transition from connecting => connected\n                if (this.state === ConnectionState.Connecting && state === ConnectionState.Connected) {\n                    this.client.dispatchEvent({\n                        type: \"connection.changed\",\n                        online: true\n                    });\n                }\n                if (state === ConnectionState.Closed || state === ConnectionState.Disconnected) {\n                    this.client.dispatchEvent({\n                        type: \"connection.changed\",\n                        online: false\n                    });\n                }\n                this.state = state;\n            }\n        }\n    ]);\n    return WSConnectionFallback;\n}();\nvar Campaign = /*#__PURE__*/ function() {\n    function Campaign(client, id, data) {\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, Campaign);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"id\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"data\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"client\", void 0);\n        this.client = client;\n        this.id = id;\n        this.data = data;\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(Campaign, [\n        {\n            key: \"create\",\n            value: function() {\n                var _create = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee() {\n                    var _this$data, _this$data2, _this$data3, _this$data4, _this$data5, _this$data6, _this$data7, _this$data8;\n                    var body, result;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                        while(1){\n                            switch(_context.prev = _context.next){\n                                case 0:\n                                    body = {\n                                        id: this.id,\n                                        message_template: (_this$data = this.data) === null || _this$data === void 0 ? void 0 : _this$data.message_template,\n                                        segment_ids: (_this$data2 = this.data) === null || _this$data2 === void 0 ? void 0 : _this$data2.segment_ids,\n                                        sender_id: (_this$data3 = this.data) === null || _this$data3 === void 0 ? void 0 : _this$data3.sender_id,\n                                        channel_template: (_this$data4 = this.data) === null || _this$data4 === void 0 ? void 0 : _this$data4.channel_template,\n                                        create_channels: (_this$data5 = this.data) === null || _this$data5 === void 0 ? void 0 : _this$data5.create_channels,\n                                        description: (_this$data6 = this.data) === null || _this$data6 === void 0 ? void 0 : _this$data6.description,\n                                        name: (_this$data7 = this.data) === null || _this$data7 === void 0 ? void 0 : _this$data7.name,\n                                        user_ids: (_this$data8 = this.data) === null || _this$data8 === void 0 ? void 0 : _this$data8.user_ids\n                                    };\n                                    _context.next = 3;\n                                    return this.client.createCampaign(body);\n                                case 3:\n                                    result = _context.sent;\n                                    this.id = result.campaign.id;\n                                    this.data = result.campaign;\n                                    return _context.abrupt(\"return\", result);\n                                case 7:\n                                case \"end\":\n                                    return _context.stop();\n                            }\n                        }\n                    }, _callee, this);\n                }));\n                function create() {\n                    return _create.apply(this, arguments);\n                }\n                return create;\n            }()\n        },\n        {\n            key: \"verifyCampaignId\",\n            value: function verifyCampaignId() {\n                if (!this.id) {\n                    throw new Error(\"Campaign id is missing. Either create the campaign using campaign.create() or set the id during instantiation - const campaign = client.campaign(id)\");\n                }\n            }\n        },\n        {\n            key: \"start\",\n            value: function() {\n                var _start = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2(options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                        while(1){\n                            switch(_context2.prev = _context2.next){\n                                case 0:\n                                    this.verifyCampaignId();\n                                    _context2.next = 3;\n                                    return this.client.startCampaign(this.id, options);\n                                case 3:\n                                    return _context2.abrupt(\"return\", _context2.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context2.stop();\n                            }\n                        }\n                    }, _callee2, this);\n                }));\n                function start(_x) {\n                    return _start.apply(this, arguments);\n                }\n                return start;\n            }()\n        },\n        {\n            key: \"update\",\n            value: function() {\n                var _update = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3(data) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                        while(1){\n                            switch(_context3.prev = _context3.next){\n                                case 0:\n                                    this.verifyCampaignId();\n                                    return _context3.abrupt(\"return\", this.client.updateCampaign(this.id, data));\n                                case 2:\n                                case \"end\":\n                                    return _context3.stop();\n                            }\n                        }\n                    }, _callee3, this);\n                }));\n                function update(_x2) {\n                    return _update.apply(this, arguments);\n                }\n                return update;\n            }()\n        },\n        {\n            key: \"delete\",\n            value: function() {\n                var _delete2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                        while(1){\n                            switch(_context4.prev = _context4.next){\n                                case 0:\n                                    this.verifyCampaignId();\n                                    _context4.next = 3;\n                                    return this.client.deleteCampaign(this.id);\n                                case 3:\n                                    return _context4.abrupt(\"return\", _context4.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context4.stop();\n                            }\n                        }\n                    }, _callee4, this);\n                }));\n                function _delete() {\n                    return _delete2.apply(this, arguments);\n                }\n                return _delete;\n            }()\n        },\n        {\n            key: \"stop\",\n            value: function() {\n                var _stop = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                        while(1){\n                            switch(_context5.prev = _context5.next){\n                                case 0:\n                                    this.verifyCampaignId();\n                                    return _context5.abrupt(\"return\", this.client.stopCampaign(this.id));\n                                case 2:\n                                case \"end\":\n                                    return _context5.stop();\n                            }\n                        }\n                    }, _callee5, this);\n                }));\n                function stop() {\n                    return _stop.apply(this, arguments);\n                }\n                return stop;\n            }()\n        },\n        {\n            key: \"get\",\n            value: function() {\n                var _get = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                        while(1){\n                            switch(_context6.prev = _context6.next){\n                                case 0:\n                                    this.verifyCampaignId();\n                                    return _context6.abrupt(\"return\", this.client.getCampaign(this.id));\n                                case 2:\n                                case \"end\":\n                                    return _context6.stop();\n                            }\n                        }\n                    }, _callee6, this);\n                }));\n                function get() {\n                    return _get.apply(this, arguments);\n                }\n                return get;\n            }()\n        }\n    ]);\n    return Campaign;\n}();\nvar Segment = /*#__PURE__*/ function() {\n    function Segment(client, type, id, data) {\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, Segment);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"type\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"id\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"data\", void 0);\n        this.client = client;\n        this.type = type;\n        this.id = id;\n        this.data = data;\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(Segment, [\n        {\n            key: \"create\",\n            value: function() {\n                var _create = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee() {\n                    var _this$data, _this$data2, _this$data3, _this$data4, _this$data5;\n                    var body;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                        while(1){\n                            switch(_context.prev = _context.next){\n                                case 0:\n                                    body = {\n                                        name: (_this$data = this.data) === null || _this$data === void 0 ? void 0 : _this$data.name,\n                                        filter: (_this$data2 = this.data) === null || _this$data2 === void 0 ? void 0 : _this$data2.filter,\n                                        description: (_this$data3 = this.data) === null || _this$data3 === void 0 ? void 0 : _this$data3.description,\n                                        all_sender_channels: (_this$data4 = this.data) === null || _this$data4 === void 0 ? void 0 : _this$data4.all_sender_channels,\n                                        all_users: (_this$data5 = this.data) === null || _this$data5 === void 0 ? void 0 : _this$data5.all_users\n                                    };\n                                    return _context.abrupt(\"return\", this.client.createSegment(this.type, this.id, body));\n                                case 2:\n                                case \"end\":\n                                    return _context.stop();\n                            }\n                        }\n                    }, _callee, this);\n                }));\n                function create() {\n                    return _create.apply(this, arguments);\n                }\n                return create;\n            }()\n        },\n        {\n            key: \"verifySegmentId\",\n            value: function verifySegmentId() {\n                if (!this.id) {\n                    throw new Error(\"Segment id is missing. Either create the segment using segment.create() or set the id during instantiation - const segment = client.segment(id)\");\n                }\n            }\n        },\n        {\n            key: \"get\",\n            value: function() {\n                var _get = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                        while(1){\n                            switch(_context2.prev = _context2.next){\n                                case 0:\n                                    this.verifySegmentId();\n                                    return _context2.abrupt(\"return\", this.client.getSegment(this.id));\n                                case 2:\n                                case \"end\":\n                                    return _context2.stop();\n                            }\n                        }\n                    }, _callee2, this);\n                }));\n                function get() {\n                    return _get.apply(this, arguments);\n                }\n                return get;\n            }()\n        },\n        {\n            key: \"update\",\n            value: function() {\n                var _update = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3(data) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                        while(1){\n                            switch(_context3.prev = _context3.next){\n                                case 0:\n                                    this.verifySegmentId();\n                                    return _context3.abrupt(\"return\", this.client.updateSegment(this.id, data));\n                                case 2:\n                                case \"end\":\n                                    return _context3.stop();\n                            }\n                        }\n                    }, _callee3, this);\n                }));\n                function update(_x) {\n                    return _update.apply(this, arguments);\n                }\n                return update;\n            }()\n        },\n        {\n            key: \"addTargets\",\n            value: function() {\n                var _addTargets = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4(targets) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                        while(1){\n                            switch(_context4.prev = _context4.next){\n                                case 0:\n                                    this.verifySegmentId();\n                                    return _context4.abrupt(\"return\", this.client.addSegmentTargets(this.id, targets));\n                                case 2:\n                                case \"end\":\n                                    return _context4.stop();\n                            }\n                        }\n                    }, _callee4, this);\n                }));\n                function addTargets(_x2) {\n                    return _addTargets.apply(this, arguments);\n                }\n                return addTargets;\n            }()\n        },\n        {\n            key: \"removeTargets\",\n            value: function() {\n                var _removeTargets = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5(targets) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                        while(1){\n                            switch(_context5.prev = _context5.next){\n                                case 0:\n                                    this.verifySegmentId();\n                                    return _context5.abrupt(\"return\", this.client.removeSegmentTargets(this.id, targets));\n                                case 2:\n                                case \"end\":\n                                    return _context5.stop();\n                            }\n                        }\n                    }, _callee5, this);\n                }));\n                function removeTargets(_x3) {\n                    return _removeTargets.apply(this, arguments);\n                }\n                return removeTargets;\n            }()\n        },\n        {\n            key: \"delete\",\n            value: function() {\n                var _delete2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                        while(1){\n                            switch(_context6.prev = _context6.next){\n                                case 0:\n                                    this.verifySegmentId();\n                                    return _context6.abrupt(\"return\", this.client.deleteSegment(this.id));\n                                case 2:\n                                case \"end\":\n                                    return _context6.stop();\n                            }\n                        }\n                    }, _callee6, this);\n                }));\n                function _delete() {\n                    return _delete2.apply(this, arguments);\n                }\n                return _delete;\n            }()\n        },\n        {\n            key: \"targetExists\",\n            value: function() {\n                var _targetExists = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee7(targetId) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee7$(_context7) {\n                        while(1){\n                            switch(_context7.prev = _context7.next){\n                                case 0:\n                                    this.verifySegmentId();\n                                    return _context7.abrupt(\"return\", this.client.segmentTargetExists(this.id, targetId));\n                                case 2:\n                                case \"end\":\n                                    return _context7.stop();\n                            }\n                        }\n                    }, _callee7, this);\n                }));\n                function targetExists(_x4) {\n                    return _targetExists.apply(this, arguments);\n                }\n                return targetExists;\n            }()\n        },\n        {\n            key: \"queryTargets\",\n            value: function() {\n                var _queryTargets = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee8() {\n                    var filter, sort, options, _args8 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee8$(_context8) {\n                        while(1){\n                            switch(_context8.prev = _context8.next){\n                                case 0:\n                                    filter = _args8.length > 0 && _args8[0] !== undefined ? _args8[0] : {};\n                                    sort = _args8.length > 1 && _args8[1] !== undefined ? _args8[1] : [];\n                                    options = _args8.length > 2 && _args8[2] !== undefined ? _args8[2] : {};\n                                    this.verifySegmentId();\n                                    return _context8.abrupt(\"return\", this.client.querySegmentTargets(this.id, filter, sort, options));\n                                case 5:\n                                case \"end\":\n                                    return _context8.stop();\n                            }\n                        }\n                    }, _callee8, this);\n                }));\n                function queryTargets() {\n                    return _queryTargets.apply(this, arguments);\n                }\n                return queryTargets;\n            }()\n        }\n    ]);\n    return Segment;\n}();\nfunction _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n    return function _createSuperInternal() {\n        var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19___default()(Derived), result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_19___default()(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_18___default()(this, result);\n    };\n}\nfunction _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {}));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n/**\n * Utility Types\n */ /* Unknown Record */ //alias to avoid breaking change\n/**\n * Response Types\n */ // TODO: Figure out a way to strongly type set and unset.\n// Thumb URL(thumb_url) is added considering video attachments as the backend will return the thumbnail in the response.\n/**\n * Option Types\n */ // TODO: rename to UpdateChannelOptions in the next major update and use it in channel._update and/or channel.update\n/** @deprecated use MarkChannelsReadOptions instead */ // TODO: rename to UpdateChannelTypeOptions in the next major update\n/**\n * Event Types\n */ /**\n * Filter Types\n */ /**\n * Sort Types\n */ /**\n * Base Types\n */ /*\n  DeleteUserOptions specifies a collection of one or more `user_ids` to be deleted.\n\n  `user`:\n    - soft: marks user as deleted and retains all user data \n    - pruning: marks user as deleted and nullifies user information \n    - hard: deletes user completely - this requires hard option for messages and conversation as well\n  `conversations`:\n    - soft: marks all conversation channels as deleted (same effect as Delete Channels with 'hard' option disabled)\n    - hard: deletes channel and all its data completely including messages (same effect as Delete Channels with 'hard' option enabled)\n  `messages`:\n    - soft: marks all user messages as deleted without removing any related message data\n    - pruning: marks all user messages as deleted, nullifies message information and removes some message data such as reactions and flags\n    - hard: deletes messages completely with all related information\n  `new_channel_owner_id`: any channels owned by the hard-deleted user will be transferred to this user ID\n */ // TODO: add better typing\nvar ErrorFromResponse = /*#__PURE__*/ function(_Error) {\n    _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_17___default()(ErrorFromResponse, _Error);\n    var _super = _createSuper(ErrorFromResponse);\n    function ErrorFromResponse() {\n        var _this;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, ErrorFromResponse);\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        _this = _super.call.apply(_super, [\n            this\n        ].concat(args));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default()(_this), \"code\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default()(_this), \"response\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_16___default()(_this), \"status\", void 0);\n        return _this;\n    }\n    return ErrorFromResponse;\n}(/*#__PURE__*/ _babel_runtime_helpers_wrapNativeSuper__WEBPACK_IMPORTED_MODULE_20___default()(Error));\nfunction ownKeys$1(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread$1(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys$1(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys$1(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nfunction _createForOfIteratorHelper$1(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function e(_e) {\n                    throw _e;\n                },\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n        },\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray$1(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\nfunction _arrayLikeToArray$1(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\nvar Thread = /*#__PURE__*/ function() {\n    function Thread(client, t) {\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, Thread);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"id\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"latestReplies\", []);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"participants\", []);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"message\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"channel\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_channel\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"replyCount\", 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_client\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"read\", {});\n        this.id = t.parent_message.id;\n        this.message = formatMessage(t.parent_message);\n        this.latestReplies = t.latest_replies.map(formatMessage);\n        this.participants = t.thread_participants;\n        this.replyCount = t.reply_count;\n        this.channel = t.channel;\n        this._channel = client.channel(t.channel.type, t.channel.id);\n        this._client = client;\n        if (t.read) {\n            var _iterator = _createForOfIteratorHelper$1(t.read), _step;\n            try {\n                for(_iterator.s(); !(_step = _iterator.n()).done;){\n                    var r = _step.value;\n                    this.read[r.user.id] = _objectSpread$1(_objectSpread$1({}, r), {}, {\n                        last_read: new Date(r.last_read)\n                    });\n                }\n            } catch (err) {\n                _iterator.e(err);\n            } finally{\n                _iterator.f();\n            }\n        }\n    }\n    _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(Thread, [\n        {\n            key: \"getClient\",\n            value: function getClient() {\n                return this._client;\n            }\n        },\n        {\n            key: \"addReply\",\n            value: function addReply(message) {\n                if (message.parent_id !== this.message.id) {\n                    throw new Error(\"Message does not belong to this thread\");\n                }\n                this.latestReplies = addToMessageList(this.latestReplies, formatMessage(message), true);\n            }\n        },\n        {\n            key: \"updateReply\",\n            value: function updateReply(message) {\n                this.latestReplies = this.latestReplies.map(function(m) {\n                    if (m.id === message.id) {\n                        return formatMessage(message);\n                    }\n                    return m;\n                });\n            }\n        },\n        {\n            key: \"updateMessageOrReplyIfExists\",\n            value: function updateMessageOrReplyIfExists(message) {\n                if (!message.parent_id && message.id !== this.message.id) {\n                    return;\n                }\n                if (message.parent_id && message.parent_id !== this.message.id) {\n                    return;\n                }\n                if (message.parent_id && message.parent_id === this.message.id) {\n                    this.updateReply(message);\n                    return;\n                }\n                if (!message.parent_id && message.id === this.message.id) {\n                    this.message = formatMessage(message);\n                }\n            }\n        },\n        {\n            key: \"addReaction\",\n            value: function addReaction(reaction, message, enforce_unique) {\n                var _this = this;\n                if (!message) return;\n                this.latestReplies = this.latestReplies.map(function(m) {\n                    if (m.id === message.id) {\n                        return formatMessage(_this._channel.state.addReaction(reaction, message, enforce_unique));\n                    }\n                    return m;\n                });\n            }\n        },\n        {\n            key: \"removeReaction\",\n            value: function removeReaction(reaction, message) {\n                var _this2 = this;\n                if (!message) return;\n                this.latestReplies = this.latestReplies.map(function(m) {\n                    if (m.id === message.id) {\n                        return formatMessage(_this2._channel.state.removeReaction(reaction, message));\n                    }\n                    return m;\n                });\n            }\n        }\n    ]);\n    return Thread;\n}();\nvar _excluded = [\n    \"created_at\",\n    \"updated_at\",\n    \"last_active\",\n    \"online\"\n], _excluded2 = [\n    \"params\",\n    \"headers\"\n];\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n        if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n            if (it) o = it;\n            var i = 0;\n            var F = function F() {};\n            return {\n                s: F,\n                n: function n() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                },\n                e: function e(_e) {\n                    throw _e;\n                },\n                f: F\n            };\n        }\n        throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true, didErr = false, err;\n    return {\n        s: function s() {\n            it = it.call(o);\n        },\n        n: function n() {\n            var step = it.next();\n            normalCompletion = step.done;\n            return step;\n        },\n        e: function e(_e2) {\n            didErr = true;\n            err = _e2;\n        },\n        f: function f() {\n            try {\n                if (!normalCompletion && it.return != null) it.return();\n            } finally{\n                if (didErr) throw err;\n            }\n        }\n    };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++){\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\nfunction ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n    if (Object.getOwnPropertySymbols) {\n        var symbols = Object.getOwnPropertySymbols(object);\n        if (enumerableOnly) {\n            symbols = symbols.filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n            });\n        }\n        keys.push.apply(keys, symbols);\n    }\n    return keys;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        if (i % 2) {\n            ownKeys(Object(source), true).forEach(function(key) {\n                _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(target, key, source[key]);\n            });\n        } else if (Object.getOwnPropertyDescriptors) {\n            Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n        } else {\n            ownKeys(Object(source)).forEach(function(key) {\n                Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n            });\n        }\n    }\n    return target;\n}\nfunction isString(x) {\n    return typeof x === \"string\" || x instanceof String;\n}\nvar StreamChat = /*#__PURE__*/ function() {\n    function StreamChat(_key, secretOrOptions, _options) {\n        var _this = this, _this$options;\n        _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, StreamChat);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_user\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"activeChannels\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"anonymous\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"persistUserOnConnectionFailure\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"axiosInstance\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"baseURL\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"browser\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"cleaningIntervalRef\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"clientID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"configs\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"key\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"listeners\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"logger\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"recoverStateOnReconnect\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"mutedChannels\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"mutedUsers\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"node\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"options\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"secret\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setUserPromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"state\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"tokenManager\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"user\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"userAgent\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"userID\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsBaseURL\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsConnection\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsFallback\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"wsPromise\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"consecutiveFailures\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"insightMetrics\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"defaultWSTimeoutWithFallback\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"defaultWSTimeout\", void 0);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"nextRequestAbortController\", null);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_getConnectionID\", function() {\n            var _this$wsConnection, _this$wsFallback;\n            return ((_this$wsConnection = _this.wsConnection) === null || _this$wsConnection === void 0 ? void 0 : _this$wsConnection.connectionID) || ((_this$wsFallback = _this.wsFallback) === null || _this$wsFallback === void 0 ? void 0 : _this$wsFallback.connectionID);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_hasConnectionID\", function() {\n            return Boolean(_this._getConnectionID());\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectUser\", /*#__PURE__*/ function() {\n            var _ref = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee(user, userTokenOrProvider) {\n                var setTokenPromise, wsPromise;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee$(_context) {\n                    while(1){\n                        switch(_context.prev = _context.next){\n                            case 0:\n                                if (user.id) {\n                                    _context.next = 2;\n                                    break;\n                                }\n                                throw new Error('The \"id\" field on the user is missing');\n                            case 2:\n                                if (!(_this.userID === user.id && _this.setUserPromise)) {\n                                    _context.next = 5;\n                                    break;\n                                }\n                                console.warn(\"Consecutive calls to connectUser is detected, ideally you should only call this function once in your app.\");\n                                return _context.abrupt(\"return\", _this.setUserPromise);\n                            case 5:\n                                if (!_this.userID) {\n                                    _context.next = 7;\n                                    break;\n                                }\n                                throw new Error(\"Use client.disconnect() before trying to connect as a different user. connectUser was called twice.\");\n                            case 7:\n                                if ((_this._isUsingServerAuth() || _this.node) && !_this.options.allowServerSideConnect) {\n                                    console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add \"allowServerSideConnect: true\" to the client options to disable this warning.');\n                                } // we generate the client id client side\n                                _this.userID = user.id;\n                                _this.anonymous = false;\n                                setTokenPromise = _this._setToken(user, userTokenOrProvider);\n                                _this._setUser(user);\n                                wsPromise = _this.openConnection();\n                                _this.setUserPromise = Promise.all([\n                                    setTokenPromise,\n                                    wsPromise\n                                ]).then(function(result) {\n                                    return result[1];\n                                } // We only return connection promise;\n                                );\n                                _context.prev = 14;\n                                _context.next = 17;\n                                return _this.setUserPromise;\n                            case 17:\n                                return _context.abrupt(\"return\", _context.sent);\n                            case 20:\n                                _context.prev = 20;\n                                _context.t0 = _context[\"catch\"](14);\n                                if (_this.persistUserOnConnectionFailure) {\n                                    // cleanup client to allow the user to retry connectUser again\n                                    _this.closeConnection();\n                                } else {\n                                    _this.disconnectUser();\n                                }\n                                throw _context.t0;\n                            case 24:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, null, [\n                    [\n                        14,\n                        20\n                    ]\n                ]);\n            }));\n            return function(_x, _x2) {\n                return _ref.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setUser\", this.connectUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setToken\", function(user, userTokenOrProvider) {\n            return _this.tokenManager.setTokenOrProvider(userTokenOrProvider, user);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"closeConnection\", /*#__PURE__*/ function() {\n            var _ref2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee2(timeout) {\n                var _this$wsConnection2, _this$wsFallback2;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee2$(_context2) {\n                    while(1){\n                        switch(_context2.prev = _context2.next){\n                            case 0:\n                                if (_this.cleaningIntervalRef != null) {\n                                    clearInterval(_this.cleaningIntervalRef);\n                                    _this.cleaningIntervalRef = undefined;\n                                }\n                                _context2.next = 3;\n                                return Promise.all([\n                                    (_this$wsConnection2 = _this.wsConnection) === null || _this$wsConnection2 === void 0 ? void 0 : _this$wsConnection2.disconnect(timeout),\n                                    (_this$wsFallback2 = _this.wsFallback) === null || _this$wsFallback2 === void 0 ? void 0 : _this$wsFallback2.disconnect(timeout)\n                                ]);\n                            case 3:\n                                return _context2.abrupt(\"return\", Promise.resolve());\n                            case 4:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2);\n            }));\n            return function(_x3) {\n                return _ref2.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"openConnection\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee3() {\n            var _this$wsConnection3, _this$wsConnection4, _this$wsFallback3;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee3$(_context3) {\n                while(1){\n                    switch(_context3.prev = _context3.next){\n                        case 0:\n                            if (_this.userID) {\n                                _context3.next = 2;\n                                break;\n                            }\n                            throw Error(\"User is not set on client, use client.connectUser or client.connectAnonymousUser instead\");\n                        case 2:\n                            if (!((_this$wsConnection3 = _this.wsConnection) !== null && _this$wsConnection3 !== void 0 && _this$wsConnection3.isConnecting && _this.wsPromise)) {\n                                _context3.next = 5;\n                                break;\n                            }\n                            _this.logger(\"info\", \"client:openConnection() - connection already in progress\", {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            return _context3.abrupt(\"return\", _this.wsPromise);\n                        case 5:\n                            if (!(((_this$wsConnection4 = _this.wsConnection) !== null && _this$wsConnection4 !== void 0 && _this$wsConnection4.isHealthy || (_this$wsFallback3 = _this.wsFallback) !== null && _this$wsFallback3 !== void 0 && _this$wsFallback3.isHealthy()) && _this._hasConnectionID())) {\n                                _context3.next = 8;\n                                break;\n                            }\n                            _this.logger(\"info\", \"client:openConnection() - openConnection called twice, healthy connection already exists\", {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            return _context3.abrupt(\"return\", Promise.resolve());\n                        case 8:\n                            _this.clientID = \"\".concat(_this.userID, \"--\").concat(randomId());\n                            _this.wsPromise = _this.connect();\n                            _this._startCleaning();\n                            return _context3.abrupt(\"return\", _this.wsPromise);\n                        case 12:\n                        case \"end\":\n                            return _context3.stop();\n                    }\n                }\n            }, _callee3);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_setupConnection\", this.openConnection);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_normalizeDate\", function(before) {\n            if (before instanceof Date) {\n                before = before.toISOString();\n            }\n            if (before === \"\") {\n                throw new Error(\"Don't pass blank string for since, use null instead if resetting the token revoke\");\n            }\n            return before;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnectUser\", /*#__PURE__*/ function() {\n            var _ref4 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee4(timeout) {\n                var closePromise, _i, _Object$values, _channel;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee4$(_context4) {\n                    while(1){\n                        switch(_context4.prev = _context4.next){\n                            case 0:\n                                _this.logger(\"info\", \"client:disconnect() - Disconnecting the client\", {\n                                    tags: [\n                                        \"connection\",\n                                        \"client\"\n                                    ]\n                                }); // remove the user specific fields\n                                delete _this.user;\n                                delete _this._user;\n                                delete _this.userID;\n                                _this.anonymous = false;\n                                closePromise = _this.closeConnection(timeout);\n                                for(_i = 0, _Object$values = Object.values(_this.activeChannels); _i < _Object$values.length; _i++){\n                                    _channel = _Object$values[_i];\n                                    _channel._disconnect();\n                                } // ensure we no longer return inactive channels\n                                _this.activeChannels = {}; // reset client state\n                                _this.state = new ClientState(); // reset token manager\n                                setTimeout(_this.tokenManager.reset); // delay reseting to use token for disconnect calls\n                                // close the WS connection\n                                return _context4.abrupt(\"return\", closePromise);\n                            case 11:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4);\n            }));\n            return function(_x4) {\n                return _ref4.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"disconnect\", this.disconnectUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"connectAnonymousUser\", function() {\n            if ((_this._isUsingServerAuth() || _this.node) && !_this.options.allowServerSideConnect) {\n                console.warn('Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add \"allowServerSideConnect: true\" to the client options to disable this warning.');\n            }\n            _this.anonymous = true;\n            _this.userID = randomId();\n            var anonymousUser = {\n                id: _this.userID,\n                anon: true\n            };\n            _this._setToken(anonymousUser, \"\");\n            _this._setUser(anonymousUser);\n            return _this._setupConnection();\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"setAnonymousUser\", this.connectAnonymousUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"doAxiosRequest\", /*#__PURE__*/ function() {\n            var _ref5 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee5(type, url, data) {\n                var options, requestConfig, response, _requestConfig$header, _args5 = arguments;\n                return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee5$(_context5) {\n                    while(1){\n                        switch(_context5.prev = _context5.next){\n                            case 0:\n                                options = _args5.length > 3 && _args5[3] !== undefined ? _args5[3] : {};\n                                _context5.next = 3;\n                                return _this.tokenManager.tokenReady();\n                            case 3:\n                                requestConfig = _this._enrichAxiosOptions(options);\n                                _context5.prev = 4;\n                                _this._logApiRequest(type, url, data, requestConfig);\n                                _context5.t0 = type;\n                                _context5.next = _context5.t0 === \"get\" ? 9 : _context5.t0 === \"delete\" ? 13 : _context5.t0 === \"post\" ? 17 : _context5.t0 === \"postForm\" ? 21 : _context5.t0 === \"put\" ? 25 : _context5.t0 === \"patch\" ? 29 : _context5.t0 === \"options\" ? 33 : 37;\n                                break;\n                            case 9:\n                                _context5.next = 11;\n                                return _this.axiosInstance.get(url, requestConfig);\n                            case 11:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 13:\n                                _context5.next = 15;\n                                return _this.axiosInstance.delete(url, requestConfig);\n                            case 15:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 17:\n                                _context5.next = 19;\n                                return _this.axiosInstance.post(url, data, requestConfig);\n                            case 19:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 21:\n                                _context5.next = 23;\n                                return _this.axiosInstance.postForm(url, data, requestConfig);\n                            case 23:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 25:\n                                _context5.next = 27;\n                                return _this.axiosInstance.put(url, data, requestConfig);\n                            case 27:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 29:\n                                _context5.next = 31;\n                                return _this.axiosInstance.patch(url, data, requestConfig);\n                            case 31:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 33:\n                                _context5.next = 35;\n                                return _this.axiosInstance.options(url, requestConfig);\n                            case 35:\n                                response = _context5.sent;\n                                return _context5.abrupt(\"break\", 38);\n                            case 37:\n                                throw new Error(\"Invalid request type\");\n                            case 38:\n                                _this._logApiResponse(type, url, response);\n                                _this.consecutiveFailures = 0;\n                                return _context5.abrupt(\"return\", _this.handleResponse(response));\n                            case 43:\n                                _context5.prev = 43;\n                                _context5.t1 = _context5[\"catch\"](4);\n                                _context5.t1.client_request_id = (_requestConfig$header = requestConfig.headers) === null || _requestConfig$header === void 0 ? void 0 : _requestConfig$header[\"x-client-request-id\"];\n                                _this._logApiError(type, url, _context5.t1);\n                                _this.consecutiveFailures += 1;\n                                if (!_context5.t1.response) {\n                                    _context5.next = 60;\n                                    break;\n                                }\n                                if (!(_context5.t1.response.data.code === chatCodes.TOKEN_EXPIRED && !_this.tokenManager.isStatic())) {\n                                    _context5.next = 57;\n                                    break;\n                                }\n                                if (!(_this.consecutiveFailures > 1)) {\n                                    _context5.next = 53;\n                                    break;\n                                }\n                                _context5.next = 53;\n                                return sleep(retryInterval(_this.consecutiveFailures));\n                            case 53:\n                                _this.tokenManager.loadToken();\n                                _context5.next = 56;\n                                return _this.doAxiosRequest(type, url, data, options);\n                            case 56:\n                                return _context5.abrupt(\"return\", _context5.sent);\n                            case 57:\n                                return _context5.abrupt(\"return\", _this.handleResponse(_context5.t1.response));\n                            case 60:\n                                throw _context5.t1;\n                            case 61:\n                            case \"end\":\n                                return _context5.stop();\n                        }\n                    }\n                }, _callee5, null, [\n                    [\n                        4,\n                        43\n                    ]\n                ]);\n            }));\n            return function(_x5, _x6, _x7) {\n                return _ref5.apply(this, arguments);\n            };\n        }());\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"dispatchEvent\", function(event) {\n            if (!event.received_at) event.received_at = new Date(); // client event handlers\n            var postListenerCallbacks = _this._handleClientEvent(event); // channel event handlers\n            var cid = event.cid;\n            var channel = cid ? _this.activeChannels[cid] : undefined;\n            if (channel) {\n                channel._handleChannelEvent(event);\n            }\n            _this._callClientListeners(event);\n            if (channel) {\n                channel._callChannelListeners(event);\n            }\n            postListenerCallbacks.forEach(function(c) {\n                return c();\n            });\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"handleEvent\", function(messageEvent) {\n            // dispatch the event to the channel listeners\n            var jsonString = messageEvent.data;\n            var event = JSON.parse(jsonString);\n            _this.dispatchEvent(event);\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_updateMemberWatcherReferences\", function(user) {\n            var refMap = _this.state.userChannelReferences[user.id] || {};\n            for(var _channelID in refMap){\n                var _channel2 = _this.activeChannels[_channelID];\n                if (_channel2 !== null && _channel2 !== void 0 && _channel2.state) {\n                    if (_channel2.state.members[user.id]) {\n                        _channel2.state.members[user.id].user = user;\n                    }\n                    if (_channel2.state.watchers[user.id]) {\n                        _channel2.state.watchers[user.id] = user;\n                    }\n                    if (_channel2.state.read[user.id]) {\n                        _channel2.state.read[user.id].user = user;\n                    }\n                }\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_updateUserReferences\", this._updateMemberWatcherReferences);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_updateUserMessageReferences\", function(user) {\n            var refMap = _this.state.userChannelReferences[user.id] || {};\n            for(var _channelID2 in refMap){\n                var _channel3 = _this.activeChannels[_channelID2];\n                if (!_channel3) continue;\n                var state = _channel3.state;\n                /** update the messages from this user. */ state === null || state === void 0 ? void 0 : state.updateUserMessages(user);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_deleteUserMessageReference\", function(user) {\n            var hardDelete = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var refMap = _this.state.userChannelReferences[user.id] || {};\n            for(var _channelID3 in refMap){\n                var _channel4 = _this.activeChannels[_channelID3];\n                var state = _channel4.state;\n                /** deleted the messages from this user. */ state === null || state === void 0 ? void 0 : state.deleteUserMessages(user, hardDelete);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_handleUserEvent\", function(event) {\n            if (!event.user) {\n                return;\n            }\n            /** update the client.state with any changes to users */ if (event.type === \"user.presence.changed\" || event.type === \"user.updated\") {\n                if (event.user.id === _this.userID) {\n                    var user = _objectSpread({}, _this.user || {});\n                    var _user = _objectSpread({}, _this._user || {}); // Remove deleted properties from user objects.\n                    for(var _key2 in _this.user){\n                        if (_key2 in event.user || isOwnUserBaseProperty(_key2)) {\n                            continue;\n                        }\n                        delete user[_key2];\n                        delete _user[_key2];\n                    }\n                    /** Updating only available properties in _user object. */ for(var _key3 in event.user){\n                        if (_user && _key3 in _user) {\n                            _user[_key3] = event.user[_key3];\n                        }\n                    } // @ts-expect-error\n                    _this._user = _objectSpread({}, _user);\n                    _this.user = _objectSpread(_objectSpread({}, user), event.user);\n                }\n                _this.state.updateUser(event.user);\n                _this._updateMemberWatcherReferences(event.user);\n            }\n            if (event.type === \"user.updated\") {\n                _this._updateUserMessageReferences(event.user);\n            }\n            if (event.type === \"user.deleted\" && event.user.deleted_at && (event.mark_messages_deleted || event.hard_delete)) {\n                _this._deleteUserMessageReference(event.user, event.hard_delete);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_callClientListeners\", function(event) {\n            var client = _this; // gather and call the listeners\n            var listeners = [];\n            if (client.listeners.all) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(client.listeners.all));\n            }\n            if (client.listeners[event.type]) {\n                listeners.push.apply(listeners, _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(client.listeners[event.type]));\n            } // call the event and send it to the listeners\n            for(var _i2 = 0, _listeners = listeners; _i2 < _listeners.length; _i2++){\n                var listener = _listeners[_i2];\n                listener(event);\n            }\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"recoverState\", /*#__PURE__*/ _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee6() {\n            var cids;\n            return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee6$(_context6) {\n                while(1){\n                    switch(_context6.prev = _context6.next){\n                        case 0:\n                            _this.logger(\"info\", \"client:recoverState() - Start of recoverState with connectionID \".concat(_this._getConnectionID()), {\n                                tags: [\n                                    \"connection\"\n                                ]\n                            });\n                            cids = Object.keys(_this.activeChannels);\n                            if (!(cids.length && _this.recoverStateOnReconnect)) {\n                                _context6.next = 10;\n                                break;\n                            }\n                            _this.logger(\"info\", \"client:recoverState() - Start the querying of \".concat(cids.length, \" channels\"), {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            _context6.next = 6;\n                            return _this.queryChannels({\n                                cid: {\n                                    $in: cids\n                                }\n                            }, {\n                                last_message_at: -1\n                            }, {\n                                limit: 30\n                            });\n                        case 6:\n                            _this.logger(\"info\", \"client:recoverState() - Querying channels finished\", {\n                                tags: [\n                                    \"connection\",\n                                    \"client\"\n                                ]\n                            });\n                            _this.dispatchEvent({\n                                type: \"connection.recovered\"\n                            });\n                            _context6.next = 11;\n                            break;\n                        case 10:\n                            _this.dispatchEvent({\n                                type: \"connection.recovered\"\n                            });\n                        case 11:\n                            _this.wsPromise = Promise.resolve();\n                            _this.setUserPromise = Promise.resolve();\n                        case 13:\n                        case \"end\":\n                            return _context6.stop();\n                    }\n                }\n            }, _callee6);\n        })));\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"getChannelByMembers\", function(channelType, custom) {\n            // Check if the channel already exists.\n            // Only allow 1 channel object per cid\n            var membersStr = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_4___default()(custom.members || []).sort().join(\",\");\n            var tempCid = \"\".concat(channelType, \":!members-\").concat(membersStr);\n            if (!membersStr) {\n                throw Error(\"Please specify atleast one member when creating unique conversation\");\n            } // channel could exist in `activeChannels` list with either one of the following two keys:\n            // 1. cid - Which gets set on channel only after calling channel.query or channel.watch or channel.create\n            // 2. Sorted membersStr - E.g., \"messaging:amin,vishal\" OR \"messaging:amin,jaap,tom\"\n            //                        This is set when you create a channel, but haven't queried yet. After query,\n            //                        we will replace it with `cid`\n            for(var _key4 in _this.activeChannels){\n                var _channel5 = _this.activeChannels[_key4];\n                if (_channel5.disconnected) {\n                    continue;\n                }\n                if (_key4 === tempCid) {\n                    return _channel5;\n                }\n                if (_key4.indexOf(\"\".concat(channelType, \":!members-\")) === 0) {\n                    var membersStrInExistingChannel = Object.keys(_channel5.state.members).sort().join(\",\");\n                    if (membersStrInExistingChannel === membersStr) {\n                        return _channel5;\n                    }\n                }\n            }\n            var channel = new Channel(_this, channelType, undefined, custom); // For the time being set the key as membersStr, since we don't know the cid yet.\n            // In channel.query, we will replace it with 'cid'.\n            _this.activeChannels[tempCid] = channel;\n            return channel;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"getChannelById\", function(channelType, channelID, custom) {\n            if (typeof channelID === \"string\" && ~channelID.indexOf(\":\")) {\n                throw Error(\"Invalid channel id \".concat(channelID, \", can't contain the : character\"));\n            } // only allow 1 channel object per cid\n            var cid = \"\".concat(channelType, \":\").concat(channelID);\n            if (cid in _this.activeChannels && !_this.activeChannels[cid].disconnected) {\n                var _channel6 = _this.activeChannels[cid];\n                if (Object.keys(custom).length > 0) {\n                    _channel6.data = custom;\n                    _channel6._data = custom;\n                }\n                return _channel6;\n            }\n            var channel = new Channel(_this, channelType, channelID, custom);\n            _this.activeChannels[channel.cid] = channel;\n            return channel;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"updateUsers\", this.upsertUsers);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"updateUser\", this.upsertUser);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_unblockMessage\", this.unblockMessage);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"markAllRead\", this.markChannelsRead);\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_isUsingServerAuth\", function() {\n            return !!_this.secret;\n        });\n        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"_buildWSPayload\", function(client_request_id) {\n            return JSON.stringify({\n                user_id: _this.userID,\n                user_details: _this._user,\n                device: _this.options.device,\n                client_request_id: client_request_id\n            });\n        });\n        // set the key\n        this.key = _key;\n        this.listeners = {};\n        this.state = new ClientState(); // a list of channels to hide ws events from\n        this.mutedChannels = [];\n        this.mutedUsers = []; // set the secret\n        if (secretOrOptions && isString(secretOrOptions)) {\n            this.secret = secretOrOptions;\n        } // set the options... and figure out defaults...\n        var inputOptions = _options ? _options : secretOrOptions && !isString(secretOrOptions) ? secretOrOptions : {};\n        this.browser = typeof inputOptions.browser !== \"undefined\" ? inputOptions.browser : \"undefined\" !== \"undefined\";\n        this.node = !this.browser;\n        this.options = _objectSpread({\n            timeout: 3000,\n            withCredentials: false,\n            // making sure cookies are not sent\n            warmUp: false,\n            recoverStateOnReconnect: true\n        }, inputOptions);\n        if (this.node && !this.options.httpsAgent) {\n            this.options.httpsAgent = new (https__WEBPACK_IMPORTED_MODULE_10___default().Agent)({\n                keepAlive: true,\n                keepAliveMsecs: 3000\n            });\n        }\n        this.axiosInstance = axios__WEBPACK_IMPORTED_MODULE_21__[\"default\"].create(this.options);\n        this.setBaseURL(this.options.baseURL || \"https://chat.stream-io-api.com\");\n        if (typeof process !== \"undefined\" && process.env.STREAM_LOCAL_TEST_RUN) {\n            this.setBaseURL(\"http://localhost:3030\");\n        }\n        if (typeof process !== \"undefined\" && process.env.STREAM_LOCAL_TEST_HOST) {\n            this.setBaseURL(\"http://\" + process.env.STREAM_LOCAL_TEST_HOST);\n        } // WS connection is initialized when setUser is called\n        this.wsConnection = null;\n        this.wsPromise = null;\n        this.setUserPromise = null; // keeps a reference to all the channels that are in use\n        this.activeChannels = {}; // mapping between channel groups and configs\n        this.configs = {};\n        this.anonymous = false;\n        this.persistUserOnConnectionFailure = (_this$options = this.options) === null || _this$options === void 0 ? void 0 : _this$options.persistUserOnConnectionFailure; // If its a server-side client, then lets initialize the tokenManager, since token will be\n        // generated from secret.\n        this.tokenManager = new TokenManager(this.secret);\n        this.consecutiveFailures = 0;\n        this.insightMetrics = new InsightMetrics();\n        this.defaultWSTimeoutWithFallback = 6000;\n        this.defaultWSTimeout = 15000;\n        this.axiosInstance.defaults.paramsSerializer = axiosParamsSerializer;\n        /**\n     * logger function should accept 3 parameters:\n     * @param logLevel string\n     * @param message   string\n     * @param extraData object\n     *\n     * e.g.,\n     * const client = new StreamChat('api_key', {}, {\n     * \t\tlogger = (logLevel, message, extraData) => {\n     * \t\t\tconsole.log(message);\n     * \t\t}\n     * })\n     *\n     * extraData contains tags array attached to log message. Tags can have one/many of following values:\n     * 1. api\n     * 2. api_request\n     * 3. api_response\n     * 4. client\n     * 5. channel\n     * 6. connection\n     * 7. event\n     *\n     * It may also contains some extra data, some examples have been mentioned below:\n     * 1. {\n     * \t\ttags: ['api', 'api_request', 'client'],\n     * \t\turl: string,\n     * \t\tpayload: object,\n     * \t\tconfig: object\n     * }\n     * 2. {\n     * \t\ttags: ['api', 'api_response', 'client'],\n     * \t\turl: string,\n     * \t\tresponse: object\n     * }\n     * 3. {\n     * \t\ttags: ['api', 'api_response', 'client'],\n     * \t\turl: string,\n     * \t\terror: object\n     * }\n     * 4. {\n     * \t\ttags: ['event', 'client'],\n     * \t\tevent: object\n     * }\n     * 5. {\n     * \t\ttags: ['channel'],\n     * \t\tchannel: object\n     * }\n     */ this.logger = isFunction(inputOptions.logger) ? inputOptions.logger : function() {\n            return null;\n        };\n        this.recoverStateOnReconnect = this.options.recoverStateOnReconnect;\n    }\n    /**\n   * Get a client instance\n   *\n   * This function always returns the same Client instance to avoid issues raised by multiple Client and WS connections\n   *\n   * **After the first call, the client configuration will not change if the key or options parameters change**\n   *\n   * @param {string} key - the api key\n   * @param {string} [secret] - the api secret\n   * @param {StreamChatOptions} [options] - additional options, here you can pass custom options to axios instance\n   * @param {boolean} [options.browser] - enforce the client to be in browser mode\n   * @param {boolean} [options.warmUp] - default to false, if true, client will open a connection as soon as possible to speed up following requests\n   * @param {Logger} [options.Logger] - custom logger\n   * @param {number} [options.timeout] - default to 3000\n   * @param {httpsAgent} [options.httpsAgent] - custom httpsAgent, in node it's default to https.agent()\n   * @example <caption>initialize the client in user mode</caption>\n   * StreamChat.getInstance('api_key')\n   * @example <caption>initialize the client in user mode with options</caption>\n   * StreamChat.getInstance('api_key', { timeout:5000 })\n   * @example <caption>secret is optional and only used in server side mode</caption>\n   * StreamChat.getInstance('api_key', \"secret\", { httpsAgent: customAgent })\n   */ _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(StreamChat, [\n        {\n            key: \"devToken\",\n            value: function devToken(userID) {\n                return DevToken(userID);\n            }\n        },\n        {\n            key: \"getAuthType\",\n            value: function getAuthType() {\n                return this.anonymous ? \"anonymous\" : \"jwt\";\n            }\n        },\n        {\n            key: \"setBaseURL\",\n            value: function setBaseURL(baseURL) {\n                this.baseURL = baseURL;\n                this.wsBaseURL = this.baseURL.replace(\"http\", \"ws\").replace(\":3030\", \":8800\");\n            }\n        },\n        {\n            key: \"_setUser\",\n            value: function _setUser(user) {\n                /**\n       * This one is used by the frontend. This is a copy of the current user object stored on backend.\n       * It contains reserved properties and own user properties which are not present in `this._user`.\n       */ this.user = user;\n                this.userID = user.id; // this one is actually used for requests. This is a copy of current user provided to `connectUser` function.\n                this._user = _objectSpread({}, user);\n            }\n        },\n        {\n            key: \"updateAppSettings\",\n            value: /**\n     * updateAppSettings - updates application settings\n     *\n     * @param {AppSettings} options App settings.\n     * IE: {\n        'apn_config': {\n          'auth_type': 'token',\n          'auth_key\": fs.readFileSync(\n            './apn-push-auth-key.p8',\n            'utf-8',\n          ),\n          'key_id': 'keyid',\n          'team_id': 'teamid',\n          'notification_template\": 'notification handlebars template',\n          'bundle_id': 'com.apple.your.app',\n          'development': true\n        },\n        'firebase_config': {\n          'server_key': 'server key from fcm',\n          'notification_template': 'notification handlebars template',\n          'data_template': 'data handlebars template',\n          'apn_template': 'apn notification handlebars template under v2'\n        },\n        'webhook_url': 'https://acme.com/my/awesome/webhook/'\n      }\n     */ function() {\n                var _updateAppSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee7(options) {\n                    var apn_config;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee7$(_context7) {\n                        while(1){\n                            switch(_context7.prev = _context7.next){\n                                case 0:\n                                    apn_config = options.apn_config;\n                                    if (apn_config !== null && apn_config !== void 0 && apn_config.p12_cert) {\n                                        options = _objectSpread(_objectSpread({}, options), {}, {\n                                            apn_config: _objectSpread(_objectSpread({}, apn_config), {}, {\n                                                p12_cert: Buffer.from(apn_config.p12_cert).toString(\"base64\")\n                                            })\n                                        });\n                                    }\n                                    _context7.next = 4;\n                                    return this.patch(this.baseURL + \"/app\", options);\n                                case 4:\n                                    return _context7.abrupt(\"return\", _context7.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context7.stop();\n                            }\n                        }\n                    }, _callee7, this);\n                }));\n                function updateAppSettings(_x8) {\n                    return _updateAppSettings.apply(this, arguments);\n                }\n                return updateAppSettings;\n            }()\n        },\n        {\n            key: \"revokeTokens\",\n            value: /**\n     * Revokes all tokens on application level issued before given time\n     */ function() {\n                var _revokeTokens = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee8(before) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee8$(_context8) {\n                        while(1){\n                            switch(_context8.prev = _context8.next){\n                                case 0:\n                                    _context8.next = 2;\n                                    return this.updateAppSettings({\n                                        revoke_tokens_issued_before: this._normalizeDate(before)\n                                    });\n                                case 2:\n                                    return _context8.abrupt(\"return\", _context8.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context8.stop();\n                            }\n                        }\n                    }, _callee8, this);\n                }));\n                function revokeTokens(_x9) {\n                    return _revokeTokens.apply(this, arguments);\n                }\n                return revokeTokens;\n            }()\n        },\n        {\n            key: \"revokeUserToken\",\n            value: function() {\n                var _revokeUserToken = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee9(userID, before) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee9$(_context9) {\n                        while(1){\n                            switch(_context9.prev = _context9.next){\n                                case 0:\n                                    _context9.next = 2;\n                                    return this.revokeUsersToken([\n                                        userID\n                                    ], before);\n                                case 2:\n                                    return _context9.abrupt(\"return\", _context9.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context9.stop();\n                            }\n                        }\n                    }, _callee9, this);\n                }));\n                function revokeUserToken(_x10, _x11) {\n                    return _revokeUserToken.apply(this, arguments);\n                }\n                return revokeUserToken;\n            }()\n        },\n        {\n            key: \"revokeUsersToken\",\n            value: function() {\n                var _revokeUsersToken = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee10(userIDs, before) {\n                    var users, _iterator, _step, userID;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee10$(_context10) {\n                        while(1){\n                            switch(_context10.prev = _context10.next){\n                                case 0:\n                                    if (before === undefined) {\n                                        before = new Date().toISOString();\n                                    } else {\n                                        before = this._normalizeDate(before);\n                                    }\n                                    users = [];\n                                    _iterator = _createForOfIteratorHelper(userIDs);\n                                    try {\n                                        for(_iterator.s(); !(_step = _iterator.n()).done;){\n                                            userID = _step.value;\n                                            users.push({\n                                                id: userID,\n                                                set: {\n                                                    revoke_tokens_issued_before: before\n                                                }\n                                            });\n                                        }\n                                    } catch (err) {\n                                        _iterator.e(err);\n                                    } finally{\n                                        _iterator.f();\n                                    }\n                                    _context10.next = 6;\n                                    return this.partialUpdateUsers(users);\n                                case 6:\n                                    return _context10.abrupt(\"return\", _context10.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context10.stop();\n                            }\n                        }\n                    }, _callee10, this);\n                }));\n                function revokeUsersToken(_x12, _x13) {\n                    return _revokeUsersToken.apply(this, arguments);\n                }\n                return revokeUsersToken;\n            }()\n        },\n        {\n            key: \"getAppSettings\",\n            value: function() {\n                var _getAppSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee11() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee11$(_context11) {\n                        while(1){\n                            switch(_context11.prev = _context11.next){\n                                case 0:\n                                    _context11.next = 2;\n                                    return this.get(this.baseURL + \"/app\");\n                                case 2:\n                                    return _context11.abrupt(\"return\", _context11.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context11.stop();\n                            }\n                        }\n                    }, _callee11, this);\n                }));\n                function getAppSettings() {\n                    return _getAppSettings.apply(this, arguments);\n                }\n                return getAppSettings;\n            }()\n        },\n        {\n            key: \"testPushSettings\",\n            value: function() {\n                var _testPushSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee12(userID) {\n                    var data, _args12 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee12$(_context12) {\n                        while(1){\n                            switch(_context12.prev = _context12.next){\n                                case 0:\n                                    data = _args12.length > 1 && _args12[1] !== undefined ? _args12[1] : {};\n                                    _context12.next = 3;\n                                    return this.post(this.baseURL + \"/check_push\", _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n                                        user_id: userID\n                                    }, data.messageID ? {\n                                        message_id: data.messageID\n                                    } : {}), data.apnTemplate ? {\n                                        apn_template: data.apnTemplate\n                                    } : {}), data.firebaseTemplate ? {\n                                        firebase_template: data.firebaseTemplate\n                                    } : {}), data.firebaseDataTemplate ? {\n                                        firebase_data_template: data.firebaseDataTemplate\n                                    } : {}), data.skipDevices ? {\n                                        skip_devices: true\n                                    } : {}), data.pushProviderName ? {\n                                        push_provider_name: data.pushProviderName\n                                    } : {}), data.pushProviderType ? {\n                                        push_provider_type: data.pushProviderType\n                                    } : {}));\n                                case 3:\n                                    return _context12.abrupt(\"return\", _context12.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context12.stop();\n                            }\n                        }\n                    }, _callee12, this);\n                }));\n                function testPushSettings(_x14) {\n                    return _testPushSettings.apply(this, arguments);\n                }\n                return testPushSettings;\n            }()\n        },\n        {\n            key: \"testSQSSettings\",\n            value: function() {\n                var _testSQSSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee13() {\n                    var data, _args13 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee13$(_context13) {\n                        while(1){\n                            switch(_context13.prev = _context13.next){\n                                case 0:\n                                    data = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : {};\n                                    _context13.next = 3;\n                                    return this.post(this.baseURL + \"/check_sqs\", data);\n                                case 3:\n                                    return _context13.abrupt(\"return\", _context13.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context13.stop();\n                            }\n                        }\n                    }, _callee13, this);\n                }));\n                function testSQSSettings() {\n                    return _testSQSSettings.apply(this, arguments);\n                }\n                return testSQSSettings;\n            }()\n        },\n        {\n            key: \"testSNSSettings\",\n            value: function() {\n                var _testSNSSettings = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee14() {\n                    var data, _args14 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee14$(_context14) {\n                        while(1){\n                            switch(_context14.prev = _context14.next){\n                                case 0:\n                                    data = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {};\n                                    _context14.next = 3;\n                                    return this.post(this.baseURL + \"/check_sns\", data);\n                                case 3:\n                                    return _context14.abrupt(\"return\", _context14.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context14.stop();\n                            }\n                        }\n                    }, _callee14, this);\n                }));\n                function testSNSSettings() {\n                    return _testSNSSettings.apply(this, arguments);\n                }\n                return testSNSSettings;\n            }()\n        },\n        {\n            key: \"setGuestUser\",\n            value: /**\n     * setGuestUser - Setup a temporary guest user\n     *\n     * @param {UserResponse<StreamChatGenerics>} user Data about this user. IE {name: \"john\"}\n     *\n     * @return {ConnectAPIResponse<StreamChatGenerics>} Returns a promise that resolves when the connection is setup\n     */ function() {\n                var _setGuestUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee15(user) {\n                    var response, _response$user, guestUser;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee15$(_context15) {\n                        while(1){\n                            switch(_context15.prev = _context15.next){\n                                case 0:\n                                    this.anonymous = true;\n                                    _context15.prev = 1;\n                                    _context15.next = 4;\n                                    return this.post(this.baseURL + \"/guest\", {\n                                        user: user\n                                    });\n                                case 4:\n                                    response = _context15.sent;\n                                    _context15.next = 11;\n                                    break;\n                                case 7:\n                                    _context15.prev = 7;\n                                    _context15.t0 = _context15[\"catch\"](1);\n                                    this.anonymous = false;\n                                    throw _context15.t0;\n                                case 11:\n                                    this.anonymous = false; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                                    _response$user = response.user, _response$user.created_at, _response$user.updated_at, _response$user.last_active, _response$user.online, guestUser = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_response$user, _excluded);\n                                    _context15.next = 15;\n                                    return this.connectUser(guestUser, response.access_token);\n                                case 15:\n                                    return _context15.abrupt(\"return\", _context15.sent);\n                                case 16:\n                                case \"end\":\n                                    return _context15.stop();\n                            }\n                        }\n                    }, _callee15, this, [\n                        [\n                            1,\n                            7\n                        ]\n                    ]);\n                }));\n                function setGuestUser(_x15) {\n                    return _setGuestUser.apply(this, arguments);\n                }\n                return setGuestUser;\n            }()\n        },\n        {\n            key: \"createToken\",\n            value: function createToken(userID, exp, iat) {\n                if (this.secret == null) {\n                    throw Error(\"tokens can only be created server-side using the API Secret\");\n                }\n                var extra = {};\n                if (exp) {\n                    extra.exp = exp;\n                }\n                if (iat) {\n                    extra.iat = iat;\n                }\n                return JWTUserToken(this.secret, userID, extra, {});\n            }\n        },\n        {\n            key: \"on\",\n            value: function on(callbackOrString, callbackOrNothing) {\n                var _this2 = this;\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this.logger(\"info\", \"Attaching listener for \".concat(key, \" event\"), {\n                    tags: [\n                        \"event\",\n                        \"client\"\n                    ]\n                });\n                this.listeners[key].push(callback);\n                return {\n                    unsubscribe: function unsubscribe() {\n                        _this2.logger(\"info\", \"Removing listener for \".concat(key, \" event\"), {\n                            tags: [\n                                \"event\",\n                                \"client\"\n                            ]\n                        });\n                        _this2.listeners[key] = _this2.listeners[key].filter(function(el) {\n                            return el !== callback;\n                        });\n                    }\n                };\n            }\n        },\n        {\n            key: \"off\",\n            value: function off(callbackOrString, callbackOrNothing) {\n                var key = callbackOrNothing ? callbackOrString : \"all\";\n                var callback = callbackOrNothing ? callbackOrNothing : callbackOrString;\n                if (!(key in this.listeners)) {\n                    this.listeners[key] = [];\n                }\n                this.logger(\"info\", \"Removing listener for \".concat(key, \" event\"), {\n                    tags: [\n                        \"event\",\n                        \"client\"\n                    ]\n                });\n                this.listeners[key] = this.listeners[key].filter(function(value) {\n                    return value !== callback;\n                });\n            }\n        },\n        {\n            key: \"_logApiRequest\",\n            value: function _logApiRequest(type, url, data, config) {\n                this.logger(\"info\", \"client: \".concat(type, \" - Request - \").concat(url), {\n                    tags: [\n                        \"api\",\n                        \"api_request\",\n                        \"client\"\n                    ],\n                    url: url,\n                    payload: data,\n                    config: config\n                });\n            }\n        },\n        {\n            key: \"_logApiResponse\",\n            value: function _logApiResponse(type, url, response) {\n                this.logger(\"info\", \"client:\".concat(type, \" - Response - url: \").concat(url, \" > status \").concat(response.status), {\n                    tags: [\n                        \"api\",\n                        \"api_response\",\n                        \"client\"\n                    ],\n                    url: url,\n                    response: response\n                });\n            }\n        },\n        {\n            key: \"_logApiError\",\n            value: function _logApiError(type, url, error) {\n                this.logger(\"error\", \"client:\".concat(type, \" - Error - url: \").concat(url), {\n                    tags: [\n                        \"api\",\n                        \"api_response\",\n                        \"client\"\n                    ],\n                    url: url,\n                    error: error\n                });\n            }\n        },\n        {\n            key: \"get\",\n            value: function get(url, params) {\n                return this.doAxiosRequest(\"get\", url, null, {\n                    params: params\n                });\n            }\n        },\n        {\n            key: \"put\",\n            value: function put(url, data) {\n                return this.doAxiosRequest(\"put\", url, data);\n            }\n        },\n        {\n            key: \"post\",\n            value: function post(url, data) {\n                return this.doAxiosRequest(\"post\", url, data);\n            }\n        },\n        {\n            key: \"patch\",\n            value: function patch(url, data) {\n                return this.doAxiosRequest(\"patch\", url, data);\n            }\n        },\n        {\n            key: \"delete\",\n            value: function _delete(url, params) {\n                return this.doAxiosRequest(\"delete\", url, null, {\n                    params: params\n                });\n            }\n        },\n        {\n            key: \"sendFile\",\n            value: function sendFile(url, uri, name, contentType, user) {\n                var data = addFileToFormData(uri, name, contentType || \"multipart/form-data\");\n                if (user != null) data.append(\"user\", JSON.stringify(user));\n                return this.doAxiosRequest(\"postForm\", url, data, {\n                    headers: data.getHeaders ? data.getHeaders() : {},\n                    // node vs browser\n                    config: {\n                        timeout: 0,\n                        maxContentLength: Infinity,\n                        maxBodyLength: Infinity\n                    }\n                });\n            }\n        },\n        {\n            key: \"errorFromResponse\",\n            value: function errorFromResponse(response) {\n                var err;\n                err = new ErrorFromResponse(\"StreamChat error HTTP code: \".concat(response.status));\n                if (response.data && response.data.code) {\n                    err = new Error(\"StreamChat error code \".concat(response.data.code, \": \").concat(response.data.message));\n                    err.code = response.data.code;\n                }\n                err.response = response;\n                err.status = response.status;\n                return err;\n            }\n        },\n        {\n            key: \"handleResponse\",\n            value: function handleResponse(response) {\n                var data = response.data;\n                if (isErrorResponse(response)) {\n                    throw this.errorFromResponse(response);\n                }\n                return data;\n            }\n        },\n        {\n            key: \"_handleClientEvent\",\n            value: function _handleClientEvent(event) {\n                var _event$me, _event$me2, _this3 = this;\n                var client = this;\n                var postListenerCallbacks = [];\n                this.logger(\"info\", \"client:_handleClientEvent - Received event of type { \".concat(event.type, \" }\"), {\n                    tags: [\n                        \"event\",\n                        \"client\"\n                    ],\n                    event: event\n                });\n                if (event.type === \"user.presence.changed\" || event.type === \"user.updated\" || event.type === \"user.deleted\") {\n                    this._handleUserEvent(event);\n                }\n                if (event.type === \"health.check\" && event.me) {\n                    client.user = event.me;\n                    client.state.updateUser(event.me);\n                    client.mutedChannels = event.me.channel_mutes;\n                    client.mutedUsers = event.me.mutes;\n                }\n                if (event.channel && event.type === \"notification.message_new\") {\n                    this._addChannelConfig(event.channel);\n                }\n                if (event.type === \"notification.channel_mutes_updated\" && (_event$me = event.me) !== null && _event$me !== void 0 && _event$me.channel_mutes) {\n                    this.mutedChannels = event.me.channel_mutes;\n                }\n                if (event.type === \"notification.mutes_updated\" && (_event$me2 = event.me) !== null && _event$me2 !== void 0 && _event$me2.mutes) {\n                    this.mutedUsers = event.me.mutes;\n                }\n                if (event.type === \"notification.mark_read\" && event.unread_channels === 0) {\n                    var activeChannelKeys = Object.keys(this.activeChannels);\n                    activeChannelKeys.forEach(function(activeChannelKey) {\n                        return _this3.activeChannels[activeChannelKey].state.unreadCount = 0;\n                    });\n                }\n                if ((event.type === \"channel.deleted\" || event.type === \"notification.channel_deleted\") && event.cid) {\n                    var _this$activeChannels$;\n                    client.state.deleteAllChannelReference(event.cid);\n                    (_this$activeChannels$ = this.activeChannels[event.cid]) === null || _this$activeChannels$ === void 0 ? void 0 : _this$activeChannels$._disconnect();\n                    postListenerCallbacks.push(function() {\n                        if (!event.cid) return;\n                        delete _this3.activeChannels[event.cid];\n                    });\n                }\n                return postListenerCallbacks;\n            }\n        },\n        {\n            key: \"_muteStatus\",\n            value: function _muteStatus(cid) {\n                var muteStatus;\n                for(var i = 0; i < this.mutedChannels.length; i++){\n                    var _mute$channel;\n                    var mute = this.mutedChannels[i];\n                    if (((_mute$channel = mute.channel) === null || _mute$channel === void 0 ? void 0 : _mute$channel.cid) === cid) {\n                        muteStatus = {\n                            muted: mute.expires ? new Date(mute.expires).getTime() > new Date().getTime() : true,\n                            createdAt: mute.created_at ? new Date(mute.created_at) : new Date(),\n                            expiresAt: mute.expires ? new Date(mute.expires) : null\n                        };\n                        break;\n                    }\n                }\n                if (muteStatus) {\n                    return muteStatus;\n                }\n                return {\n                    muted: false,\n                    createdAt: null,\n                    expiresAt: null\n                };\n            }\n        },\n        {\n            key: \"connect\",\n            value: /**\n     * @private\n     */ function() {\n                var _connect = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee16() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee16$(_context16) {\n                        while(1){\n                            switch(_context16.prev = _context16.next){\n                                case 0:\n                                    if (!(!this.userID || !this._user)) {\n                                        _context16.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Call connectUser or connectAnonymousUser before starting the connection\");\n                                case 2:\n                                    if (this.wsBaseURL) {\n                                        _context16.next = 4;\n                                        break;\n                                    }\n                                    throw Error(\"Websocket base url not set\");\n                                case 4:\n                                    if (this.clientID) {\n                                        _context16.next = 6;\n                                        break;\n                                    }\n                                    throw Error(\"clientID is not set\");\n                                case 6:\n                                    if (!this.wsConnection && (this.options.warmUp || this.options.enableInsights)) {\n                                        this._sayHi();\n                                    } // The StableWSConnection handles all the reconnection logic.\n                                    if (this.options.wsConnection && this.node) {\n                                        // Intentionally avoiding adding ts generics on wsConnection in options since its only useful for unit test purpose.\n                                        this.options.wsConnection.setClient(this);\n                                        this.wsConnection = this.options.wsConnection;\n                                    } else {\n                                        this.wsConnection = new StableWSConnection({\n                                            client: this\n                                        });\n                                    }\n                                    _context16.prev = 8;\n                                    if (!this.wsFallback) {\n                                        _context16.next = 13;\n                                        break;\n                                    }\n                                    _context16.next = 12;\n                                    return this.wsFallback.connect();\n                                case 12:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 13:\n                                    _context16.next = 15;\n                                    return this.wsConnection.connect(this.options.enableWSFallback ? this.defaultWSTimeoutWithFallback : this.defaultWSTimeout);\n                                case 15:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 18:\n                                    _context16.prev = 18;\n                                    _context16.t0 = _context16[\"catch\"](8);\n                                    if (!(this.options.enableWSFallback && isWSFailure(_context16.t0) && isOnline())) {\n                                        _context16.next = 29;\n                                        break;\n                                    }\n                                    this.logger(\"info\", \"client:connect() - WS failed, fallback to longpoll\", {\n                                        tags: [\n                                            \"connection\",\n                                            \"client\"\n                                        ]\n                                    });\n                                    this.dispatchEvent({\n                                        type: \"transport.changed\",\n                                        mode: \"longpoll\"\n                                    });\n                                    this.wsConnection._destroyCurrentWSConnection();\n                                    this.wsConnection.disconnect().then(); // close WS so no retry\n                                    this.wsFallback = new WSConnectionFallback({\n                                        client: this\n                                    });\n                                    _context16.next = 28;\n                                    return this.wsFallback.connect();\n                                case 28:\n                                    return _context16.abrupt(\"return\", _context16.sent);\n                                case 29:\n                                    throw _context16.t0;\n                                case 30:\n                                case \"end\":\n                                    return _context16.stop();\n                            }\n                        }\n                    }, _callee16, this, [\n                        [\n                            8,\n                            18\n                        ]\n                    ]);\n                }));\n                function connect() {\n                    return _connect.apply(this, arguments);\n                }\n                return connect;\n            }()\n        },\n        {\n            key: \"_sayHi\",\n            value: function _sayHi() {\n                var _this4 = this;\n                var client_request_id = randomId();\n                var opts = {\n                    headers: {\n                        \"x-client-request-id\": client_request_id\n                    }\n                };\n                this.doAxiosRequest(\"get\", this.baseURL + \"/hi\", null, opts).catch(function(e) {\n                    if (_this4.options.enableInsights) {\n                        postInsights(\"http_hi_failed\", {\n                            api_key: _this4.key,\n                            err: e,\n                            client_request_id: client_request_id\n                        });\n                    }\n                });\n            }\n        },\n        {\n            key: \"queryUsers\",\n            value: function() {\n                var _queryUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee17(filterConditions) {\n                    var sort, options, defaultOptions, data, _args17 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee17$(_context17) {\n                        while(1){\n                            switch(_context17.prev = _context17.next){\n                                case 0:\n                                    sort = _args17.length > 1 && _args17[1] !== undefined ? _args17[1] : [];\n                                    options = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : {};\n                                    defaultOptions = {\n                                        presence: false\n                                    }; // Make sure we wait for the connect promise if there is a pending one\n                                    _context17.next = 5;\n                                    return this.wsPromise;\n                                case 5:\n                                    if (!this._hasConnectionID()) {\n                                        defaultOptions.presence = false;\n                                    } // Return a list of users\n                                    _context17.next = 8;\n                                    return this.get(this.baseURL + \"/users\", {\n                                        payload: _objectSpread(_objectSpread({\n                                            filter_conditions: filterConditions,\n                                            sort: normalizeQuerySort(sort)\n                                        }, defaultOptions), options)\n                                    });\n                                case 8:\n                                    data = _context17.sent;\n                                    this.state.updateUsers(data.users);\n                                    return _context17.abrupt(\"return\", data);\n                                case 11:\n                                case \"end\":\n                                    return _context17.stop();\n                            }\n                        }\n                    }, _callee17, this);\n                }));\n                function queryUsers(_x16) {\n                    return _queryUsers.apply(this, arguments);\n                }\n                return queryUsers;\n            }()\n        },\n        {\n            key: \"queryBannedUsers\",\n            value: function() {\n                var _queryBannedUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee18() {\n                    var filterConditions, sort, options, _args18 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee18$(_context18) {\n                        while(1){\n                            switch(_context18.prev = _context18.next){\n                                case 0:\n                                    filterConditions = _args18.length > 0 && _args18[0] !== undefined ? _args18[0] : {};\n                                    sort = _args18.length > 1 && _args18[1] !== undefined ? _args18[1] : [];\n                                    options = _args18.length > 2 && _args18[2] !== undefined ? _args18[2] : {};\n                                    _context18.next = 5;\n                                    return this.get(this.baseURL + \"/query_banned_users\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filterConditions,\n                                            sort: normalizeQuerySort(sort)\n                                        }, options)\n                                    });\n                                case 5:\n                                    return _context18.abrupt(\"return\", _context18.sent);\n                                case 6:\n                                case \"end\":\n                                    return _context18.stop();\n                            }\n                        }\n                    }, _callee18, this);\n                }));\n                function queryBannedUsers() {\n                    return _queryBannedUsers.apply(this, arguments);\n                }\n                return queryBannedUsers;\n            }()\n        },\n        {\n            key: \"queryMessageFlags\",\n            value: function() {\n                var _queryMessageFlags = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee19() {\n                    var filterConditions, options, _args19 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee19$(_context19) {\n                        while(1){\n                            switch(_context19.prev = _context19.next){\n                                case 0:\n                                    filterConditions = _args19.length > 0 && _args19[0] !== undefined ? _args19[0] : {};\n                                    options = _args19.length > 1 && _args19[1] !== undefined ? _args19[1] : {};\n                                    _context19.next = 4;\n                                    return this.get(this.baseURL + \"/moderation/flags/message\", {\n                                        payload: _objectSpread({\n                                            filter_conditions: filterConditions\n                                        }, options)\n                                    });\n                                case 4:\n                                    return _context19.abrupt(\"return\", _context19.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context19.stop();\n                            }\n                        }\n                    }, _callee19, this);\n                }));\n                function queryMessageFlags() {\n                    return _queryMessageFlags.apply(this, arguments);\n                }\n                return queryMessageFlags;\n            }()\n        },\n        {\n            key: \"queryChannels\",\n            value: function() {\n                var _queryChannels = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee20(filterConditions) {\n                    var sort, options, stateOptions, defaultOptions, payload, data, _args20 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee20$(_context20) {\n                        while(1){\n                            switch(_context20.prev = _context20.next){\n                                case 0:\n                                    sort = _args20.length > 1 && _args20[1] !== undefined ? _args20[1] : [];\n                                    options = _args20.length > 2 && _args20[2] !== undefined ? _args20[2] : {};\n                                    stateOptions = _args20.length > 3 && _args20[3] !== undefined ? _args20[3] : {};\n                                    defaultOptions = {\n                                        state: true,\n                                        watch: true,\n                                        presence: false\n                                    }; // Make sure we wait for the connect promise if there is a pending one\n                                    _context20.next = 6;\n                                    return this.wsPromise;\n                                case 6:\n                                    if (!this._hasConnectionID()) {\n                                        defaultOptions.watch = false;\n                                    } // Return a list of channels\n                                    payload = _objectSpread(_objectSpread({\n                                        filter_conditions: filterConditions,\n                                        sort: normalizeQuerySort(sort)\n                                    }, defaultOptions), options);\n                                    _context20.next = 10;\n                                    return this.post(this.baseURL + \"/channels\", payload);\n                                case 10:\n                                    data = _context20.sent;\n                                    this.dispatchEvent({\n                                        type: \"channels.queried\",\n                                        queriedChannels: {\n                                            channels: data.channels,\n                                            isLatestMessageSet: true\n                                        }\n                                    });\n                                    return _context20.abrupt(\"return\", this.hydrateActiveChannels(data.channels, stateOptions));\n                                case 13:\n                                case \"end\":\n                                    return _context20.stop();\n                            }\n                        }\n                    }, _callee20, this);\n                }));\n                function queryChannels(_x17) {\n                    return _queryChannels.apply(this, arguments);\n                }\n                return queryChannels;\n            }()\n        },\n        {\n            key: \"hydrateActiveChannels\",\n            value: function hydrateActiveChannels() {\n                var channelsFromApi = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n                var stateOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var skipInitialization = stateOptions.skipInitialization, _stateOptions$offline = stateOptions.offlineMode, offlineMode = _stateOptions$offline === void 0 ? false : _stateOptions$offline;\n                var _iterator2 = _createForOfIteratorHelper(channelsFromApi), _step2;\n                try {\n                    for(_iterator2.s(); !(_step2 = _iterator2.n()).done;){\n                        var channelState = _step2.value;\n                        this._addChannelConfig(channelState.channel);\n                    }\n                } catch (err) {\n                    _iterator2.e(err);\n                } finally{\n                    _iterator2.f();\n                }\n                var channels = [];\n                var _iterator3 = _createForOfIteratorHelper(channelsFromApi), _step3;\n                try {\n                    for(_iterator3.s(); !(_step3 = _iterator3.n()).done;){\n                        var _channelState = _step3.value;\n                        var c = this.channel(_channelState.channel.type, _channelState.channel.id);\n                        c.data = _channelState.channel;\n                        c.offlineMode = offlineMode;\n                        c.initialized = !offlineMode;\n                        if (skipInitialization === undefined) {\n                            c._initializeState(_channelState, \"latest\");\n                        } else if (!skipInitialization.includes(_channelState.channel.id)) {\n                            c.state.clearMessages();\n                            c._initializeState(_channelState, \"latest\");\n                        }\n                        channels.push(c);\n                    }\n                } catch (err) {\n                    _iterator3.e(err);\n                } finally{\n                    _iterator3.f();\n                }\n                return channels;\n            }\n        },\n        {\n            key: \"search\",\n            value: function() {\n                var _search = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee21(filterConditions, query) {\n                    var options, payload, _args21 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee21$(_context21) {\n                        while(1){\n                            switch(_context21.prev = _context21.next){\n                                case 0:\n                                    options = _args21.length > 2 && _args21[2] !== undefined ? _args21[2] : {};\n                                    if (!(options.offset && options.next)) {\n                                        _context21.next = 3;\n                                        break;\n                                    }\n                                    throw Error(\"Cannot specify offset with next\");\n                                case 3:\n                                    payload = _objectSpread(_objectSpread({\n                                        filter_conditions: filterConditions\n                                    }, options), {}, {\n                                        sort: options.sort ? normalizeQuerySort(options.sort) : undefined\n                                    });\n                                    if (!(typeof query === \"string\")) {\n                                        _context21.next = 8;\n                                        break;\n                                    }\n                                    payload.query = query;\n                                    _context21.next = 13;\n                                    break;\n                                case 8:\n                                    if (!(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query) === \"object\")) {\n                                        _context21.next = 12;\n                                        break;\n                                    }\n                                    payload.message_filter_conditions = query;\n                                    _context21.next = 13;\n                                    break;\n                                case 12:\n                                    throw Error(\"Invalid type \".concat(_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(query), \" for query parameter\"));\n                                case 13:\n                                    _context21.next = 15;\n                                    return this.wsPromise;\n                                case 15:\n                                    _context21.next = 17;\n                                    return this.get(this.baseURL + \"/search\", {\n                                        payload: payload\n                                    });\n                                case 17:\n                                    return _context21.abrupt(\"return\", _context21.sent);\n                                case 18:\n                                case \"end\":\n                                    return _context21.stop();\n                            }\n                        }\n                    }, _callee21, this);\n                }));\n                function search(_x18, _x19) {\n                    return _search.apply(this, arguments);\n                }\n                return search;\n            }()\n        },\n        {\n            key: \"setLocalDevice\",\n            value: function setLocalDevice(device) {\n                var _this$wsConnection5, _this$wsConnection6, _this$wsFallback4;\n                if ((_this$wsConnection5 = this.wsConnection) !== null && _this$wsConnection5 !== void 0 && _this$wsConnection5.isConnecting && this.wsPromise || ((_this$wsConnection6 = this.wsConnection) !== null && _this$wsConnection6 !== void 0 && _this$wsConnection6.isHealthy || (_this$wsFallback4 = this.wsFallback) !== null && _this$wsFallback4 !== void 0 && _this$wsFallback4.isHealthy()) && this._hasConnectionID()) {\n                    throw new Error(\"you can only set device before opening a websocket connection\");\n                }\n                this.options.device = device;\n            }\n        },\n        {\n            key: \"addDevice\",\n            value: function() {\n                var _addDevice = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee22(id, push_provider, userID, push_provider_name) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee22$(_context22) {\n                        while(1){\n                            switch(_context22.prev = _context22.next){\n                                case 0:\n                                    _context22.next = 2;\n                                    return this.post(this.baseURL + \"/devices\", _objectSpread(_objectSpread({\n                                        id: id,\n                                        push_provider: push_provider\n                                    }, userID != null ? {\n                                        user_id: userID\n                                    } : {}), push_provider_name != null ? {\n                                        push_provider_name: push_provider_name\n                                    } : {}));\n                                case 2:\n                                    return _context22.abrupt(\"return\", _context22.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context22.stop();\n                            }\n                        }\n                    }, _callee22, this);\n                }));\n                function addDevice(_x20, _x21, _x22, _x23) {\n                    return _addDevice.apply(this, arguments);\n                }\n                return addDevice;\n            }()\n        },\n        {\n            key: \"getDevices\",\n            value: function() {\n                var _getDevices = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee23(userID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee23$(_context23) {\n                        while(1){\n                            switch(_context23.prev = _context23.next){\n                                case 0:\n                                    _context23.next = 2;\n                                    return this.get(this.baseURL + \"/devices\", userID ? {\n                                        user_id: userID\n                                    } : {});\n                                case 2:\n                                    return _context23.abrupt(\"return\", _context23.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context23.stop();\n                            }\n                        }\n                    }, _callee23, this);\n                }));\n                function getDevices(_x24) {\n                    return _getDevices.apply(this, arguments);\n                }\n                return getDevices;\n            }()\n        },\n        {\n            key: \"getUnreadCount\",\n            value: function() {\n                var _getUnreadCount = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee24(userID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee24$(_context24) {\n                        while(1){\n                            switch(_context24.prev = _context24.next){\n                                case 0:\n                                    _context24.next = 2;\n                                    return this.get(this.baseURL + \"/unread\", userID ? {\n                                        user_id: userID\n                                    } : {});\n                                case 2:\n                                    return _context24.abrupt(\"return\", _context24.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context24.stop();\n                            }\n                        }\n                    }, _callee24, this);\n                }));\n                function getUnreadCount(_x25) {\n                    return _getUnreadCount.apply(this, arguments);\n                }\n                return getUnreadCount;\n            }()\n        },\n        {\n            key: \"getUnreadCountBatch\",\n            value: function() {\n                var _getUnreadCountBatch = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee25(userIDs) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee25$(_context25) {\n                        while(1){\n                            switch(_context25.prev = _context25.next){\n                                case 0:\n                                    _context25.next = 2;\n                                    return this.post(this.baseURL + \"/unread_batch\", {\n                                        user_ids: userIDs\n                                    });\n                                case 2:\n                                    return _context25.abrupt(\"return\", _context25.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context25.stop();\n                            }\n                        }\n                    }, _callee25, this);\n                }));\n                function getUnreadCountBatch(_x26) {\n                    return _getUnreadCountBatch.apply(this, arguments);\n                }\n                return getUnreadCountBatch;\n            }()\n        },\n        {\n            key: \"removeDevice\",\n            value: function() {\n                var _removeDevice = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee26(id, userID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee26$(_context26) {\n                        while(1){\n                            switch(_context26.prev = _context26.next){\n                                case 0:\n                                    _context26.next = 2;\n                                    return this.delete(this.baseURL + \"/devices\", _objectSpread({\n                                        id: id\n                                    }, userID ? {\n                                        user_id: userID\n                                    } : {}));\n                                case 2:\n                                    return _context26.abrupt(\"return\", _context26.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context26.stop();\n                            }\n                        }\n                    }, _callee26, this);\n                }));\n                function removeDevice(_x27, _x28) {\n                    return _removeDevice.apply(this, arguments);\n                }\n                return removeDevice;\n            }()\n        },\n        {\n            key: \"getRateLimits\",\n            value: function() {\n                var _getRateLimits = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee27(params) {\n                    var _ref7, serverSide, web, android, ios, endpoints;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee27$(_context27) {\n                        while(1){\n                            switch(_context27.prev = _context27.next){\n                                case 0:\n                                    _ref7 = params || {}, serverSide = _ref7.serverSide, web = _ref7.web, android = _ref7.android, ios = _ref7.ios, endpoints = _ref7.endpoints;\n                                    return _context27.abrupt(\"return\", this.get(this.baseURL + \"/rate_limits\", {\n                                        server_side: serverSide,\n                                        web: web,\n                                        android: android,\n                                        ios: ios,\n                                        endpoints: endpoints ? endpoints.join(\",\") : undefined\n                                    }));\n                                case 2:\n                                case \"end\":\n                                    return _context27.stop();\n                            }\n                        }\n                    }, _callee27, this);\n                }));\n                function getRateLimits(_x29) {\n                    return _getRateLimits.apply(this, arguments);\n                }\n                return getRateLimits;\n            }()\n        },\n        {\n            key: \"_addChannelConfig\",\n            value: function _addChannelConfig(_ref8) {\n                var cid = _ref8.cid, config = _ref8.config;\n                this.configs[cid] = config;\n            }\n        },\n        {\n            key: \"channel\",\n            value: function channel(channelType, channelIDOrCustom) {\n                var _custom$members;\n                var custom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n                if (!this.userID && !this._isUsingServerAuth()) {\n                    throw Error(\"Call connectUser or connectAnonymousUser before creating a channel\");\n                }\n                if (~channelType.indexOf(\":\")) {\n                    throw Error(\"Invalid channel group \".concat(channelType, \", can't contain the : character\"));\n                } // support channel(\"messaging\", {options})\n                if (channelIDOrCustom && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(channelIDOrCustom) === \"object\") {\n                    return this.getChannelByMembers(channelType, channelIDOrCustom);\n                } // // support channel(\"messaging\", undefined, {options})\n                if (!channelIDOrCustom && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(custom) === \"object\" && (_custom$members = custom.members) !== null && _custom$members !== void 0 && _custom$members.length) {\n                    return this.getChannelByMembers(channelType, custom);\n                } // support channel(\"messaging\", null, {options})\n                // support channel(\"messaging\", undefined, {options})\n                // support channel(\"messaging\", \"\", {options})\n                if (!channelIDOrCustom) {\n                    return new Channel(this, channelType, undefined, custom);\n                }\n                return this.getChannelById(channelType, channelIDOrCustom, custom);\n            }\n        },\n        {\n            key: \"partialUpdateUser\",\n            value: /**\n     * partialUpdateUser - Update the given user object\n     *\n     * @param {PartialUserUpdate<StreamChatGenerics>} partialUserObject which should contain id and any of \"set\" or \"unset\" params;\n     * example: {id: \"user1\", set:{field: value}, unset:[\"field2\"]}\n     *\n     * @return {Promise<{ users: { [key: string]: UserResponse<StreamChatGenerics> } }>} list of updated users\n     */ function() {\n                var _partialUpdateUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee28(partialUserObject) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee28$(_context28) {\n                        while(1){\n                            switch(_context28.prev = _context28.next){\n                                case 0:\n                                    _context28.next = 2;\n                                    return this.partialUpdateUsers([\n                                        partialUserObject\n                                    ]);\n                                case 2:\n                                    return _context28.abrupt(\"return\", _context28.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context28.stop();\n                            }\n                        }\n                    }, _callee28, this);\n                }));\n                function partialUpdateUser(_x30) {\n                    return _partialUpdateUser.apply(this, arguments);\n                }\n                return partialUpdateUser;\n            }()\n        },\n        {\n            key: \"upsertUsers\",\n            value: function() {\n                var _upsertUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee29(users) {\n                    var userMap, _iterator4, _step4, userObject;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee29$(_context29) {\n                        while(1){\n                            switch(_context29.prev = _context29.next){\n                                case 0:\n                                    userMap = {};\n                                    _iterator4 = _createForOfIteratorHelper(users);\n                                    _context29.prev = 2;\n                                    _iterator4.s();\n                                case 4:\n                                    if ((_step4 = _iterator4.n()).done) {\n                                        _context29.next = 11;\n                                        break;\n                                    }\n                                    userObject = _step4.value;\n                                    if (userObject.id) {\n                                        _context29.next = 8;\n                                        break;\n                                    }\n                                    throw Error(\"User ID is required when updating a user\");\n                                case 8:\n                                    userMap[userObject.id] = userObject;\n                                case 9:\n                                    _context29.next = 4;\n                                    break;\n                                case 11:\n                                    _context29.next = 16;\n                                    break;\n                                case 13:\n                                    _context29.prev = 13;\n                                    _context29.t0 = _context29[\"catch\"](2);\n                                    _iterator4.e(_context29.t0);\n                                case 16:\n                                    _context29.prev = 16;\n                                    _iterator4.f();\n                                    return _context29.finish(16);\n                                case 19:\n                                    _context29.next = 21;\n                                    return this.post(this.baseURL + \"/users\", {\n                                        users: userMap\n                                    });\n                                case 21:\n                                    return _context29.abrupt(\"return\", _context29.sent);\n                                case 22:\n                                case \"end\":\n                                    return _context29.stop();\n                            }\n                        }\n                    }, _callee29, this, [\n                        [\n                            2,\n                            13,\n                            16,\n                            19\n                        ]\n                    ]);\n                }));\n                function upsertUsers(_x31) {\n                    return _upsertUsers.apply(this, arguments);\n                }\n                return upsertUsers;\n            }()\n        },\n        {\n            key: \"upsertUser\",\n            value: /**\n     * upsertUser - Update or Create the given user object\n     *\n     * @param {UserResponse<StreamChatGenerics>} userObject user object, the only required field is the user id. IE {id: \"myuser\"} is valid\n     *\n     * @return {Promise<{ users: { [key: string]: UserResponse<StreamChatGenerics> } }>}\n     */ function upsertUser(userObject) {\n                return this.upsertUsers([\n                    userObject\n                ]);\n            }\n        },\n        {\n            key: \"partialUpdateUsers\",\n            value: /**\n     * partialUpdateUsers - Batch partial update of users\n     *\n     * @param {PartialUserUpdate<StreamChatGenerics>[]} users list of partial update requests\n     *\n     * @return {Promise<{ users: { [key: string]: UserResponse<StreamChatGenerics> } }>}\n     */ function() {\n                var _partialUpdateUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee30(users) {\n                    var _iterator5, _step5, userObject;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee30$(_context30) {\n                        while(1){\n                            switch(_context30.prev = _context30.next){\n                                case 0:\n                                    _iterator5 = _createForOfIteratorHelper(users);\n                                    _context30.prev = 1;\n                                    _iterator5.s();\n                                case 3:\n                                    if ((_step5 = _iterator5.n()).done) {\n                                        _context30.next = 9;\n                                        break;\n                                    }\n                                    userObject = _step5.value;\n                                    if (userObject.id) {\n                                        _context30.next = 7;\n                                        break;\n                                    }\n                                    throw Error(\"User ID is required when updating a user\");\n                                case 7:\n                                    _context30.next = 3;\n                                    break;\n                                case 9:\n                                    _context30.next = 14;\n                                    break;\n                                case 11:\n                                    _context30.prev = 11;\n                                    _context30.t0 = _context30[\"catch\"](1);\n                                    _iterator5.e(_context30.t0);\n                                case 14:\n                                    _context30.prev = 14;\n                                    _iterator5.f();\n                                    return _context30.finish(14);\n                                case 17:\n                                    _context30.next = 19;\n                                    return this.patch(this.baseURL + \"/users\", {\n                                        users: users\n                                    });\n                                case 19:\n                                    return _context30.abrupt(\"return\", _context30.sent);\n                                case 20:\n                                case \"end\":\n                                    return _context30.stop();\n                            }\n                        }\n                    }, _callee30, this, [\n                        [\n                            1,\n                            11,\n                            14,\n                            17\n                        ]\n                    ]);\n                }));\n                function partialUpdateUsers(_x32) {\n                    return _partialUpdateUsers.apply(this, arguments);\n                }\n                return partialUpdateUsers;\n            }()\n        },\n        {\n            key: \"deleteUser\",\n            value: function() {\n                var _deleteUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee31(userID, params) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee31$(_context31) {\n                        while(1){\n                            switch(_context31.prev = _context31.next){\n                                case 0:\n                                    _context31.next = 2;\n                                    return this.delete(this.baseURL + \"/users/\".concat(userID), params);\n                                case 2:\n                                    return _context31.abrupt(\"return\", _context31.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context31.stop();\n                            }\n                        }\n                    }, _callee31, this);\n                }));\n                function deleteUser(_x33, _x34) {\n                    return _deleteUser.apply(this, arguments);\n                }\n                return deleteUser;\n            }()\n        },\n        {\n            key: \"restoreUsers\",\n            value: function() {\n                var _restoreUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee32(user_ids) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee32$(_context32) {\n                        while(1){\n                            switch(_context32.prev = _context32.next){\n                                case 0:\n                                    _context32.next = 2;\n                                    return this.post(this.baseURL + \"/users/restore\", {\n                                        user_ids: user_ids\n                                    });\n                                case 2:\n                                    return _context32.abrupt(\"return\", _context32.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context32.stop();\n                            }\n                        }\n                    }, _callee32, this);\n                }));\n                function restoreUsers(_x35) {\n                    return _restoreUsers.apply(this, arguments);\n                }\n                return restoreUsers;\n            }()\n        },\n        {\n            key: \"reactivateUser\",\n            value: function() {\n                var _reactivateUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee33(userID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee33$(_context33) {\n                        while(1){\n                            switch(_context33.prev = _context33.next){\n                                case 0:\n                                    _context33.next = 2;\n                                    return this.post(this.baseURL + \"/users/\".concat(userID, \"/reactivate\"), _objectSpread({}, options));\n                                case 2:\n                                    return _context33.abrupt(\"return\", _context33.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context33.stop();\n                            }\n                        }\n                    }, _callee33, this);\n                }));\n                function reactivateUser(_x36, _x37) {\n                    return _reactivateUser.apply(this, arguments);\n                }\n                return reactivateUser;\n            }()\n        },\n        {\n            key: \"reactivateUsers\",\n            value: function() {\n                var _reactivateUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee34(user_ids, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee34$(_context34) {\n                        while(1){\n                            switch(_context34.prev = _context34.next){\n                                case 0:\n                                    _context34.next = 2;\n                                    return this.post(this.baseURL + \"/users/reactivate\", _objectSpread({\n                                        user_ids: user_ids\n                                    }, options));\n                                case 2:\n                                    return _context34.abrupt(\"return\", _context34.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context34.stop();\n                            }\n                        }\n                    }, _callee34, this);\n                }));\n                function reactivateUsers(_x38, _x39) {\n                    return _reactivateUsers.apply(this, arguments);\n                }\n                return reactivateUsers;\n            }()\n        },\n        {\n            key: \"deactivateUser\",\n            value: function() {\n                var _deactivateUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee35(userID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee35$(_context35) {\n                        while(1){\n                            switch(_context35.prev = _context35.next){\n                                case 0:\n                                    _context35.next = 2;\n                                    return this.post(this.baseURL + \"/users/\".concat(userID, \"/deactivate\"), _objectSpread({}, options));\n                                case 2:\n                                    return _context35.abrupt(\"return\", _context35.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context35.stop();\n                            }\n                        }\n                    }, _callee35, this);\n                }));\n                function deactivateUser(_x40, _x41) {\n                    return _deactivateUser.apply(this, arguments);\n                }\n                return deactivateUser;\n            }()\n        },\n        {\n            key: \"deactivateUsers\",\n            value: function() {\n                var _deactivateUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee36(user_ids, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee36$(_context36) {\n                        while(1){\n                            switch(_context36.prev = _context36.next){\n                                case 0:\n                                    _context36.next = 2;\n                                    return this.post(this.baseURL + \"/users/deactivate\", _objectSpread({\n                                        user_ids: user_ids\n                                    }, options));\n                                case 2:\n                                    return _context36.abrupt(\"return\", _context36.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context36.stop();\n                            }\n                        }\n                    }, _callee36, this);\n                }));\n                function deactivateUsers(_x42, _x43) {\n                    return _deactivateUsers.apply(this, arguments);\n                }\n                return deactivateUsers;\n            }()\n        },\n        {\n            key: \"exportUser\",\n            value: function() {\n                var _exportUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee37(userID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee37$(_context37) {\n                        while(1){\n                            switch(_context37.prev = _context37.next){\n                                case 0:\n                                    _context37.next = 2;\n                                    return this.get(this.baseURL + \"/users/\".concat(userID, \"/export\"), _objectSpread({}, options));\n                                case 2:\n                                    return _context37.abrupt(\"return\", _context37.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context37.stop();\n                            }\n                        }\n                    }, _callee37, this);\n                }));\n                function exportUser(_x44, _x45) {\n                    return _exportUser.apply(this, arguments);\n                }\n                return exportUser;\n            }()\n        },\n        {\n            key: \"banUser\",\n            value: function() {\n                var _banUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee38(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee38$(_context38) {\n                        while(1){\n                            switch(_context38.prev = _context38.next){\n                                case 0:\n                                    _context38.next = 2;\n                                    return this.post(this.baseURL + \"/moderation/ban\", _objectSpread({\n                                        target_user_id: targetUserID\n                                    }, options));\n                                case 2:\n                                    return _context38.abrupt(\"return\", _context38.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context38.stop();\n                            }\n                        }\n                    }, _callee38, this);\n                }));\n                function banUser(_x46, _x47) {\n                    return _banUser.apply(this, arguments);\n                }\n                return banUser;\n            }()\n        },\n        {\n            key: \"unbanUser\",\n            value: function() {\n                var _unbanUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee39(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee39$(_context39) {\n                        while(1){\n                            switch(_context39.prev = _context39.next){\n                                case 0:\n                                    _context39.next = 2;\n                                    return this.delete(this.baseURL + \"/moderation/ban\", _objectSpread({\n                                        target_user_id: targetUserID\n                                    }, options));\n                                case 2:\n                                    return _context39.abrupt(\"return\", _context39.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context39.stop();\n                            }\n                        }\n                    }, _callee39, this);\n                }));\n                function unbanUser(_x48, _x49) {\n                    return _unbanUser.apply(this, arguments);\n                }\n                return unbanUser;\n            }()\n        },\n        {\n            key: \"shadowBan\",\n            value: function() {\n                var _shadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee40(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee40$(_context40) {\n                        while(1){\n                            switch(_context40.prev = _context40.next){\n                                case 0:\n                                    _context40.next = 2;\n                                    return this.banUser(targetUserID, _objectSpread({\n                                        shadow: true\n                                    }, options));\n                                case 2:\n                                    return _context40.abrupt(\"return\", _context40.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context40.stop();\n                            }\n                        }\n                    }, _callee40, this);\n                }));\n                function shadowBan(_x50, _x51) {\n                    return _shadowBan.apply(this, arguments);\n                }\n                return shadowBan;\n            }()\n        },\n        {\n            key: \"removeShadowBan\",\n            value: function() {\n                var _removeShadowBan = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee41(targetUserID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee41$(_context41) {\n                        while(1){\n                            switch(_context41.prev = _context41.next){\n                                case 0:\n                                    _context41.next = 2;\n                                    return this.unbanUser(targetUserID, _objectSpread({\n                                        shadow: true\n                                    }, options));\n                                case 2:\n                                    return _context41.abrupt(\"return\", _context41.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context41.stop();\n                            }\n                        }\n                    }, _callee41, this);\n                }));\n                function removeShadowBan(_x52, _x53) {\n                    return _removeShadowBan.apply(this, arguments);\n                }\n                return removeShadowBan;\n            }()\n        },\n        {\n            key: \"muteUser\",\n            value: function() {\n                var _muteUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee42(targetID, userID) {\n                    var options, _args42 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee42$(_context42) {\n                        while(1){\n                            switch(_context42.prev = _context42.next){\n                                case 0:\n                                    options = _args42.length > 2 && _args42[2] !== undefined ? _args42[2] : {};\n                                    _context42.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/mute\", _objectSpread(_objectSpread({\n                                        target_id: targetID\n                                    }, userID ? {\n                                        user_id: userID\n                                    } : {}), options));\n                                case 3:\n                                    return _context42.abrupt(\"return\", _context42.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context42.stop();\n                            }\n                        }\n                    }, _callee42, this);\n                }));\n                function muteUser(_x54, _x55) {\n                    return _muteUser.apply(this, arguments);\n                }\n                return muteUser;\n            }()\n        },\n        {\n            key: \"unmuteUser\",\n            value: function() {\n                var _unmuteUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee43(targetID, currentUserID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee43$(_context43) {\n                        while(1){\n                            switch(_context43.prev = _context43.next){\n                                case 0:\n                                    _context43.next = 2;\n                                    return this.post(this.baseURL + \"/moderation/unmute\", _objectSpread({\n                                        target_id: targetID\n                                    }, currentUserID ? {\n                                        user_id: currentUserID\n                                    } : {}));\n                                case 2:\n                                    return _context43.abrupt(\"return\", _context43.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context43.stop();\n                            }\n                        }\n                    }, _callee43, this);\n                }));\n                function unmuteUser(_x56, _x57) {\n                    return _unmuteUser.apply(this, arguments);\n                }\n                return unmuteUser;\n            }()\n        },\n        {\n            key: \"userMuteStatus\",\n            value: function userMuteStatus(targetID) {\n                if (!this.user || !this.wsPromise) {\n                    throw new Error(\"Make sure to await connectUser() first.\");\n                }\n                for(var i = 0; i < this.mutedUsers.length; i += 1){\n                    if (this.mutedUsers[i].target.id === targetID) return true;\n                }\n                return false;\n            }\n        },\n        {\n            key: \"flagMessage\",\n            value: function() {\n                var _flagMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee44(targetMessageID) {\n                    var options, _args44 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee44$(_context44) {\n                        while(1){\n                            switch(_context44.prev = _context44.next){\n                                case 0:\n                                    options = _args44.length > 1 && _args44[1] !== undefined ? _args44[1] : {};\n                                    _context44.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/flag\", _objectSpread({\n                                        target_message_id: targetMessageID\n                                    }, options));\n                                case 3:\n                                    return _context44.abrupt(\"return\", _context44.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context44.stop();\n                            }\n                        }\n                    }, _callee44, this);\n                }));\n                function flagMessage(_x58) {\n                    return _flagMessage.apply(this, arguments);\n                }\n                return flagMessage;\n            }()\n        },\n        {\n            key: \"flagUser\",\n            value: function() {\n                var _flagUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee45(targetID) {\n                    var options, _args45 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee45$(_context45) {\n                        while(1){\n                            switch(_context45.prev = _context45.next){\n                                case 0:\n                                    options = _args45.length > 1 && _args45[1] !== undefined ? _args45[1] : {};\n                                    _context45.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/flag\", _objectSpread({\n                                        target_user_id: targetID\n                                    }, options));\n                                case 3:\n                                    return _context45.abrupt(\"return\", _context45.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context45.stop();\n                            }\n                        }\n                    }, _callee45, this);\n                }));\n                function flagUser(_x59) {\n                    return _flagUser.apply(this, arguments);\n                }\n                return flagUser;\n            }()\n        },\n        {\n            key: \"unflagMessage\",\n            value: function() {\n                var _unflagMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee46(targetMessageID) {\n                    var options, _args46 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee46$(_context46) {\n                        while(1){\n                            switch(_context46.prev = _context46.next){\n                                case 0:\n                                    options = _args46.length > 1 && _args46[1] !== undefined ? _args46[1] : {};\n                                    _context46.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/unflag\", _objectSpread({\n                                        target_message_id: targetMessageID\n                                    }, options));\n                                case 3:\n                                    return _context46.abrupt(\"return\", _context46.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context46.stop();\n                            }\n                        }\n                    }, _callee46, this);\n                }));\n                function unflagMessage(_x60) {\n                    return _unflagMessage.apply(this, arguments);\n                }\n                return unflagMessage;\n            }()\n        },\n        {\n            key: \"unflagUser\",\n            value: function() {\n                var _unflagUser = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee47(targetID) {\n                    var options, _args47 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee47$(_context47) {\n                        while(1){\n                            switch(_context47.prev = _context47.next){\n                                case 0:\n                                    options = _args47.length > 1 && _args47[1] !== undefined ? _args47[1] : {};\n                                    _context47.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/unflag\", _objectSpread({\n                                        target_user_id: targetID\n                                    }, options));\n                                case 3:\n                                    return _context47.abrupt(\"return\", _context47.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context47.stop();\n                            }\n                        }\n                    }, _callee47, this);\n                }));\n                function unflagUser(_x61) {\n                    return _unflagUser.apply(this, arguments);\n                }\n                return unflagUser;\n            }()\n        },\n        {\n            key: \"getCallToken\",\n            value: function() {\n                var _getCallToken = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee48(callID) {\n                    var options, _args48 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee48$(_context48) {\n                        while(1){\n                            switch(_context48.prev = _context48.next){\n                                case 0:\n                                    options = _args48.length > 1 && _args48[1] !== undefined ? _args48[1] : {};\n                                    _context48.next = 3;\n                                    return this.post(this.baseURL + \"/calls/\".concat(callID), _objectSpread({}, options));\n                                case 3:\n                                    return _context48.abrupt(\"return\", _context48.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context48.stop();\n                            }\n                        }\n                    }, _callee48, this);\n                }));\n                function getCallToken(_x62) {\n                    return _getCallToken.apply(this, arguments);\n                }\n                return getCallToken;\n            }()\n        },\n        {\n            key: \"_queryFlags\",\n            value: function() {\n                var _queryFlags2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee49() {\n                    var filterConditions, options, _args49 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee49$(_context49) {\n                        while(1){\n                            switch(_context49.prev = _context49.next){\n                                case 0:\n                                    filterConditions = _args49.length > 0 && _args49[0] !== undefined ? _args49[0] : {};\n                                    options = _args49.length > 1 && _args49[1] !== undefined ? _args49[1] : {};\n                                    _context49.next = 4;\n                                    return this.post(this.baseURL + \"/moderation/flags\", _objectSpread({\n                                        filter_conditions: filterConditions\n                                    }, options));\n                                case 4:\n                                    return _context49.abrupt(\"return\", _context49.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context49.stop();\n                            }\n                        }\n                    }, _callee49, this);\n                }));\n                function _queryFlags() {\n                    return _queryFlags2.apply(this, arguments);\n                }\n                return _queryFlags;\n            }()\n        },\n        {\n            key: \"_queryFlagReports\",\n            value: function() {\n                var _queryFlagReports2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee50() {\n                    var filterConditions, options, _args50 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee50$(_context50) {\n                        while(1){\n                            switch(_context50.prev = _context50.next){\n                                case 0:\n                                    filterConditions = _args50.length > 0 && _args50[0] !== undefined ? _args50[0] : {};\n                                    options = _args50.length > 1 && _args50[1] !== undefined ? _args50[1] : {};\n                                    _context50.next = 4;\n                                    return this.post(this.baseURL + \"/moderation/reports\", _objectSpread({\n                                        filter_conditions: filterConditions\n                                    }, options));\n                                case 4:\n                                    return _context50.abrupt(\"return\", _context50.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context50.stop();\n                            }\n                        }\n                    }, _callee50, this);\n                }));\n                function _queryFlagReports() {\n                    return _queryFlagReports2.apply(this, arguments);\n                }\n                return _queryFlagReports;\n            }()\n        },\n        {\n            key: \"_reviewFlagReport\",\n            value: function() {\n                var _reviewFlagReport2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee51(id, reviewResult) {\n                    var options, _args51 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee51$(_context51) {\n                        while(1){\n                            switch(_context51.prev = _context51.next){\n                                case 0:\n                                    options = _args51.length > 2 && _args51[2] !== undefined ? _args51[2] : {};\n                                    _context51.next = 3;\n                                    return this.patch(this.baseURL + \"/moderation/reports/\".concat(id), _objectSpread({\n                                        review_result: reviewResult\n                                    }, options));\n                                case 3:\n                                    return _context51.abrupt(\"return\", _context51.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context51.stop();\n                            }\n                        }\n                    }, _callee51, this);\n                }));\n                function _reviewFlagReport(_x63, _x64) {\n                    return _reviewFlagReport2.apply(this, arguments);\n                }\n                return _reviewFlagReport;\n            }()\n        },\n        {\n            key: \"unblockMessage\",\n            value: function() {\n                var _unblockMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee52(targetMessageID) {\n                    var options, _args52 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee52$(_context52) {\n                        while(1){\n                            switch(_context52.prev = _context52.next){\n                                case 0:\n                                    options = _args52.length > 1 && _args52[1] !== undefined ? _args52[1] : {};\n                                    _context52.next = 3;\n                                    return this.post(this.baseURL + \"/moderation/unblock_message\", _objectSpread({\n                                        target_message_id: targetMessageID\n                                    }, options));\n                                case 3:\n                                    return _context52.abrupt(\"return\", _context52.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context52.stop();\n                            }\n                        }\n                    }, _callee52, this);\n                }));\n                function unblockMessage(_x65) {\n                    return _unblockMessage.apply(this, arguments);\n                }\n                return unblockMessage;\n            }() // alias for backwards compatibility\n        },\n        {\n            key: \"markChannelsRead\",\n            value: /**\n     * markChannelsRead - marks channels read -\n     * it accepts a map of cid:messageid pairs, if messageid is empty, the whole channel will be marked as read\n     *\n     * @param {MarkChannelsReadOptions <StreamChatGenerics>} [data]\n     *\n     * @return {Promise<APIResponse>}\n     */ function() {\n                var _markChannelsRead = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee53() {\n                    var data, _args53 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee53$(_context53) {\n                        while(1){\n                            switch(_context53.prev = _context53.next){\n                                case 0:\n                                    data = _args53.length > 0 && _args53[0] !== undefined ? _args53[0] : {};\n                                    _context53.next = 3;\n                                    return this.post(this.baseURL + \"/channels/read\", _objectSpread({}, data));\n                                case 3:\n                                case \"end\":\n                                    return _context53.stop();\n                            }\n                        }\n                    }, _callee53, this);\n                }));\n                function markChannelsRead() {\n                    return _markChannelsRead.apply(this, arguments);\n                }\n                return markChannelsRead;\n            }()\n        },\n        {\n            key: \"createCommand\",\n            value: function createCommand(data) {\n                return this.post(this.baseURL + \"/commands\", data);\n            }\n        },\n        {\n            key: \"getCommand\",\n            value: function getCommand(name) {\n                return this.get(this.baseURL + \"/commands/\".concat(name));\n            }\n        },\n        {\n            key: \"updateCommand\",\n            value: function updateCommand(name, data) {\n                return this.put(this.baseURL + \"/commands/\".concat(name), data);\n            }\n        },\n        {\n            key: \"deleteCommand\",\n            value: function deleteCommand(name) {\n                return this.delete(this.baseURL + \"/commands/\".concat(name));\n            }\n        },\n        {\n            key: \"listCommands\",\n            value: function listCommands() {\n                return this.get(this.baseURL + \"/commands\");\n            }\n        },\n        {\n            key: \"createChannelType\",\n            value: function createChannelType(data) {\n                var channelData = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, {\n                    commands: [\n                        \"all\"\n                    ]\n                }, data);\n                return this.post(this.baseURL + \"/channeltypes\", channelData);\n            }\n        },\n        {\n            key: \"getChannelType\",\n            value: function getChannelType(channelType) {\n                return this.get(this.baseURL + \"/channeltypes/\".concat(channelType));\n            }\n        },\n        {\n            key: \"updateChannelType\",\n            value: function updateChannelType(channelType, data) {\n                return this.put(this.baseURL + \"/channeltypes/\".concat(channelType), data);\n            }\n        },\n        {\n            key: \"deleteChannelType\",\n            value: function deleteChannelType(channelType) {\n                return this.delete(this.baseURL + \"/channeltypes/\".concat(channelType));\n            }\n        },\n        {\n            key: \"listChannelTypes\",\n            value: function listChannelTypes() {\n                return this.get(this.baseURL + \"/channeltypes\");\n            }\n        },\n        {\n            key: \"translateMessage\",\n            value: function() {\n                var _translateMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee54(messageId, language) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee54$(_context54) {\n                        while(1){\n                            switch(_context54.prev = _context54.next){\n                                case 0:\n                                    _context54.next = 2;\n                                    return this.post(this.baseURL + \"/messages/\".concat(messageId, \"/translate\"), {\n                                        language: language\n                                    });\n                                case 2:\n                                    return _context54.abrupt(\"return\", _context54.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context54.stop();\n                            }\n                        }\n                    }, _callee54, this);\n                }));\n                function translateMessage(_x66, _x67) {\n                    return _translateMessage.apply(this, arguments);\n                }\n                return translateMessage;\n            }()\n        },\n        {\n            key: \"_normalizeExpiration\",\n            value: function _normalizeExpiration(timeoutOrExpirationDate) {\n                var pinExpires = null;\n                if (typeof timeoutOrExpirationDate === \"number\") {\n                    var now = new Date();\n                    now.setSeconds(now.getSeconds() + timeoutOrExpirationDate);\n                    pinExpires = now.toISOString();\n                } else if (isString(timeoutOrExpirationDate)) {\n                    pinExpires = timeoutOrExpirationDate;\n                } else if (timeoutOrExpirationDate instanceof Date) {\n                    pinExpires = timeoutOrExpirationDate.toISOString();\n                }\n                return pinExpires;\n            }\n        },\n        {\n            key: \"_validateAndGetMessageId\",\n            value: function _validateAndGetMessageId(messageOrMessageId, errorText) {\n                var messageId;\n                if (typeof messageOrMessageId === \"string\") {\n                    messageId = messageOrMessageId;\n                } else {\n                    if (!messageOrMessageId.id) {\n                        throw Error(errorText);\n                    }\n                    messageId = messageOrMessageId.id;\n                }\n                return messageId;\n            }\n        },\n        {\n            key: \"pinMessage\",\n            value: function pinMessage(messageOrMessageId, timeoutOrExpirationDate, pinnedBy, pinnedAt) {\n                var messageId = this._validateAndGetMessageId(messageOrMessageId, \"Please specify the message id when calling unpinMessage\");\n                return this.partialUpdateMessage(messageId, {\n                    set: {\n                        pinned: true,\n                        pin_expires: this._normalizeExpiration(timeoutOrExpirationDate),\n                        pinned_at: this._normalizeExpiration(pinnedAt)\n                    }\n                }, pinnedBy);\n            }\n        },\n        {\n            key: \"unpinMessage\",\n            value: function unpinMessage(messageOrMessageId, userId) {\n                var messageId = this._validateAndGetMessageId(messageOrMessageId, \"Please specify the message id when calling unpinMessage\");\n                return this.partialUpdateMessage(messageId, {\n                    set: {\n                        pinned: false\n                    }\n                }, userId);\n            }\n        },\n        {\n            key: \"updateMessage\",\n            value: function() {\n                var _updateMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee55(message, userId, options) {\n                    var clonedMessage, reservedMessageFields;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee55$(_context55) {\n                        while(1){\n                            switch(_context55.prev = _context55.next){\n                                case 0:\n                                    if (message.id) {\n                                        _context55.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Please specify the message id when calling updateMessage\");\n                                case 2:\n                                    clonedMessage = _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_1___default()({}, message);\n                                    delete clonedMessage.id;\n                                    reservedMessageFields = [\n                                        \"command\",\n                                        \"created_at\",\n                                        \"html\",\n                                        \"latest_reactions\",\n                                        \"own_reactions\",\n                                        \"quoted_message\",\n                                        \"reaction_counts\",\n                                        \"reply_count\",\n                                        \"type\",\n                                        \"updated_at\",\n                                        \"user\",\n                                        \"__html\"\n                                    ];\n                                    reservedMessageFields.forEach(function(item) {\n                                        if (clonedMessage[item] != null) {\n                                            delete clonedMessage[item];\n                                        }\n                                    });\n                                    if (userId != null) {\n                                        if (isString(userId)) {\n                                            clonedMessage.user_id = userId;\n                                        } else {\n                                            clonedMessage.user = {\n                                                id: userId.id\n                                            };\n                                        }\n                                    }\n                                    /**\n                 * Server always expects mentioned_users to be array of string. We are adding extra check, just in case\n                 * SDK missed this conversion.\n                 */ if (Array.isArray(clonedMessage.mentioned_users) && !isString(clonedMessage.mentioned_users[0])) {\n                                        clonedMessage.mentioned_users = clonedMessage.mentioned_users.map(function(mu) {\n                                            return mu.id;\n                                        });\n                                    }\n                                    _context55.next = 10;\n                                    return this.post(this.baseURL + \"/messages/\".concat(message.id), _objectSpread({\n                                        message: clonedMessage\n                                    }, options));\n                                case 10:\n                                    return _context55.abrupt(\"return\", _context55.sent);\n                                case 11:\n                                case \"end\":\n                                    return _context55.stop();\n                            }\n                        }\n                    }, _callee55, this);\n                }));\n                function updateMessage(_x68, _x69, _x70) {\n                    return _updateMessage.apply(this, arguments);\n                }\n                return updateMessage;\n            }()\n        },\n        {\n            key: \"partialUpdateMessage\",\n            value: function() {\n                var _partialUpdateMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee56(id, partialMessageObject, userId, options) {\n                    var user;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee56$(_context56) {\n                        while(1){\n                            switch(_context56.prev = _context56.next){\n                                case 0:\n                                    if (id) {\n                                        _context56.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Please specify the message id when calling partialUpdateMessage\");\n                                case 2:\n                                    user = userId;\n                                    if (userId != null && isString(userId)) {\n                                        user = {\n                                            id: userId\n                                        };\n                                    }\n                                    _context56.next = 6;\n                                    return this.put(this.baseURL + \"/messages/\".concat(id), _objectSpread(_objectSpread(_objectSpread({}, partialMessageObject), options), {}, {\n                                        user: user\n                                    }));\n                                case 6:\n                                    return _context56.abrupt(\"return\", _context56.sent);\n                                case 7:\n                                case \"end\":\n                                    return _context56.stop();\n                            }\n                        }\n                    }, _callee56, this);\n                }));\n                function partialUpdateMessage(_x71, _x72, _x73, _x74) {\n                    return _partialUpdateMessage.apply(this, arguments);\n                }\n                return partialUpdateMessage;\n            }()\n        },\n        {\n            key: \"deleteMessage\",\n            value: function() {\n                var _deleteMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee57(messageID, hardDelete) {\n                    var params;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee57$(_context57) {\n                        while(1){\n                            switch(_context57.prev = _context57.next){\n                                case 0:\n                                    params = {};\n                                    if (hardDelete) {\n                                        params = {\n                                            hard: true\n                                        };\n                                    }\n                                    _context57.next = 4;\n                                    return this.delete(this.baseURL + \"/messages/\".concat(messageID), params);\n                                case 4:\n                                    return _context57.abrupt(\"return\", _context57.sent);\n                                case 5:\n                                case \"end\":\n                                    return _context57.stop();\n                            }\n                        }\n                    }, _callee57, this);\n                }));\n                function deleteMessage(_x75, _x76) {\n                    return _deleteMessage.apply(this, arguments);\n                }\n                return deleteMessage;\n            }()\n        },\n        {\n            key: \"undeleteMessage\",\n            value: function() {\n                var _undeleteMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee58(messageID, userID) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee58$(_context58) {\n                        while(1){\n                            switch(_context58.prev = _context58.next){\n                                case 0:\n                                    _context58.next = 2;\n                                    return this.post(this.baseURL + \"/messages/\".concat(messageID, \"/undelete\"), {\n                                        undeleted_by: userID\n                                    });\n                                case 2:\n                                    return _context58.abrupt(\"return\", _context58.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context58.stop();\n                            }\n                        }\n                    }, _callee58, this);\n                }));\n                function undeleteMessage(_x77, _x78) {\n                    return _undeleteMessage.apply(this, arguments);\n                }\n                return undeleteMessage;\n            }()\n        },\n        {\n            key: \"getMessage\",\n            value: function() {\n                var _getMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee59(messageID, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee59$(_context59) {\n                        while(1){\n                            switch(_context59.prev = _context59.next){\n                                case 0:\n                                    _context59.next = 2;\n                                    return this.get(this.baseURL + \"/messages/\".concat(encodeURIComponent(messageID)), _objectSpread({}, options));\n                                case 2:\n                                    return _context59.abrupt(\"return\", _context59.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context59.stop();\n                            }\n                        }\n                    }, _callee59, this);\n                }));\n                function getMessage(_x79, _x80) {\n                    return _getMessage.apply(this, arguments);\n                }\n                return getMessage;\n            }()\n        },\n        {\n            key: \"queryThreads\",\n            value: function() {\n                var _queryThreads = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee60(options) {\n                    var _this5 = this;\n                    var opts, res;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee60$(_context60) {\n                        while(1){\n                            switch(_context60.prev = _context60.next){\n                                case 0:\n                                    opts = _objectSpread({\n                                        limit: 10,\n                                        participant_limit: 10,\n                                        reply_limit: 3,\n                                        watch: true\n                                    }, options);\n                                    _context60.next = 3;\n                                    return this.post(this.baseURL + \"/threads\", opts);\n                                case 3:\n                                    res = _context60.sent;\n                                    return _context60.abrupt(\"return\", {\n                                        threads: res.threads.map(function(thread) {\n                                            return new Thread(_this5, thread);\n                                        }),\n                                        next: res.next\n                                    });\n                                case 5:\n                                case \"end\":\n                                    return _context60.stop();\n                            }\n                        }\n                    }, _callee60, this);\n                }));\n                function queryThreads(_x81) {\n                    return _queryThreads.apply(this, arguments);\n                }\n                return queryThreads;\n            }()\n        },\n        {\n            key: \"getThread\",\n            value: function() {\n                var _getThread = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee61(messageId) {\n                    var options, opts, res, _args61 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee61$(_context61) {\n                        while(1){\n                            switch(_context61.prev = _context61.next){\n                                case 0:\n                                    options = _args61.length > 1 && _args61[1] !== undefined ? _args61[1] : {};\n                                    if (messageId) {\n                                        _context61.next = 3;\n                                        break;\n                                    }\n                                    throw Error(\"Please specify the message id when calling partialUpdateThread\");\n                                case 3:\n                                    opts = _objectSpread({\n                                        participant_limit: 100,\n                                        reply_limit: 3,\n                                        watch: true\n                                    }, options);\n                                    _context61.next = 6;\n                                    return this.get(this.baseURL + \"/threads/\".concat(messageId), opts);\n                                case 6:\n                                    res = _context61.sent;\n                                    return _context61.abrupt(\"return\", new Thread(this, res.thread));\n                                case 8:\n                                case \"end\":\n                                    return _context61.stop();\n                            }\n                        }\n                    }, _callee61, this);\n                }));\n                function getThread(_x82) {\n                    return _getThread.apply(this, arguments);\n                }\n                return getThread;\n            }()\n        },\n        {\n            key: \"partialUpdateThread\",\n            value: function() {\n                var _partialUpdateThread = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee62(messageId, partialThreadObject) {\n                    var reservedThreadFields, _key5;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee62$(_context62) {\n                        while(1){\n                            switch(_context62.prev = _context62.next){\n                                case 0:\n                                    if (messageId) {\n                                        _context62.next = 2;\n                                        break;\n                                    }\n                                    throw Error(\"Please specify the message id when calling partialUpdateThread\");\n                                case 2:\n                                    // check for reserved fields from ThreadResponse type within partialThreadObject's set and unset.\n                                    // Throw error if any of the reserved field is found.\n                                    reservedThreadFields = [\n                                        \"created_at\",\n                                        \"id\",\n                                        \"last_message_at\",\n                                        \"type\",\n                                        \"updated_at\",\n                                        \"user\",\n                                        \"reply_count\",\n                                        \"participants\",\n                                        \"channel\"\n                                    ];\n                                    _context62.t0 = _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().keys(_objectSpread(_objectSpread({}, partialThreadObject.set), partialThreadObject.unset));\n                                case 4:\n                                    if ((_context62.t1 = _context62.t0()).done) {\n                                        _context62.next = 10;\n                                        break;\n                                    }\n                                    _key5 = _context62.t1.value;\n                                    if (!reservedThreadFields.includes(_key5)) {\n                                        _context62.next = 8;\n                                        break;\n                                    }\n                                    throw Error(\"You cannot set \".concat(_key5, \" field on Thread object. \").concat(_key5, \" is reserved for server-side use. Please omit \").concat(_key5, \" from your set object.\"));\n                                case 8:\n                                    _context62.next = 4;\n                                    break;\n                                case 10:\n                                    _context62.next = 12;\n                                    return this.patch(this.baseURL + \"/threads/\".concat(messageId), partialThreadObject);\n                                case 12:\n                                    return _context62.abrupt(\"return\", _context62.sent);\n                                case 13:\n                                case \"end\":\n                                    return _context62.stop();\n                            }\n                        }\n                    }, _callee62, this);\n                }));\n                function partialUpdateThread(_x83, _x84) {\n                    return _partialUpdateThread.apply(this, arguments);\n                }\n                return partialUpdateThread;\n            }()\n        },\n        {\n            key: \"getUserAgent\",\n            value: function getUserAgent() {\n                return this.userAgent || \"stream-chat-javascript-client-\".concat(this.node ? \"node\" : \"browser\", \"-\", \"8.25.1\");\n            }\n        },\n        {\n            key: \"setUserAgent\",\n            value: function setUserAgent(userAgent) {\n                this.userAgent = userAgent;\n            }\n        },\n        {\n            key: \"_enrichAxiosOptions\",\n            value: function _enrichAxiosOptions() {\n                var _options$headers;\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n                    params: {},\n                    headers: {},\n                    config: {}\n                };\n                var token = this._getToken();\n                var authorization = token ? {\n                    Authorization: token\n                } : undefined;\n                var signal = null;\n                if (this.nextRequestAbortController !== null) {\n                    signal = this.nextRequestAbortController.signal;\n                    this.nextRequestAbortController = null;\n                }\n                if (!((_options$headers = options.headers) !== null && _options$headers !== void 0 && _options$headers[\"x-client-request-id\"])) {\n                    options.headers = _objectSpread(_objectSpread({}, options.headers), {}, {\n                        \"x-client-request-id\": randomId()\n                    });\n                }\n                var _ref9 = this.options.axiosRequestConfig || {}, axiosRequestConfigParams = _ref9.params, axiosRequestConfigHeaders = _ref9.headers, axiosRequestConfigRest = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3___default()(_ref9, _excluded2);\n                return _objectSpread(_objectSpread(_objectSpread({\n                    params: _objectSpread(_objectSpread({\n                        user_id: this.userID,\n                        connection_id: this._getConnectionID(),\n                        api_key: this.key\n                    }, options.params), axiosRequestConfigParams || {}),\n                    headers: _objectSpread(_objectSpread(_objectSpread({}, authorization), {}, {\n                        \"stream-auth-type\": this.getAuthType(),\n                        \"X-Stream-Client\": this.getUserAgent()\n                    }, options.headers), axiosRequestConfigHeaders || {})\n                }, signal ? {\n                    signal: signal\n                } : {}), options.config), axiosRequestConfigRest || {});\n            }\n        },\n        {\n            key: \"_getToken\",\n            value: function _getToken() {\n                if (!this.tokenManager || this.anonymous) return null;\n                return this.tokenManager.getToken();\n            }\n        },\n        {\n            key: \"_startCleaning\",\n            value: function _startCleaning() {\n                var that = this;\n                if (this.cleaningIntervalRef != null) {\n                    return;\n                }\n                this.cleaningIntervalRef = setInterval(function() {\n                    // call clean on the channel, used for calling the stop.typing event etc.\n                    for(var _i3 = 0, _Object$values2 = Object.values(that.activeChannels); _i3 < _Object$values2.length; _i3++){\n                        var _channel7 = _Object$values2[_i3];\n                        _channel7.clean();\n                    }\n                }, 500);\n            }\n        },\n        {\n            key: \"verifyWebhook\",\n            value: /**\n     * checks signature of a request\n     * @param {string | Buffer} rawBody\n     * @param {string} signature from HTTP header\n     * @returns {boolean}\n     */ function verifyWebhook(requestBody, xSignature) {\n                return !!this.secret && CheckSignature(requestBody, this.secret, xSignature);\n            }\n        },\n        {\n            key: \"getPermission\",\n            value: function getPermission(name) {\n                return this.get(\"\".concat(this.baseURL, \"/permissions/\").concat(name));\n            }\n        },\n        {\n            key: \"createPermission\",\n            value: function createPermission(permissionData) {\n                return this.post(\"\".concat(this.baseURL, \"/permissions\"), _objectSpread({}, permissionData));\n            }\n        },\n        {\n            key: \"updatePermission\",\n            value: function updatePermission(id, permissionData) {\n                return this.put(\"\".concat(this.baseURL, \"/permissions/\").concat(id), _objectSpread({}, permissionData));\n            }\n        },\n        {\n            key: \"deletePermission\",\n            value: function deletePermission(name) {\n                return this.delete(\"\".concat(this.baseURL, \"/permissions/\").concat(name));\n            }\n        },\n        {\n            key: \"listPermissions\",\n            value: function listPermissions() {\n                return this.get(\"\".concat(this.baseURL, \"/permissions\"));\n            }\n        },\n        {\n            key: \"createRole\",\n            value: function createRole(name) {\n                return this.post(\"\".concat(this.baseURL, \"/roles\"), {\n                    name: name\n                });\n            }\n        },\n        {\n            key: \"listRoles\",\n            value: function listRoles() {\n                return this.get(\"\".concat(this.baseURL, \"/roles\"));\n            }\n        },\n        {\n            key: \"deleteRole\",\n            value: function deleteRole(name) {\n                return this.delete(\"\".concat(this.baseURL, \"/roles/\").concat(name));\n            }\n        },\n        {\n            key: \"sync\",\n            value: function sync(channel_cids, last_sync_at) {\n                var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n                return this.post(\"\".concat(this.baseURL, \"/sync\"), _objectSpread({\n                    channel_cids: channel_cids,\n                    last_sync_at: last_sync_at\n                }, options));\n            }\n        },\n        {\n            key: \"sendUserCustomEvent\",\n            value: function() {\n                var _sendUserCustomEvent = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee63(targetUserID, event) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee63$(_context63) {\n                        while(1){\n                            switch(_context63.prev = _context63.next){\n                                case 0:\n                                    _context63.next = 2;\n                                    return this.post(\"\".concat(this.baseURL, \"/users/\").concat(targetUserID, \"/event\"), {\n                                        event: event\n                                    });\n                                case 2:\n                                    return _context63.abrupt(\"return\", _context63.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context63.stop();\n                            }\n                        }\n                    }, _callee63, this);\n                }));\n                function sendUserCustomEvent(_x85, _x86) {\n                    return _sendUserCustomEvent.apply(this, arguments);\n                }\n                return sendUserCustomEvent;\n            }()\n        },\n        {\n            key: \"createBlockList\",\n            value: function createBlockList(blockList) {\n                return this.post(\"\".concat(this.baseURL, \"/blocklists\"), blockList);\n            }\n        },\n        {\n            key: \"listBlockLists\",\n            value: function listBlockLists() {\n                return this.get(\"\".concat(this.baseURL, \"/blocklists\"));\n            }\n        },\n        {\n            key: \"getBlockList\",\n            value: function getBlockList(name) {\n                return this.get(\"\".concat(this.baseURL, \"/blocklists/\").concat(name));\n            }\n        },\n        {\n            key: \"updateBlockList\",\n            value: function updateBlockList(name, data) {\n                return this.put(\"\".concat(this.baseURL, \"/blocklists/\").concat(name), data);\n            }\n        },\n        {\n            key: \"deleteBlockList\",\n            value: function deleteBlockList(name) {\n                return this.delete(\"\".concat(this.baseURL, \"/blocklists/\").concat(name));\n            }\n        },\n        {\n            key: \"exportChannels\",\n            value: function exportChannels(request) {\n                var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                var payload = _objectSpread({\n                    channels: request\n                }, options);\n                return this.post(\"\".concat(this.baseURL, \"/export_channels\"), payload);\n            }\n        },\n        {\n            key: \"exportUsers\",\n            value: function exportUsers(request) {\n                return this.post(\"\".concat(this.baseURL, \"/export/users\"), request);\n            }\n        },\n        {\n            key: \"exportChannel\",\n            value: function exportChannel(request, options) {\n                return this.exportChannels([\n                    request\n                ], options);\n            }\n        },\n        {\n            key: \"getExportChannelStatus\",\n            value: function getExportChannelStatus(id) {\n                return this.get(\"\".concat(this.baseURL, \"/export_channels/\").concat(id));\n            }\n        },\n        {\n            key: \"campaign\",\n            value: function campaign(idOrData, data) {\n                if (idOrData && _babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_2___default()(idOrData) === \"object\") {\n                    return new Campaign(this, null, idOrData);\n                }\n                return new Campaign(this, idOrData, data);\n            }\n        },\n        {\n            key: \"segment\",\n            value: function segment(type, idOrData, data) {\n                if (typeof idOrData === \"string\") {\n                    return new Segment(this, type, idOrData, data);\n                }\n                return new Segment(this, type, null, idOrData);\n            }\n        },\n        {\n            key: \"validateServerSideAuth\",\n            value: function validateServerSideAuth() {\n                if (!this.secret) {\n                    throw new Error(\"Campaigns is a server-side only feature. Please initialize the client with a secret to use this feature.\");\n                }\n            }\n        },\n        {\n            key: \"createSegment\",\n            value: function() {\n                var _createSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee64(type, id, data) {\n                    var body;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee64$(_context64) {\n                        while(1){\n                            switch(_context64.prev = _context64.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    body = _objectSpread({\n                                        id: id,\n                                        type: type\n                                    }, data);\n                                    return _context64.abrupt(\"return\", this.post(this.baseURL + \"/segments\", body));\n                                case 3:\n                                case \"end\":\n                                    return _context64.stop();\n                            }\n                        }\n                    }, _callee64, this);\n                }));\n                function createSegment(_x87, _x88, _x89) {\n                    return _createSegment.apply(this, arguments);\n                }\n                return createSegment;\n            }()\n        },\n        {\n            key: \"createUserSegment\",\n            value: function() {\n                var _createUserSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee65(id, data) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee65$(_context65) {\n                        while(1){\n                            switch(_context65.prev = _context65.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context65.abrupt(\"return\", this.createSegment(\"user\", id, data));\n                                case 2:\n                                case \"end\":\n                                    return _context65.stop();\n                            }\n                        }\n                    }, _callee65, this);\n                }));\n                function createUserSegment(_x90, _x91) {\n                    return _createUserSegment.apply(this, arguments);\n                }\n                return createUserSegment;\n            }()\n        },\n        {\n            key: \"createChannelSegment\",\n            value: function() {\n                var _createChannelSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee66(id, data) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee66$(_context66) {\n                        while(1){\n                            switch(_context66.prev = _context66.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context66.abrupt(\"return\", this.createSegment(\"channel\", id, data));\n                                case 2:\n                                case \"end\":\n                                    return _context66.stop();\n                            }\n                        }\n                    }, _callee66, this);\n                }));\n                function createChannelSegment(_x92, _x93) {\n                    return _createChannelSegment.apply(this, arguments);\n                }\n                return createChannelSegment;\n            }()\n        },\n        {\n            key: \"getSegment\",\n            value: function() {\n                var _getSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee67(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee67$(_context67) {\n                        while(1){\n                            switch(_context67.prev = _context67.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context67.abrupt(\"return\", this.get(this.baseURL + \"/segments/\".concat(id)));\n                                case 2:\n                                case \"end\":\n                                    return _context67.stop();\n                            }\n                        }\n                    }, _callee67, this);\n                }));\n                function getSegment(_x94) {\n                    return _getSegment.apply(this, arguments);\n                }\n                return getSegment;\n            }()\n        },\n        {\n            key: \"updateSegment\",\n            value: function() {\n                var _updateSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee68(id, data) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee68$(_context68) {\n                        while(1){\n                            switch(_context68.prev = _context68.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context68.abrupt(\"return\", this.put(this.baseURL + \"/segments/\".concat(id), data));\n                                case 2:\n                                case \"end\":\n                                    return _context68.stop();\n                            }\n                        }\n                    }, _callee68, this);\n                }));\n                function updateSegment(_x95, _x96) {\n                    return _updateSegment.apply(this, arguments);\n                }\n                return updateSegment;\n            }()\n        },\n        {\n            key: \"addSegmentTargets\",\n            value: function() {\n                var _addSegmentTargets = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee69(id, targets) {\n                    var body;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee69$(_context69) {\n                        while(1){\n                            switch(_context69.prev = _context69.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    body = {\n                                        target_ids: targets\n                                    };\n                                    return _context69.abrupt(\"return\", this.post(this.baseURL + \"/segments/\".concat(id, \"/addtargets\"), body));\n                                case 3:\n                                case \"end\":\n                                    return _context69.stop();\n                            }\n                        }\n                    }, _callee69, this);\n                }));\n                function addSegmentTargets(_x97, _x98) {\n                    return _addSegmentTargets.apply(this, arguments);\n                }\n                return addSegmentTargets;\n            }()\n        },\n        {\n            key: \"querySegmentTargets\",\n            value: function() {\n                var _querySegmentTargets = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee70(id) {\n                    var filter, sort, options, _args70 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee70$(_context70) {\n                        while(1){\n                            switch(_context70.prev = _context70.next){\n                                case 0:\n                                    filter = _args70.length > 1 && _args70[1] !== undefined ? _args70[1] : {};\n                                    sort = _args70.length > 2 && _args70[2] !== undefined ? _args70[2] : [];\n                                    options = _args70.length > 3 && _args70[3] !== undefined ? _args70[3] : {};\n                                    this.validateServerSideAuth();\n                                    return _context70.abrupt(\"return\", this.post(this.baseURL + \"/segments/\".concat(id, \"/targets/query\"), _objectSpread({\n                                        filter: filter || {},\n                                        sort: sort || []\n                                    }, options)));\n                                case 5:\n                                case \"end\":\n                                    return _context70.stop();\n                            }\n                        }\n                    }, _callee70, this);\n                }));\n                function querySegmentTargets(_x99) {\n                    return _querySegmentTargets.apply(this, arguments);\n                }\n                return querySegmentTargets;\n            }()\n        },\n        {\n            key: \"removeSegmentTargets\",\n            value: function() {\n                var _removeSegmentTargets = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee71(id, targets) {\n                    var body;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee71$(_context71) {\n                        while(1){\n                            switch(_context71.prev = _context71.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    body = {\n                                        target_ids: targets\n                                    };\n                                    return _context71.abrupt(\"return\", this.post(this.baseURL + \"/segments/\".concat(id, \"/deletetargets\"), body));\n                                case 3:\n                                case \"end\":\n                                    return _context71.stop();\n                            }\n                        }\n                    }, _callee71, this);\n                }));\n                function removeSegmentTargets(_x100, _x101) {\n                    return _removeSegmentTargets.apply(this, arguments);\n                }\n                return removeSegmentTargets;\n            }()\n        },\n        {\n            key: \"querySegments\",\n            value: function() {\n                var _querySegments = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee72(filter, sort) {\n                    var options, _args72 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee72$(_context72) {\n                        while(1){\n                            switch(_context72.prev = _context72.next){\n                                case 0:\n                                    options = _args72.length > 2 && _args72[2] !== undefined ? _args72[2] : {};\n                                    this.validateServerSideAuth();\n                                    return _context72.abrupt(\"return\", this.post(this.baseURL + \"/segments/query\", _objectSpread({\n                                        filter: filter,\n                                        sort: sort\n                                    }, options)));\n                                case 3:\n                                case \"end\":\n                                    return _context72.stop();\n                            }\n                        }\n                    }, _callee72, this);\n                }));\n                function querySegments(_x102, _x103) {\n                    return _querySegments.apply(this, arguments);\n                }\n                return querySegments;\n            }()\n        },\n        {\n            key: \"deleteSegment\",\n            value: function() {\n                var _deleteSegment = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee73(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee73$(_context73) {\n                        while(1){\n                            switch(_context73.prev = _context73.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context73.abrupt(\"return\", this.delete(this.baseURL + \"/segments/\".concat(id)));\n                                case 2:\n                                case \"end\":\n                                    return _context73.stop();\n                            }\n                        }\n                    }, _callee73, this);\n                }));\n                function deleteSegment(_x104) {\n                    return _deleteSegment.apply(this, arguments);\n                }\n                return deleteSegment;\n            }()\n        },\n        {\n            key: \"segmentTargetExists\",\n            value: function() {\n                var _segmentTargetExists = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee74(segmentId, targetId) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee74$(_context74) {\n                        while(1){\n                            switch(_context74.prev = _context74.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context74.abrupt(\"return\", this.get(this.baseURL + \"/segments/\".concat(segmentId, \"/target/\").concat(targetId)));\n                                case 2:\n                                case \"end\":\n                                    return _context74.stop();\n                            }\n                        }\n                    }, _callee74, this);\n                }));\n                function segmentTargetExists(_x105, _x106) {\n                    return _segmentTargetExists.apply(this, arguments);\n                }\n                return segmentTargetExists;\n            }()\n        },\n        {\n            key: \"createCampaign\",\n            value: function() {\n                var _createCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee75(params) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee75$(_context75) {\n                        while(1){\n                            switch(_context75.prev = _context75.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context75.abrupt(\"return\", this.post(this.baseURL + \"/campaigns\", _objectSpread({}, params)));\n                                case 2:\n                                case \"end\":\n                                    return _context75.stop();\n                            }\n                        }\n                    }, _callee75, this);\n                }));\n                function createCampaign(_x107) {\n                    return _createCampaign.apply(this, arguments);\n                }\n                return createCampaign;\n            }()\n        },\n        {\n            key: \"getCampaign\",\n            value: function() {\n                var _getCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee76(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee76$(_context76) {\n                        while(1){\n                            switch(_context76.prev = _context76.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context76.abrupt(\"return\", this.get(this.baseURL + \"/campaigns/\".concat(id)));\n                                case 2:\n                                case \"end\":\n                                    return _context76.stop();\n                            }\n                        }\n                    }, _callee76, this);\n                }));\n                function getCampaign(_x108) {\n                    return _getCampaign.apply(this, arguments);\n                }\n                return getCampaign;\n            }()\n        },\n        {\n            key: \"startCampaign\",\n            value: function() {\n                var _startCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee77(id, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee77$(_context77) {\n                        while(1){\n                            switch(_context77.prev = _context77.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context77.abrupt(\"return\", this.post(this.baseURL + \"/campaigns/\".concat(id, \"/start\"), {\n                                        scheduled_for: options === null || options === void 0 ? void 0 : options.scheduledFor,\n                                        stop_at: options === null || options === void 0 ? void 0 : options.stopAt\n                                    }));\n                                case 2:\n                                case \"end\":\n                                    return _context77.stop();\n                            }\n                        }\n                    }, _callee77, this);\n                }));\n                function startCampaign(_x109, _x110) {\n                    return _startCampaign.apply(this, arguments);\n                }\n                return startCampaign;\n            }()\n        },\n        {\n            key: \"queryCampaigns\",\n            value: function() {\n                var _queryCampaigns = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee78(filter, sort, options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee78$(_context78) {\n                        while(1){\n                            switch(_context78.prev = _context78.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    _context78.next = 3;\n                                    return this.post(this.baseURL + \"/campaigns/query\", _objectSpread({\n                                        filter: filter,\n                                        sort: sort\n                                    }, options || {}));\n                                case 3:\n                                    return _context78.abrupt(\"return\", _context78.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context78.stop();\n                            }\n                        }\n                    }, _callee78, this);\n                }));\n                function queryCampaigns(_x111, _x112, _x113) {\n                    return _queryCampaigns.apply(this, arguments);\n                }\n                return queryCampaigns;\n            }()\n        },\n        {\n            key: \"updateCampaign\",\n            value: function() {\n                var _updateCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee79(id, params) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee79$(_context79) {\n                        while(1){\n                            switch(_context79.prev = _context79.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context79.abrupt(\"return\", this.put(this.baseURL + \"/campaigns/\".concat(id), params));\n                                case 2:\n                                case \"end\":\n                                    return _context79.stop();\n                            }\n                        }\n                    }, _callee79, this);\n                }));\n                function updateCampaign(_x114, _x115) {\n                    return _updateCampaign.apply(this, arguments);\n                }\n                return updateCampaign;\n            }()\n        },\n        {\n            key: \"deleteCampaign\",\n            value: function() {\n                var _deleteCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee80(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee80$(_context80) {\n                        while(1){\n                            switch(_context80.prev = _context80.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context80.abrupt(\"return\", this.delete(this.baseURL + \"/campaigns/\".concat(id)));\n                                case 2:\n                                case \"end\":\n                                    return _context80.stop();\n                            }\n                        }\n                    }, _callee80, this);\n                }));\n                function deleteCampaign(_x116) {\n                    return _deleteCampaign.apply(this, arguments);\n                }\n                return deleteCampaign;\n            }()\n        },\n        {\n            key: \"stopCampaign\",\n            value: function() {\n                var _stopCampaign = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee81(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee81$(_context81) {\n                        while(1){\n                            switch(_context81.prev = _context81.next){\n                                case 0:\n                                    this.validateServerSideAuth();\n                                    return _context81.abrupt(\"return\", this.post(this.baseURL + \"/campaigns/\".concat(id, \"/stop\")));\n                                case 2:\n                                case \"end\":\n                                    return _context81.stop();\n                            }\n                        }\n                    }, _callee81, this);\n                }));\n                function stopCampaign(_x117) {\n                    return _stopCampaign.apply(this, arguments);\n                }\n                return stopCampaign;\n            }()\n        },\n        {\n            key: \"enrichURL\",\n            value: function() {\n                var _enrichURL = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee82(url) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee82$(_context82) {\n                        while(1){\n                            switch(_context82.prev = _context82.next){\n                                case 0:\n                                    return _context82.abrupt(\"return\", this.get(this.baseURL + \"/og\", {\n                                        url: url\n                                    }));\n                                case 1:\n                                case \"end\":\n                                    return _context82.stop();\n                            }\n                        }\n                    }, _callee82, this);\n                }));\n                function enrichURL(_x118) {\n                    return _enrichURL.apply(this, arguments);\n                }\n                return enrichURL;\n            }()\n        },\n        {\n            key: \"getTask\",\n            value: function() {\n                var _getTask = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee83(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee83$(_context83) {\n                        while(1){\n                            switch(_context83.prev = _context83.next){\n                                case 0:\n                                    return _context83.abrupt(\"return\", this.get(\"\".concat(this.baseURL, \"/tasks/\").concat(id)));\n                                case 1:\n                                case \"end\":\n                                    return _context83.stop();\n                            }\n                        }\n                    }, _callee83, this);\n                }));\n                function getTask(_x119) {\n                    return _getTask.apply(this, arguments);\n                }\n                return getTask;\n            }()\n        },\n        {\n            key: \"deleteChannels\",\n            value: function() {\n                var _deleteChannels = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee84(cids) {\n                    var options, _args84 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee84$(_context84) {\n                        while(1){\n                            switch(_context84.prev = _context84.next){\n                                case 0:\n                                    options = _args84.length > 1 && _args84[1] !== undefined ? _args84[1] : {};\n                                    _context84.next = 3;\n                                    return this.post(this.baseURL + \"/channels/delete\", _objectSpread({\n                                        cids: cids\n                                    }, options));\n                                case 3:\n                                    return _context84.abrupt(\"return\", _context84.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context84.stop();\n                            }\n                        }\n                    }, _callee84, this);\n                }));\n                function deleteChannels(_x120) {\n                    return _deleteChannels.apply(this, arguments);\n                }\n                return deleteChannels;\n            }()\n        },\n        {\n            key: \"deleteUsers\",\n            value: function() {\n                var _deleteUsers = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee85(user_ids) {\n                    var options, _args85 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee85$(_context85) {\n                        while(1){\n                            switch(_context85.prev = _context85.next){\n                                case 0:\n                                    options = _args85.length > 1 && _args85[1] !== undefined ? _args85[1] : {};\n                                    if (!(typeof options.user !== \"undefined\" && ![\n                                        \"soft\",\n                                        \"hard\",\n                                        \"pruning\"\n                                    ].includes(options.user))) {\n                                        _context85.next = 3;\n                                        break;\n                                    }\n                                    throw new Error(\"Invalid delete user options. user must be one of [soft hard pruning]\");\n                                case 3:\n                                    if (!(typeof options.conversations !== \"undefined\" && ![\n                                        \"soft\",\n                                        \"hard\"\n                                    ].includes(options.conversations))) {\n                                        _context85.next = 5;\n                                        break;\n                                    }\n                                    throw new Error(\"Invalid delete user options. conversations must be one of [soft hard]\");\n                                case 5:\n                                    if (!(typeof options.messages !== \"undefined\" && ![\n                                        \"soft\",\n                                        \"hard\",\n                                        \"pruning\"\n                                    ].includes(options.messages))) {\n                                        _context85.next = 7;\n                                        break;\n                                    }\n                                    throw new Error(\"Invalid delete user options. messages must be one of [soft hard pruning]\");\n                                case 7:\n                                    _context85.next = 9;\n                                    return this.post(this.baseURL + \"/users/delete\", _objectSpread({\n                                        user_ids: user_ids\n                                    }, options));\n                                case 9:\n                                    return _context85.abrupt(\"return\", _context85.sent);\n                                case 10:\n                                case \"end\":\n                                    return _context85.stop();\n                            }\n                        }\n                    }, _callee85, this);\n                }));\n                function deleteUsers(_x121) {\n                    return _deleteUsers.apply(this, arguments);\n                }\n                return deleteUsers;\n            }()\n        },\n        {\n            key: \"_createImportURL\",\n            value: function() {\n                var _createImportURL2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee86(filename) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee86$(_context86) {\n                        while(1){\n                            switch(_context86.prev = _context86.next){\n                                case 0:\n                                    _context86.next = 2;\n                                    return this.post(this.baseURL + \"/import_urls\", {\n                                        filename: filename\n                                    });\n                                case 2:\n                                    return _context86.abrupt(\"return\", _context86.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context86.stop();\n                            }\n                        }\n                    }, _callee86, this);\n                }));\n                function _createImportURL(_x122) {\n                    return _createImportURL2.apply(this, arguments);\n                }\n                return _createImportURL;\n            }()\n        },\n        {\n            key: \"_createImport\",\n            value: function() {\n                var _createImport2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee87(path) {\n                    var options, _args87 = arguments;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee87$(_context87) {\n                        while(1){\n                            switch(_context87.prev = _context87.next){\n                                case 0:\n                                    options = _args87.length > 1 && _args87[1] !== undefined ? _args87[1] : {\n                                        mode: \"upsert\"\n                                    };\n                                    _context87.next = 3;\n                                    return this.post(this.baseURL + \"/imports\", _objectSpread({\n                                        path: path\n                                    }, options));\n                                case 3:\n                                    return _context87.abrupt(\"return\", _context87.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context87.stop();\n                            }\n                        }\n                    }, _callee87, this);\n                }));\n                function _createImport(_x123) {\n                    return _createImport2.apply(this, arguments);\n                }\n                return _createImport;\n            }()\n        },\n        {\n            key: \"_getImport\",\n            value: function() {\n                var _getImport2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee88(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee88$(_context88) {\n                        while(1){\n                            switch(_context88.prev = _context88.next){\n                                case 0:\n                                    _context88.next = 2;\n                                    return this.get(this.baseURL + \"/imports/\".concat(id));\n                                case 2:\n                                    return _context88.abrupt(\"return\", _context88.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context88.stop();\n                            }\n                        }\n                    }, _callee88, this);\n                }));\n                function _getImport(_x124) {\n                    return _getImport2.apply(this, arguments);\n                }\n                return _getImport;\n            }()\n        },\n        {\n            key: \"_listImports\",\n            value: function() {\n                var _listImports2 = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee89(options) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee89$(_context89) {\n                        while(1){\n                            switch(_context89.prev = _context89.next){\n                                case 0:\n                                    _context89.next = 2;\n                                    return this.get(this.baseURL + \"/imports\", options);\n                                case 2:\n                                    return _context89.abrupt(\"return\", _context89.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context89.stop();\n                            }\n                        }\n                    }, _callee89, this);\n                }));\n                function _listImports(_x125) {\n                    return _listImports2.apply(this, arguments);\n                }\n                return _listImports;\n            }()\n        },\n        {\n            key: \"upsertPushProvider\",\n            value: function() {\n                var _upsertPushProvider = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee90(pushProvider) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee90$(_context90) {\n                        while(1){\n                            switch(_context90.prev = _context90.next){\n                                case 0:\n                                    _context90.next = 2;\n                                    return this.post(this.baseURL + \"/push_providers\", {\n                                        push_provider: pushProvider\n                                    });\n                                case 2:\n                                    return _context90.abrupt(\"return\", _context90.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context90.stop();\n                            }\n                        }\n                    }, _callee90, this);\n                }));\n                function upsertPushProvider(_x126) {\n                    return _upsertPushProvider.apply(this, arguments);\n                }\n                return upsertPushProvider;\n            }()\n        },\n        {\n            key: \"deletePushProvider\",\n            value: function() {\n                var _deletePushProvider = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee91(_ref10) {\n                    var type, name;\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee91$(_context91) {\n                        while(1){\n                            switch(_context91.prev = _context91.next){\n                                case 0:\n                                    type = _ref10.type, name = _ref10.name;\n                                    _context91.next = 3;\n                                    return this.delete(this.baseURL + \"/push_providers/\".concat(type, \"/\").concat(name));\n                                case 3:\n                                    return _context91.abrupt(\"return\", _context91.sent);\n                                case 4:\n                                case \"end\":\n                                    return _context91.stop();\n                            }\n                        }\n                    }, _callee91, this);\n                }));\n                function deletePushProvider(_x127) {\n                    return _deletePushProvider.apply(this, arguments);\n                }\n                return deletePushProvider;\n            }()\n        },\n        {\n            key: \"listPushProviders\",\n            value: function() {\n                var _listPushProviders = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee92() {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee92$(_context92) {\n                        while(1){\n                            switch(_context92.prev = _context92.next){\n                                case 0:\n                                    _context92.next = 2;\n                                    return this.get(this.baseURL + \"/push_providers\");\n                                case 2:\n                                    return _context92.abrupt(\"return\", _context92.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context92.stop();\n                            }\n                        }\n                    }, _callee92, this);\n                }));\n                function listPushProviders() {\n                    return _listPushProviders.apply(this, arguments);\n                }\n                return listPushProviders;\n            }()\n        },\n        {\n            key: \"createAbortControllerForNextRequest\",\n            value: function createAbortControllerForNextRequest() {\n                return this.nextRequestAbortController = new AbortController();\n            }\n        },\n        {\n            key: \"commitMessage\",\n            value: function() {\n                var _commitMessage = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5___default()(/*#__PURE__*/ _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().mark(function _callee93(id) {\n                    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_9___default().wrap(function _callee93$(_context93) {\n                        while(1){\n                            switch(_context93.prev = _context93.next){\n                                case 0:\n                                    _context93.next = 2;\n                                    return this.post(this.baseURL + \"/messages/\".concat(id, \"/commit\"));\n                                case 2:\n                                    return _context93.abrupt(\"return\", _context93.sent);\n                                case 3:\n                                case \"end\":\n                                    return _context93.stop();\n                            }\n                        }\n                    }, _callee93, this);\n                }));\n                function commitMessage(_x128) {\n                    return _commitMessage.apply(this, arguments);\n                }\n                return commitMessage;\n            }()\n        }\n    ], [\n        {\n            key: \"getInstance\",\n            value: function getInstance(key, secretOrOptions, options) {\n                if (!StreamChat._instance) {\n                    if (typeof secretOrOptions === \"string\") {\n                        StreamChat._instance = new StreamChat(key, secretOrOptions, options);\n                    } else {\n                        StreamChat._instance = new StreamChat(key, secretOrOptions);\n                    }\n                }\n                return StreamChat._instance;\n            }\n        }\n    ]);\n    return StreamChat;\n}();\n_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(StreamChat, \"_instance\", void 0);\nvar EVENT_MAP = {\n    \"channel.created\": true,\n    \"channel.deleted\": true,\n    \"channel.hidden\": true,\n    \"channel.kicked\": true,\n    \"channel.muted\": true,\n    \"channel.truncated\": true,\n    \"channel.unmuted\": true,\n    \"channel.updated\": true,\n    \"channel.visible\": true,\n    \"health.check\": true,\n    \"member.added\": true,\n    \"member.removed\": true,\n    \"member.updated\": true,\n    \"message.deleted\": true,\n    \"message.new\": true,\n    \"message.read\": true,\n    \"message.updated\": true,\n    \"message.undeleted\": true,\n    \"notification.added_to_channel\": true,\n    \"notification.channel_deleted\": true,\n    \"notification.channel_mutes_updated\": true,\n    \"notification.channel_truncated\": true,\n    \"notification.invite_accepted\": true,\n    \"notification.invite_rejected\": true,\n    \"notification.invited\": true,\n    \"notification.mark_read\": true,\n    \"notification.mark_unread\": true,\n    \"notification.message_new\": true,\n    \"notification.mutes_updated\": true,\n    \"notification.removed_from_channel\": true,\n    \"notification.thread_message_new\": true,\n    \"reaction.deleted\": true,\n    \"reaction.new\": true,\n    \"reaction.updated\": true,\n    \"typing.start\": true,\n    \"typing.stop\": true,\n    \"user.banned\": true,\n    \"user.deleted\": true,\n    \"user.presence.changed\": true,\n    \"user.unbanned\": true,\n    \"user.unread_message_reminder\": true,\n    \"user.updated\": true,\n    \"user.watching.start\": true,\n    \"user.watching.stop\": true,\n    // local events\n    \"channels.queried\": true,\n    \"connection.changed\": true,\n    \"connection.recovered\": true,\n    \"transport.changed\": true,\n    \"capabilities.changed\": true\n};\nvar Allow = \"Allow\";\nvar Deny = \"Deny\";\nvar AnyResource = [\n    \"*\"\n];\nvar AnyRole = [\n    \"*\"\n];\nvar MaxPriority = 999;\nvar MinPriority = 1; // deprecated permission object class, you should use the new permission system v2 and use permissions\n// defined in BuiltinPermissions to configure your channel types\nvar Permission = function Permission(name, priority) {\n    var resources = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : AnyResource;\n    var roles = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : AnyRole;\n    var owner = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    var action = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : Allow;\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this, Permission);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"name\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"action\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"owner\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"priority\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"resources\", void 0);\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_8___default()(this, \"roles\", void 0);\n    this.name = name;\n    this.action = action;\n    this.owner = owner;\n    this.priority = priority;\n    this.resources = resources;\n    this.roles = roles;\n}; // deprecated\nvar AllowAll = new Permission(\"Allow all\", MaxPriority, AnyResource, AnyRole, false, Allow); // deprecated\nvar DenyAll = new Permission(\"Deny all\", MinPriority, AnyResource, AnyRole, false, Deny);\nvar BuiltinRoles = {\n    Admin: \"admin\",\n    Anonymous: \"anonymous\",\n    ChannelMember: \"channel_member\",\n    ChannelModerator: \"channel_moderator\",\n    Guest: \"guest\",\n    User: \"user\"\n};\nvar BuiltinPermissions = {\n    AddLinks: \"Add Links\",\n    BanUser: \"Ban User\",\n    CreateChannel: \"Create Channel\",\n    CreateMessage: \"Create Message\",\n    CreateReaction: \"Create Reaction\",\n    DeleteAnyAttachment: \"Delete Any Attachment\",\n    DeleteAnyChannel: \"Delete Any Channel\",\n    DeleteAnyMessage: \"Delete Any Message\",\n    DeleteAnyReaction: \"Delete Any Reaction\",\n    DeleteOwnAttachment: \"Delete Own Attachment\",\n    DeleteOwnChannel: \"Delete Own Channel\",\n    DeleteOwnMessage: \"Delete Own Message\",\n    DeleteOwnReaction: \"Delete Own Reaction\",\n    ReadAnyChannel: \"Read Any Channel\",\n    ReadOwnChannel: \"Read Own Channel\",\n    RunMessageAction: \"Run Message Action\",\n    UpdateAnyChannel: \"Update Any Channel\",\n    UpdateAnyMessage: \"Update Any Message\",\n    UpdateMembersAnyChannel: \"Update Members Any Channel\",\n    UpdateMembersOwnChannel: \"Update Members Own Channel\",\n    UpdateOwnChannel: \"Update Own Channel\",\n    UpdateOwnMessage: \"Update Own Message\",\n    UploadAttachment: \"Upload Attachment\",\n    UseFrozenChannel: \"Send messages and reactions to frozen channels\"\n};\n //# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEM7QUFDWTtBQUNGO0FBQ2tDO0FBQ1o7QUFDRjtBQUNKO0FBQ047QUFDTTtBQUNQO0FBQ25DO0FBQ0E7QUFDd0M7QUFDakM7QUFDSztBQUNQO0FBQ0Q7QUFDb0Q7QUFDMUI7QUFDa0M7QUFDdEI7QUFDRTtBQUV0RSxTQUFTc0IsV0FBV0MsYUFBYTtJQUMvQixPQUFPLE9BQU9BLGtCQUFrQjtBQUNsQztBQUVBLFNBQVNDLG9CQUFvQkQsYUFBYSxFQUFFRSxRQUFRO0lBQ2xELE9BQU8sQ0FBQyxDQUFDQSxZQUFZSCxXQUFXQztBQUNsQyxFQUFFLG1GQUFtRjtBQUdyRixTQUFTRyxJQUFJSCxhQUFhLEVBQUVFLFFBQVE7SUFDbEMsSUFBSUUsTUFBTSxFQUFFO0lBRVosSUFBSUwsV0FBV0Msa0JBQWtCQyxvQkFBb0JELGVBQWVFLFdBQVc7UUFDN0UsSUFBSyxJQUFJRyxJQUFJLEdBQUdDLE1BQU1OLGNBQWNPLE1BQU0sRUFBRUYsSUFBSUMsS0FBS0QsSUFBSztZQUN4RCxJQUFJTCxjQUFjUSxNQUFNLENBQUNILElBQUk7Z0JBQzNCLElBQUlJLFNBQVNULGNBQWNRLE1BQU0sQ0FBQ0g7Z0JBQ2xDLElBQUlLLGNBQWNSLFNBQVNPLFFBQVFKLEdBQUdMO2dCQUN0Q0ksR0FBRyxDQUFDQyxFQUFFLEdBQUdLO1lBQ1g7UUFDRjtJQUNGLE9BQU8sSUFBSSxDQUFDWCxXQUFXQyxrQkFBa0IsQ0FBQ0Msb0JBQW9CRCxlQUFlRSxXQUFXO1FBQ3RGLElBQUssSUFBSVMsS0FBSyxHQUFHQyxPQUFPWixjQUFjTyxNQUFNLEVBQUVJLEtBQUtDLE1BQU1ELEtBQU07WUFDN0QsSUFBSUEsTUFBTVgsZUFB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QXFCO0lBQ3ZCQyxVQUFVO0lBQ1ZDLFNBQVM7SUFDVEMsZUFBZTtJQUNmQyxlQUFlO0lBQ2ZDLGdCQUFnQjtJQUNoQkMscUJBQXFCO0lBQ3JCQyxrQkFBa0I7SUFDbEJDLGtCQUFrQjtJQUNsQkMsbUJBQW1CO0lBQ25CQyxxQkFBcUI7SUFDckJDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0lBQ2xCQyxtQkFBbUI7SUFDbkJDLGdCQUFnQjtJQUNoQkMsZ0JBQWdCO0lBQ2hCQyxrQkFBa0I7SUFDbEJDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0lBQ2xCQyx5QkFBeUI7SUFDekJDLHlCQUF5QjtJQUN6QkMsa0JBQWtCO0lBQ2xCQyxrQkFBa0I7SUFDbEJDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0FBQ3BCO0FBRTBnQixDQUMxZ0Isb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2LWZpbmRlci8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9kaXN0L2luZGV4LmVzLmpzPzcxZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJvbUJ5dGVBcnJheSB9IGZyb20gJ2Jhc2U2NC1qcyc7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfdHlwZW9mIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcyc7XG5pbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXknO1xuaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvcic7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICdAYmFiZWwvcnVudGltZS9yZWdlbmVyYXRvcic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGh0dHBzIGZyb20gJ2h0dHBzJztcbmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL3NsaWNlZFRvQXJyYXknO1xuaW1wb3J0IEZvcm1EYXRhIGZyb20gJ2Zvcm0tZGF0YSc7XG5pbXBvcnQgV2ViU29ja2V0IGZyb20gJ2lzb21vcnBoaWMtd3MnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IGNyeXB0byQxIGZyb20gJ2NyeXB0byc7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2Fzc2VydFRoaXNJbml0aWFsaXplZCc7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZ2V0UHJvdG90eXBlT2YnO1xuaW1wb3J0IF93cmFwTmF0aXZlU3VwZXIgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy93cmFwTmF0aXZlU3VwZXInO1xuXG5mdW5jdGlvbiBpc1N0cmluZyQxKGFycmF5T3JTdHJpbmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcnJheU9yU3RyaW5nID09PSAnc3RyaW5nJztcbn1cblxuZnVuY3Rpb24gaXNNYXBTdHJpbmdDYWxsYmFjayhhcnJheU9yU3RyaW5nLCBjYWxsYmFjaykge1xuICByZXR1cm4gISFjYWxsYmFjayAmJiBpc1N0cmluZyQxKGFycmF5T3JTdHJpbmcpO1xufSAvLyBzb3VyY2UgLSBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvYmxvYi9tYXN0ZXIvdGVzdC9jb252ZXJ0LmpzI0w3MlxuXG5cbmZ1bmN0aW9uIG1hcChhcnJheU9yU3RyaW5nLCBjYWxsYmFjaykge1xuICB2YXIgcmVzID0gW107XG5cbiAgaWYgKGlzU3RyaW5nJDEoYXJyYXlPclN0cmluZykgJiYgaXNNYXBTdHJpbmdDYWxsYmFjayhhcnJheU9yU3RyaW5nLCBjYWxsYmFjaykpIHtcbiAgICBmb3IgKHZhciBrID0gMCwgbGVuID0gYXJyYXlPclN0cmluZy5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xuICAgICAgaWYgKGFycmF5T3JTdHJpbmcuY2hhckF0KGspKSB7XG4gICAgICAgIHZhciBrVmFsdWUgPSBhcnJheU9yU3RyaW5nLmNoYXJBdChrKTtcbiAgICAgICAgdmFyIG1hcHBlZFZhbHVlID0gY2FsbGJhY2soa1ZhbHVlLCBrLCBhcnJheU9yU3RyaW5nKTtcbiAgICAgICAgcmVzW2tdID0gbWFwcGVkVmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKCFpc1N0cmluZyQxKGFycmF5T3JTdHJpbmcpICYmICFpc01hcFN0cmluZ0NhbGxiYWNrKGFycmF5T3JTdHJpbmcsIGNhbGxiYWNrKSkge1xuICAgIGZvciAodmFyIF9rID0gMCwgX2xlbiA9IGFycmF5T3JTdHJpbmcubGVuZ3RoOyBfayA8IF9sZW47IF9rKyspIHtcbiAgICAgIGlmIChfayBpbiBhcnJheU9yU3RyaW5nKSB7XG4gICAgICAgIHZhciBfa1ZhbHVlID0gYXJyYXlPclN0cmluZ1tfa107XG5cbiAgICAgICAgdmFyIF9tYXBwZWRWYWx1ZSA9IGNhbGxiYWNrKF9rVmFsdWUsIF9rLCBhcnJheU9yU3RyaW5nKTtcblxuICAgICAgICByZXNbX2tdID0gX21hcHBlZFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59XG5cbnZhciBlbmNvZGVCYXNlNjQgPSBmdW5jdGlvbiBlbmNvZGVCYXNlNjQoZGF0YSkge1xuICByZXR1cm4gZnJvbUJ5dGVBcnJheShuZXcgVWludDhBcnJheShtYXAoZGF0YSwgZnVuY3Rpb24gKGNoYXIpIHtcbiAgICByZXR1cm4gY2hhci5jaGFyQ29kZUF0KDApO1xuICB9KSkpO1xufTsgLy8gYmFzZS02NCBkZWNvZGVyIHRocm93cyBleGNlcHRpb24gaWYgZW5jb2RlZCBzdHJpbmcgaXMgbm90IHBhZGRlZCBieSAnPScgdG8gbWFrZSBzdHJpbmcgbGVuZ3RoXG4vLyBpbiBtdWx0aXBsZXMgb2YgNC4gU28gZ29ubmEgdXNlIG91ciBvd24gbWV0aG9kIGZvciB0aGlzIHB1cnBvc2UgdG8ga2VlcCBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2Jsb2IvbWFzdGVyL2luZGV4LmpzI0wyNlxuXG52YXIgZGVjb2RlQmFzZTY0ID0gZnVuY3Rpb24gZGVjb2RlQmFzZTY0KHMpIHtcbiAgdmFyIGUgPSB7fSxcbiAgICAgIHcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuICAgICAgTCA9IHMubGVuZ3RoO1xuICB2YXIgaSxcbiAgICAgIGIgPSAwLFxuICAgICAgYyxcbiAgICAgIHgsXG4gICAgICBsID0gMCxcbiAgICAgIGEsXG4gICAgICByID0gJyc7XG4gIHZhciBBID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXG4gIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgZVtBLmNoYXJBdChpKV0gPSBpO1xuICB9XG5cbiAgZm9yICh4ID0gMDsgeCA8IEw7IHgrKykge1xuICAgIGMgPSBlW3MuY2hhckF0KHgpXTtcbiAgICBiID0gKGIgPDwgNikgKyBjO1xuICAgIGwgKz0gNjtcblxuICAgIHdoaWxlIChsID49IDgpIHtcbiAgICAgICgoYSA9IGIgPj4+IChsIC09IDgpICYgMHhmZikgfHwgeCA8IEwgLSAyKSAmJiAociArPSB3KGEpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcjtcbn07XG5cbmZ1bmN0aW9uIG93bktleXMkOChvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkOCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDgoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQ4KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQ0KG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQ0KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gKF9lKSB7IGZ1bmN0aW9uIGUoX3gpIHsgcmV0dXJuIF9lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9lLnRvU3RyaW5nKCk7IH07IHJldHVybiBlOyB9KGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIChfZTIpIHsgZnVuY3Rpb24gZShfeDIpIHsgcmV0dXJuIF9lMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfZTIudG9TdHJpbmcoKTsgfTsgcmV0dXJuIGU7IH0oZnVuY3Rpb24gKGUpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gZTsgfSksIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDQobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQ0KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkNChvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDQoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbi8qKlxuICogbG9nQ2hhdFByb21pc2VFeGVjdXRpb24gLSB1dGlsaXR5IGZ1bmN0aW9uIGZvciBsb2dnaW5nIHRoZSBleGVjdXRpb24gb2YgYSBwcm9taXNlLi5cbiAqICB1c2UgdGhpcyB3aGVuIHlvdSB3YW50IHRvIHJ1biB0aGUgcHJvbWlzZSBhbmQgaGFuZGxlIGVycm9ycyBieSBsb2dnaW5nIGEgd2FybmluZ1xuICpcbiAqIEBwYXJhbSB7UHJvbWlzZTxUPn0gcHJvbWlzZSBUaGUgcHJvbWlzZSB5b3Ugd2FudCB0byBydW4gYW5kIGxvZ1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgICAgQSBkZXNjcmlwdGl2ZSBuYW1lIG9mIHdoYXQgdGhlIHByb21pc2UgZG9lcyBmb3IgbG9nIG91dHB1dFxuICpcbiAqL1xuZnVuY3Rpb24gbG9nQ2hhdFByb21pc2VFeGVjdXRpb24ocHJvbWlzZSwgbmFtZSkge1xuICBwcm9taXNlLnRoZW4oKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oXCJmYWlsZWQgdG8gZG8gXCIuY29uY2F0KG5hbWUsIFwiLCByYW4gaW50byBlcnJvcjogXCIpLCBlcnJvcik7XG4gIH0pO1xufVxudmFyIHNsZWVwID0gZnVuY3Rpb24gc2xlZXAobSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChyLCBtKTtcbiAgfSk7XG59O1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHwgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHZhbHVlIHx8IHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24pO1xufVxudmFyIGNoYXRDb2RlcyA9IHtcbiAgVE9LRU5fRVhQSVJFRDogNDAsXG4gIFdTX0NMT1NFRF9TVUNDRVNTOiAxMDAwXG59O1xuXG5mdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtKG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIF90eXBlb2Yob2JqKSA9PT0gJ29iamVjdCcgJiYgKG9iai5yZWFkYWJsZSB8fCB0eXBlb2Ygb2JqLl9yZWFkID09PSAnZnVuY3Rpb24nKTtcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIob2JqKSB7XG4gIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmouY29uc3RydWN0b3IgIT0gbnVsbCAmJiAvLyBAdHMtZXhwZWN0LWVycm9yXG4gIHR5cGVvZiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgLy8gQHRzLWV4cGVjdC1lcnJvclxuICBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKTtcbn1cblxuZnVuY3Rpb24gaXNGaWxlV2ViQVBJKHVyaSkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ0ZpbGUnIGluIHdpbmRvdyAmJiB1cmkgaW5zdGFuY2VvZiBGaWxlO1xufVxuXG5mdW5jdGlvbiBpc093blVzZXIodXNlcikge1xuICByZXR1cm4gKHVzZXIgPT09IG51bGwgfHwgdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXNlci50b3RhbF91bnJlYWRfY291bnQpICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGlzQmxvYldlYkFQSSh1cmkpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICdCbG9iJyBpbiB3aW5kb3cgJiYgdXJpIGluc3RhbmNlb2YgQmxvYjtcbn1cblxuZnVuY3Rpb24gaXNPd25Vc2VyQmFzZVByb3BlcnR5KHByb3BlcnR5KSB7XG4gIHZhciBvd25Vc2VyQmFzZVByb3BlcnRpZXMgPSB7XG4gICAgY2hhbm5lbF9tdXRlczogdHJ1ZSxcbiAgICBkZXZpY2VzOiB0cnVlLFxuICAgIG11dGVzOiB0cnVlLFxuICAgIHRvdGFsX3VucmVhZF9jb3VudDogdHJ1ZSxcbiAgICB1bnJlYWRfY2hhbm5lbHM6IHRydWUsXG4gICAgdW5yZWFkX2NvdW50OiB0cnVlLFxuICAgIHVucmVhZF90aHJlYWRzOiB0cnVlLFxuICAgIGludmlzaWJsZTogdHJ1ZSxcbiAgICByb2xlczogdHJ1ZVxuICB9O1xuICByZXR1cm4gb3duVXNlckJhc2VQcm9wZXJ0aWVzW3Byb3BlcnR5XTtcbn1cbmZ1bmN0aW9uIGFkZEZpbGVUb0Zvcm1EYXRhKHVyaSwgbmFtZSwgY29udGVudFR5cGUpIHtcbiAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcblxuICBpZiAoaXNSZWFkYWJsZVN0cmVhbSh1cmkpIHx8IGlzQnVmZmVyKHVyaSkgfHwgaXNGaWxlV2ViQVBJKHVyaSkgfHwgaXNCbG9iV2ViQVBJKHVyaSkpIHtcbiAgICBpZiAobmFtZSkgZGF0YS5hcHBlbmQoJ2ZpbGUnLCB1cmksIG5hbWUpO2Vsc2UgZGF0YS5hcHBlbmQoJ2ZpbGUnLCB1cmkpO1xuICB9IGVsc2Uge1xuICAgIGRhdGEuYXBwZW5kKCdmaWxlJywge1xuICAgICAgdXJpOiB1cmksXG4gICAgICBuYW1lOiBuYW1lIHx8IHVyaS5zcGxpdCgnLycpLnJldmVyc2UoKVswXSxcbiAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSB8fCB1bmRlZmluZWQsXG4gICAgICB0eXBlOiBjb250ZW50VHlwZSB8fCB1bmRlZmluZWRcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUXVlcnlTb3J0KHNvcnQpIHtcbiAgdmFyIHNvcnRGaWVsZHMgPSBbXTtcbiAgdmFyIHNvcnRBcnIgPSBBcnJheS5pc0FycmF5KHNvcnQpID8gc29ydCA6IFtzb3J0XTtcblxuICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkNChzb3J0QXJyKSxcbiAgICAgIF9zdGVwO1xuXG4gIHRyeSB7XG4gICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgIHZhciBpdGVtID0gX3N0ZXAudmFsdWU7XG4gICAgICB2YXIgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGl0ZW0pO1xuXG4gICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcImNsaWVudC5fYnVpbGRTb3J0KCkgLSBtdWx0aXBsZSBmaWVsZHMgaW4gYSBzaW5nbGUgc29ydCBvYmplY3QgZGV0ZWN0ZWQuIE9iamVjdCdzIGZpZWxkIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkXCIpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfaSA9IDAsIF9lbnRyaWVzID0gZW50cmllczsgX2kgPCBfZW50cmllcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIF9lbnRyaWVzJF9pID0gX3NsaWNlZFRvQXJyYXkoX2VudHJpZXNbX2ldLCAyKSxcbiAgICAgICAgICAgIGZpZWxkID0gX2VudHJpZXMkX2lbMF0sXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBfZW50cmllcyRfaVsxXTtcblxuICAgICAgICBzb3J0RmllbGRzLnB1c2goe1xuICAgICAgICAgIGZpZWxkOiBmaWVsZCxcbiAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9pdGVyYXRvci5lKGVycik7XG4gIH0gZmluYWxseSB7XG4gICAgX2l0ZXJhdG9yLmYoKTtcbiAgfVxuXG4gIHJldHVybiBzb3J0RmllbGRzO1xufVxuLyoqXG4gKiByZXRyeUludGVydmFsIC0gQSByZXRyeSBpbnRlcnZhbCB3aGljaCBpbmNyZWFzZXMgYWNjIHRvIG51bWJlciBvZiBmYWlsdXJlc1xuICpcbiAqIEByZXR1cm4ge251bWJlcn0gRHVyYXRpb24gdG8gd2FpdCBpbiBtaWxsaXNlY29uZHNcbiAqL1xuXG5mdW5jdGlvbiByZXRyeUludGVydmFsKG51bWJlck9mRmFpbHVyZXMpIHtcbiAgLy8gdHJ5IHRvIHJlY29ubmVjdCBpbiAwLjI1LTI1IHNlY29uZHMgKHJhbmRvbSB0byBzcHJlYWQgb3V0IHRoZSBsb2FkIGZyb20gZmFpbHVyZXMpXG4gIHZhciBtYXggPSBNYXRoLm1pbig1MDAgKyBudW1iZXJPZkZhaWx1cmVzICogMjAwMCwgMjUwMDApO1xuICB2YXIgbWluID0gTWF0aC5taW4oTWF0aC5tYXgoMjUwLCAobnVtYmVyT2ZGYWlsdXJlcyAtIDEpICogMjAwMCksIDI1MDAwKTtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKTtcbn1cbmZ1bmN0aW9uIHJhbmRvbUlkKCkge1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEdjQoKTtcbn1cblxuZnVuY3Rpb24gaGV4KGJ5dGVzKSB7XG4gIHZhciBzID0gJyc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgIHMgKz0gYnl0ZXNbaV0udG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIH1cblxuICByZXR1cm4gcztcbn0gLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQxMjJcblxuXG5mdW5jdGlvbiBnZW5lcmF0ZVVVSUR2NCgpIHtcbiAgdmFyIGJ5dGVzID0gZ2V0UmFuZG9tQnl0ZXMoMTYpO1xuICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IDB4NDA7IC8vIHZlcnNpb25cblxuICBieXRlc1s4XSA9IGJ5dGVzWzhdICYgMHhiZiB8IDB4ODA7IC8vIHZhcmlhbnRcblxuICByZXR1cm4gaGV4KGJ5dGVzLnN1YmFycmF5KDAsIDQpKSArICctJyArIGhleChieXRlcy5zdWJhcnJheSg0LCA2KSkgKyAnLScgKyBoZXgoYnl0ZXMuc3ViYXJyYXkoNiwgOCkpICsgJy0nICsgaGV4KGJ5dGVzLnN1YmFycmF5KDgsIDEwKSkgKyAnLScgKyBoZXgoYnl0ZXMuc3ViYXJyYXkoMTAsIDE2KSk7XG59XG5cbmZ1bmN0aW9uIGdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tKGJ5dGVzKSB7XG4gIHZhciBtYXggPSBNYXRoLnBvdygyLCA4ICogYnl0ZXMuYnl0ZUxlbmd0aCAvIGJ5dGVzLmxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xuICAgIGJ5dGVzW2ldID0gTWF0aC5yYW5kb20oKSAqIG1heDtcbiAgfVxufVxuXG52YXIgZ2V0UmFuZG9tVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgX2NyeXB0bztcblxuICBpZiAodHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mICgoX2NyeXB0byA9IGNyeXB0bykgPT09IG51bGwgfHwgX2NyeXB0byA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NyeXB0by5nZXRSYW5kb21WYWx1ZXMpICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzV2l0aE1hdGhSYW5kb207XG4gIH1cbn0oKTtcblxuZnVuY3Rpb24gZ2V0UmFuZG9tQnl0ZXMobGVuZ3RoKSB7XG4gIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gIGdldFJhbmRvbVZhbHVlcyhieXRlcyk7XG4gIHJldHVybiBieXRlcztcbn1cblxuZnVuY3Rpb24gY29udmVydEVycm9yVG9Kc29uKGVycikge1xuICB2YXIganNvbk9iaiA9IHt9O1xuICBpZiAoIWVycikgcmV0dXJuIGpzb25PYmo7XG5cbiAgdHJ5IHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlcnIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAganNvbk9ialtrZXldID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlcnIsIGtleSk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6ICdmYWlsZWQgdG8gc2VyaWFsaXplIHRoZSBlcnJvcidcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGpzb25PYmo7XG59XG4vKipcbiAqIGlzT25saW5lIHNhZmVseSByZXR1cm4gdGhlIG5hdmlnYXRvci5vbmxpbmUgdmFsdWUgZm9yIGJyb3dzZXIgZW52XG4gKiBpZiBuYXZpZ2F0b3IgaXMgbm90IGluIGdsb2JhbCBvYmplY3QsIGl0IGFsd2F5cyByZXR1cm4gdHJ1ZVxuICovXG5cbmZ1bmN0aW9uIGlzT25saW5lKCkge1xuICB2YXIgbmF2ID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3IgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yID8gd2luZG93Lm5hdmlnYXRvciA6IHVuZGVmaW5lZDtcblxuICBpZiAoIW5hdikge1xuICAgIGNvbnNvbGUud2FybignaXNPbmxpbmUgZmFpbGVkIHRvIGFjY2VzcyB3aW5kb3cubmF2aWdhdG9yIGFuZCBhc3N1bWUgYnJvd3NlciBpcyBvbmxpbmUnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBSTiBuYXZpZ2F0b3IgaGFzIHVuZGVmaW5lZCBmb3Igb25MaW5lXG5cblxuICBpZiAodHlwZW9mIG5hdi5vbkxpbmUgIT09ICdib29sZWFuJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIG5hdi5vbkxpbmU7XG59XG4vKipcbiAqIGxpc3RlbkZvckNvbm5lY3Rpb25DaGFuZ2VzIC0gQWRkcyBhbiBldmVudCBsaXN0ZW5lciBmaXJlZCBvbiBicm93c2VyIGdvaW5nIG9ubGluZSBvciBvZmZsaW5lXG4gKi9cblxuZnVuY3Rpb24gYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKGNiKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgY2IpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBjYik7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyhjYikge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGNiKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgY2IpO1xuICB9XG59XG52YXIgYXhpb3NQYXJhbXNTZXJpYWxpemVyID0gZnVuY3Rpb24gYXhpb3NQYXJhbXNTZXJpYWxpemVyKHBhcmFtcykge1xuICB2YXIgbmV3UGFyYW1zID0gW107XG5cbiAgZm9yICh2YXIgayBpbiBwYXJhbXMpIHtcbiAgICAvLyBTdHJlYW0gYmFja2VuZCBkb2Vzbid0IHRyZWF0IFwidW5kZWZpbmVkXCIgdmFsdWUgc2FtZSBhcyB2YWx1ZSBub3QgYmVpbmcgcHJlc2VudC5cbiAgICAvLyBTbywgd2UgbmVlZCB0byBza2lwIHRoZSB1bmRlZmluZWQgdmFsdWVzLlxuICAgIGlmIChwYXJhbXNba10gPT09IHVuZGVmaW5lZCkgY29udGludWU7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbXNba10pIHx8IF90eXBlb2YocGFyYW1zW2tdKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG5ld1BhcmFtcy5wdXNoKFwiXCIuY29uY2F0KGssIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHBhcmFtc1trXSkpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1BhcmFtcy5wdXNoKFwiXCIuY29uY2F0KGssIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trXSkpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3UGFyYW1zLmpvaW4oJyYnKTtcbn07XG4vKipcbiAqIGZvcm1hdE1lc3NhZ2UgLSBUYWtlcyB0aGUgbWVzc2FnZSBvYmplY3QuIFBhcnNlcyB0aGUgZGF0ZXMsIHNldHMgX19odG1sXG4gKiBhbmQgc2V0cyB0aGUgc3RhdHVzIHRvIHJlY2VpdmVkIGlmIG1pc3NpbmcuIFJldHVybnMgYSBtZXNzYWdlIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IG1lc3NhZ2UgYSBtZXNzYWdlIG9iamVjdFxuICpcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIF9vYmplY3RTcHJlYWQkOChfb2JqZWN0U3ByZWFkJDgoe30sIG1lc3NhZ2UpLCB7fSwge1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHBsZWFzZSB1c2UgYGh0bWxgXG4gICAgICovXG4gICAgX19odG1sOiBtZXNzYWdlLmh0bWwsXG4gICAgLy8gcGFyc2UgdGhlIGRhdGUuLlxuICAgIHBpbm5lZF9hdDogbWVzc2FnZS5waW5uZWRfYXQgPyBuZXcgRGF0ZShtZXNzYWdlLnBpbm5lZF9hdCkgOiBudWxsLFxuICAgIGNyZWF0ZWRfYXQ6IG1lc3NhZ2UuY3JlYXRlZF9hdCA/IG5ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZF9hdCkgOiBuZXcgRGF0ZSgpLFxuICAgIHVwZGF0ZWRfYXQ6IG1lc3NhZ2UudXBkYXRlZF9hdCA/IG5ldyBEYXRlKG1lc3NhZ2UudXBkYXRlZF9hdCkgOiBuZXcgRGF0ZSgpLFxuICAgIHN0YXR1czogbWVzc2FnZS5zdGF0dXMgfHwgJ3JlY2VpdmVkJ1xuICB9KTtcbn1cbmZ1bmN0aW9uIGFkZFRvTWVzc2FnZUxpc3QobWVzc2FnZXMsIG1lc3NhZ2UpIHtcbiAgdmFyIHRpbWVzdGFtcENoYW5nZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICB2YXIgc29ydEJ5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnY3JlYXRlZF9hdCc7XG4gIHZhciBhZGRJZkRvZXNOb3RFeGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDogdHJ1ZTtcbiAgdmFyIGFkZE1lc3NhZ2VUb0xpc3QgPSBhZGRJZkRvZXNOb3RFeGlzdCB8fCB0aW1lc3RhbXBDaGFuZ2VkO1xuICB2YXIgbWVzc2FnZUFyciA9IG1lc3NhZ2VzOyAvLyBpZiBjcmVhdGVkX2F0IGhhcyBjaGFuZ2VkLCBtZXNzYWdlIHNob3VsZCBiZSBmaWx0ZXJlZCBhbmQgcmUtaW5zZXJ0ZWQgaW4gY29ycmVjdCBvcmRlclxuICAvLyBzbG93IG9wIGJ1dCB1c3VhbGx5IHRoaXMgb25seSBoYXBwZW5zIGZvciBhIG1lc3NhZ2UgaW5zZXJ0ZWQgdG8gc3RhdGUgYmVmb3JlIGFjdHVhbCByZXNwb25zZSB3aXRoIGNvcnJlY3QgdGltZXN0YW1wXG5cbiAgaWYgKHRpbWVzdGFtcENoYW5nZWQpIHtcbiAgICBtZXNzYWdlQXJyID0gbWVzc2FnZUFyci5maWx0ZXIoZnVuY3Rpb24gKG1zZykge1xuICAgICAgcmV0dXJuICEobXNnLmlkICYmIG1lc3NhZ2UuaWQgPT09IG1zZy5pZCk7XG4gICAgfSk7XG4gIH0gLy8gR2V0IGFycmF5IGxlbmd0aCBhZnRlciBmaWx0ZXJpbmdcblxuXG4gIHZhciBtZXNzYWdlQXJyYXlMZW5ndGggPSBtZXNzYWdlQXJyLmxlbmd0aDsgLy8gZm9yIGVtcHR5IGxpc3QganVzdCBjb25jYXQgYW5kIHJldHVybiB1bmxlc3MgaXQncyBhbiB1cGRhdGUgb3IgZGVsZXRpb25cblxuICBpZiAobWVzc2FnZUFycmF5TGVuZ3RoID09PSAwICYmIGFkZE1lc3NhZ2VUb0xpc3QpIHtcbiAgICByZXR1cm4gbWVzc2FnZUFyci5jb25jYXQobWVzc2FnZSk7XG4gIH0gZWxzZSBpZiAobWVzc2FnZUFycmF5TGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShtZXNzYWdlQXJyKTtcbiAgfVxuXG4gIHZhciBtZXNzYWdlVGltZSA9IG1lc3NhZ2Vbc29ydEJ5XS5nZXRUaW1lKCk7XG4gIHZhciBtZXNzYWdlSXNOZXdlc3QgPSBtZXNzYWdlQXJyW21lc3NhZ2VBcnJheUxlbmd0aCAtIDFdW3NvcnRCeV0uZ2V0VGltZSgpIDwgbWVzc2FnZVRpbWU7IC8vIGlmIG1lc3NhZ2UgaXMgbmV3ZXIgdGhhbiBsYXN0IGl0ZW0gaW4gdGhlIGxpc3QgY29uY2F0IGFuZCByZXR1cm4gdW5sZXNzIGl0J3MgYW4gdXBkYXRlIG9yIGRlbGV0aW9uXG5cbiAgaWYgKG1lc3NhZ2VJc05ld2VzdCAmJiBhZGRNZXNzYWdlVG9MaXN0KSB7XG4gICAgcmV0dXJuIG1lc3NhZ2VBcnIuY29uY2F0KG1lc3NhZ2UpO1xuICB9IGVsc2UgaWYgKG1lc3NhZ2VJc05ld2VzdCkge1xuICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZUFycik7XG4gIH0gLy8gZmluZCB0aGUgY2xvc2VzdCBpbmRleCB0byBwdXNoIHRoZSBuZXcgbWVzc2FnZVxuXG5cbiAgdmFyIGxlZnQgPSAwO1xuICB2YXIgbWlkZGxlID0gMDtcbiAgdmFyIHJpZ2h0ID0gbWVzc2FnZUFycmF5TGVuZ3RoIC0gMTtcblxuICB3aGlsZSAobGVmdCA8PSByaWdodCkge1xuICAgIG1pZGRsZSA9IE1hdGguZmxvb3IoKHJpZ2h0ICsgbGVmdCkgLyAyKTtcbiAgICBpZiAobWVzc2FnZUFyclttaWRkbGVdW3NvcnRCeV0uZ2V0VGltZSgpIDw9IG1lc3NhZ2VUaW1lKSBsZWZ0ID0gbWlkZGxlICsgMTtlbHNlIHJpZ2h0ID0gbWlkZGxlIC0gMTtcbiAgfSAvLyBtZXNzYWdlIGFscmVhZHkgZXhpc3RzIGFuZCBub3QgZmlsdGVyZWQgZHVlIHRvIHRpbWVzdGFtcENoYW5nZWQsIHVwZGF0ZSBhbmQgcmV0dXJuXG5cblxuICBpZiAoIXRpbWVzdGFtcENoYW5nZWQgJiYgbWVzc2FnZS5pZCkge1xuICAgIGlmIChtZXNzYWdlQXJyW2xlZnRdICYmIG1lc3NhZ2UuaWQgPT09IG1lc3NhZ2VBcnJbbGVmdF0uaWQpIHtcbiAgICAgIG1lc3NhZ2VBcnJbbGVmdF0gPSBtZXNzYWdlO1xuICAgICAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShtZXNzYWdlQXJyKTtcbiAgICB9XG5cbiAgICBpZiAobWVzc2FnZUFycltsZWZ0IC0gMV0gJiYgbWVzc2FnZS5pZCA9PT0gbWVzc2FnZUFycltsZWZ0IC0gMV0uaWQpIHtcbiAgICAgIG1lc3NhZ2VBcnJbbGVmdCAtIDFdID0gbWVzc2FnZTtcbiAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZUFycik7XG4gICAgfVxuICB9IC8vIERvIG5vdCBhZGQgdXBkYXRlZCBvciBkZWxldGVkIG1lc3NhZ2VzIHRvIHRoZSBsaXN0IGlmIHRoZXkgZG8gbm90IGFscmVhZHkgZXhpc3RcbiAgLy8gb3IgaGF2ZSBhIHRpbWVzdGFtcCBjaGFuZ2UuXG5cblxuICBpZiAoYWRkTWVzc2FnZVRvTGlzdCkge1xuICAgIG1lc3NhZ2VBcnIuc3BsaWNlKGxlZnQsIDAsIG1lc3NhZ2UpO1xuICB9XG5cbiAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShtZXNzYWdlQXJyKTtcbn1cblxuZnVuY3Rpb24gb3duS2V5cyQ3KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ3KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkNyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDcoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbi8qKlxuICogQ2hhbm5lbFN0YXRlIC0gQSBjb250YWluZXIgY2xhc3MgZm9yIHRoZSBjaGFubmVsIHN0YXRlLlxuICovXG52YXIgQ2hhbm5lbFN0YXRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEZsYWcgd2hpY2ggaW5kaWNhdGVzIGlmIGNoYW5uZWwgc3RhdGUgY29udGFpbiBsYXRlc3QvcmVjZW50IG1lc3NhZ2VzIG9yIG5vLlxuICAgKiBUaGlzIGZsYWcgc2hvdWxkIGJlIG1hbmFnZWQgYnkgVUkgc2RrcyB1c2luZyBhIHNldHRlciAtIHNldElzVXBUb0RhdGUuXG4gICAqIFdoZW4gZmFsc2UsIGFueSBuZXcgbWVzc2FnZSAocmVjZWl2ZWQgYnkgd2Vic29ja2V0IGV2ZW50IC0gbWVzc2FnZS5uZXcpIHdpbGwgbm90XG4gICAqIGJlIHB1c2hlZCBvbiB0byBtZXNzYWdlIGxpc3QuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBEaXNqb2ludCBsaXN0cyBvZiBtZXNzYWdlc1xuICAgKiBVc2VycyBjYW4ganVtcCBpbiB0aGUgbWVzc2FnZSBsaXN0ICh3aXRoIHNlYXJjaGluZykgYW5kIHRoaXMgY2FuIHJlc3VsdCBpbiBkaXNqb2ludCBsaXN0cyBvZiBtZXNzYWdlc1xuICAgKiBUaGUgc3RhdGUgbWFuYWdlcyB0aGVzZSBsaXN0cyBhbmQgbWVyZ2VzIHRoZW0gd2hlbiBsaXN0cyBvdmVybGFwXG4gICAqIFRoZSBtZXNzYWdlcyBhcnJheSBjb250YWlucyB0aGUgY3VycmVudGx5IGFjdGl2ZSBzZXRcbiAgICovXG4gIGZ1bmN0aW9uIENoYW5uZWxTdGF0ZShjaGFubmVsKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgX2NoYW5uZWwkc3RhdGU7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhbm5lbFN0YXRlKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jaGFubmVsXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3YXRjaGVyX2NvdW50XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0eXBpbmdcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlYWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBpbm5lZE1lc3NhZ2VzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwZW5kaW5nX21lc3NhZ2VzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0aHJlYWRzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtdXRlZFVzZXJzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3YXRjaGVyc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibWVtYmVyc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidW5yZWFkQ291bnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1lbWJlcnNoaXBcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxhc3RfbWVzc2FnZV9hdFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNVcFRvRGF0ZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVNldHNcIiwgW10pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2V0SXNVcFRvRGF0ZVwiLCBmdW5jdGlvbiAoaXNVcFRvRGF0ZSkge1xuICAgICAgX3RoaXMuaXNVcFRvRGF0ZSA9IGlzVXBUb0RhdGU7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZW1vdmVNZXNzYWdlRnJvbUFycmF5XCIsIGZ1bmN0aW9uIChtc2dBcnJheSwgbXNnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbXNnQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiAhKCEhbWVzc2FnZS5pZCAmJiAhIW1zZy5pZCAmJiBtZXNzYWdlLmlkID09PSBtc2cuaWQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmVkOiByZXN1bHQubGVuZ3RoIDwgbXNnQXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQ6IHJlc3VsdFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVwZGF0ZVVzZXJNZXNzYWdlc1wiLCBmdW5jdGlvbiAodXNlcikge1xuICAgICAgdmFyIF91cGRhdGVVc2VyTWVzc2FnZXMgPSBmdW5jdGlvbiBfdXBkYXRlVXNlck1lc3NhZ2VzKG1lc3NhZ2VzLCB1c2VyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgX20kdXNlcjtcblxuICAgICAgICAgIHZhciBtID0gbWVzc2FnZXNbaV07XG5cbiAgICAgICAgICBpZiAoKChfbSR1c2VyID0gbS51c2VyKSA9PT0gbnVsbCB8fCBfbSR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbSR1c2VyLmlkKSA9PT0gdXNlci5pZCkge1xuICAgICAgICAgICAgbWVzc2FnZXNbaV0gPSBfb2JqZWN0U3ByZWFkJDcoX29iamVjdFNwcmVhZCQ3KHt9LCBtKSwge30sIHtcbiAgICAgICAgICAgICAgdXNlcjogdXNlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5tZXNzYWdlU2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgcmV0dXJuIF91cGRhdGVVc2VyTWVzc2FnZXMoc2V0Lm1lc3NhZ2VzLCB1c2VyKTtcbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKHZhciBwYXJlbnRJZCBpbiBfdGhpcy50aHJlYWRzKSB7XG4gICAgICAgIF91cGRhdGVVc2VyTWVzc2FnZXMoX3RoaXMudGhyZWFkc1twYXJlbnRJZF0sIHVzZXIpO1xuICAgICAgfVxuXG4gICAgICBfdXBkYXRlVXNlck1lc3NhZ2VzKF90aGlzLnBpbm5lZE1lc3NhZ2VzLCB1c2VyKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlbGV0ZVVzZXJNZXNzYWdlc1wiLCBmdW5jdGlvbiAodXNlcikge1xuICAgICAgdmFyIGhhcmREZWxldGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgICB2YXIgX2RlbGV0ZVVzZXJNZXNzYWdlcyA9IGZ1bmN0aW9uIF9kZWxldGVVc2VyTWVzc2FnZXMobWVzc2FnZXMsIHVzZXIpIHtcbiAgICAgICAgdmFyIGhhcmREZWxldGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgX20kdXNlcjI7XG5cbiAgICAgICAgICB2YXIgbSA9IG1lc3NhZ2VzW2ldO1xuXG4gICAgICAgICAgaWYgKCgoX20kdXNlcjIgPSBtLnVzZXIpID09PSBudWxsIHx8IF9tJHVzZXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbSR1c2VyMi5pZCkgIT09IHVzZXIuaWQpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChoYXJkRGVsZXRlKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluIGNhc2Ugb2YgaGFyZCBkZWxldGUsIHdlIG5lZWQgdG8gc3RyaXAgZG93biBhbGwgdGV4dCwgaHRtbCxcbiAgICAgICAgICAgICAqIGF0dGFjaG1lbnRzIGFuZCBhbGwgdGhlIGN1c3RvbSBwcm9wZXJ0aWVzIG9uIG1lc3NhZ2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbWVzc2FnZXNbaV0gPSB7XG4gICAgICAgICAgICAgIGNpZDogbS5jaWQsXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG0uY3JlYXRlZF9hdCxcbiAgICAgICAgICAgICAgZGVsZXRlZF9hdDogdXNlci5kZWxldGVkX2F0LFxuICAgICAgICAgICAgICBpZDogbS5pZCxcbiAgICAgICAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogW10sXG4gICAgICAgICAgICAgIG1lbnRpb25lZF91c2VyczogW10sXG4gICAgICAgICAgICAgIG93bl9yZWFjdGlvbnM6IFtdLFxuICAgICAgICAgICAgICBwYXJlbnRfaWQ6IG0ucGFyZW50X2lkLFxuICAgICAgICAgICAgICByZXBseV9jb3VudDogbS5yZXBseV9jb3VudCxcbiAgICAgICAgICAgICAgc3RhdHVzOiBtLnN0YXR1cyxcbiAgICAgICAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogbS50aHJlYWRfcGFydGljaXBhbnRzLFxuICAgICAgICAgICAgICB0eXBlOiAnZGVsZXRlZCcsXG4gICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG0udXBkYXRlZF9hdCxcbiAgICAgICAgICAgICAgdXNlcjogbS51c2VyXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXNzYWdlc1tpXSA9IF9vYmplY3RTcHJlYWQkNyhfb2JqZWN0U3ByZWFkJDcoe30sIG0pLCB7fSwge1xuICAgICAgICAgICAgICB0eXBlOiAnZGVsZXRlZCcsXG4gICAgICAgICAgICAgIGRlbGV0ZWRfYXQ6IHVzZXIuZGVsZXRlZF9hdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5tZXNzYWdlU2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGVVc2VyTWVzc2FnZXMoc2V0Lm1lc3NhZ2VzLCB1c2VyLCBoYXJkRGVsZXRlKTtcbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKHZhciBwYXJlbnRJZCBpbiBfdGhpcy50aHJlYWRzKSB7XG4gICAgICAgIF9kZWxldGVVc2VyTWVzc2FnZXMoX3RoaXMudGhyZWFkc1twYXJlbnRJZF0sIHVzZXIsIGhhcmREZWxldGUpO1xuICAgICAgfVxuXG4gICAgICBfZGVsZXRlVXNlck1lc3NhZ2VzKF90aGlzLnBpbm5lZE1lc3NhZ2VzLCB1c2VyLCBoYXJkRGVsZXRlKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2NoYW5uZWwgPSBjaGFubmVsO1xuICAgIHRoaXMud2F0Y2hlcl9jb3VudCA9IDA7XG4gICAgdGhpcy50eXBpbmcgPSB7fTtcbiAgICB0aGlzLnJlYWQgPSB7fTtcbiAgICB0aGlzLmluaXRNZXNzYWdlcygpO1xuICAgIHRoaXMucGlubmVkTWVzc2FnZXMgPSBbXTtcbiAgICB0aGlzLnBlbmRpbmdfbWVzc2FnZXMgPSBbXTtcbiAgICB0aGlzLnRocmVhZHMgPSB7fTsgLy8gYSBsaXN0IG9mIHVzZXJzIHRvIGhpZGUgbWVzc2FnZXMgZnJvbVxuXG4gICAgdGhpcy5tdXRlZFVzZXJzID0gW107XG4gICAgdGhpcy53YXRjaGVycyA9IHt9O1xuICAgIHRoaXMubWVtYmVycyA9IHt9O1xuICAgIHRoaXMubWVtYmVyc2hpcCA9IHt9O1xuICAgIHRoaXMudW5yZWFkQ291bnQgPSAwO1xuICAgIC8qKlxuICAgICAqIEZsYWcgd2hpY2ggaW5kaWNhdGVzIGlmIGNoYW5uZWwgc3RhdGUgY29udGFpbiBsYXRlc3QvcmVjZW50IG1lc3NhZ2VzIG9yIG5vLlxuICAgICAqIFRoaXMgZmxhZyBzaG91bGQgYmUgbWFuYWdlZCBieSBVSSBzZGtzIHVzaW5nIGEgc2V0dGVyIC0gc2V0SXNVcFRvRGF0ZS5cbiAgICAgKiBXaGVuIGZhbHNlLCBhbnkgbmV3IG1lc3NhZ2UgKHJlY2VpdmVkIGJ5IHdlYnNvY2tldCBldmVudCAtIG1lc3NhZ2UubmV3KSB3aWxsIG5vdFxuICAgICAqIGJlIHB1c2hlZCBvbiB0byBtZXNzYWdlIGxpc3QuXG4gICAgICovXG5cbiAgICB0aGlzLmlzVXBUb0RhdGUgPSB0cnVlO1xuICAgIHRoaXMubGFzdF9tZXNzYWdlX2F0ID0gKGNoYW5uZWwgPT09IG51bGwgfHwgY2hhbm5lbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jaGFubmVsJHN0YXRlID0gY2hhbm5lbC5zdGF0ZSkgPT09IG51bGwgfHwgX2NoYW5uZWwkc3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGFubmVsJHN0YXRlLmxhc3RfbWVzc2FnZV9hdCkgIT0gbnVsbCA/IG5ldyBEYXRlKGNoYW5uZWwuc3RhdGUubGFzdF9tZXNzYWdlX2F0KSA6IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2hhbm5lbFN0YXRlLCBbe1xuICAgIGtleTogXCJtZXNzYWdlc1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIF90aGlzJG1lc3NhZ2VTZXRzJGZpbjtcblxuICAgICAgcmV0dXJuICgoX3RoaXMkbWVzc2FnZVNldHMkZmluID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzLmlzQ3VycmVudDtcbiAgICAgIH0pKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXNzYWdlU2V0cyRmaW4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1lc3NhZ2VTZXRzJGZpbi5tZXNzYWdlcykgfHwgW107XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChtZXNzYWdlcykge1xuICAgICAgdmFyIGluZGV4ID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHMuaXNDdXJyZW50O1xuICAgICAgfSk7XG4gICAgICB0aGlzLm1lc3NhZ2VTZXRzW2luZGV4XS5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBsYXRlc3QgbWVzc2FnZXNcbiAgICAgKiBUaGUgbWVzc2FnZXMgYXJyYXkgbm90IGFsd2F5cyBjb250YWlucyB0aGUgbGF0ZXN0IG1lc3NhZ2VzIChmb3IgZXhhbXBsZSBpZiBhIHVzZXIgc2VhcmNoZWQgZm9yIGFuIGVhcmxpZXIgbWVzc2FnZSwgdGhhdCBpcyBpbiBhIGRpZmZlcmVudCBtZXNzYWdlIHNldClcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxhdGVzdE1lc3NhZ2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgX3RoaXMkbWVzc2FnZVNldHMkZmluMjtcblxuICAgICAgcmV0dXJuICgoX3RoaXMkbWVzc2FnZVNldHMkZmluMiA9IHRoaXMubWVzc2FnZVNldHMuZmluZChmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gcy5pc0xhdGVzdDtcbiAgICAgIH0pKSA9PT0gbnVsbCB8fCBfdGhpcyRtZXNzYWdlU2V0cyRmaW4yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtZXNzYWdlU2V0cyRmaW4yLm1lc3NhZ2VzKSB8fCBbXTtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG1lc3NhZ2VzKSB7XG4gICAgICB2YXIgaW5kZXggPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbmRJbmRleChmdW5jdGlvbiAocykge1xuICAgICAgICByZXR1cm4gcy5pc0xhdGVzdDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tZXNzYWdlU2V0c1tpbmRleF0ubWVzc2FnZXMgPSBtZXNzYWdlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkTWVzc2FnZVNvcnRlZCAtIEFkZCBhIG1lc3NhZ2UgdG8gdGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBuZXdNZXNzYWdlIEEgbmV3IG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRpbWVzdGFtcENoYW5nZWQgV2hldGhlciB1cGRhdGluZyBhIG1lc3NhZ2Ugd2l0aCBjaGFuZ2VkIGNyZWF0ZWRfYXQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhZGRJZkRvZXNOb3RFeGlzdCBBZGQgbWVzc2FnZSBpZiBpdCBpcyBub3QgaW4gdGhlIGxpc3QsIHVzZWQgdG8gcHJldmVudCBvdXQgb2Ygb3JkZXIgdXBkYXRlZCBtZXNzYWdlcyBmcm9tIGJlaW5nIGFkZGVkLlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZVNldFR5cGV9IG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QgV2hpY2ggbWVzc2FnZSBzZXQgdG8gYWRkIHRvIGlmIG1lc3NhZ2UgaXMgbm90IGluIHRoZSBsaXN0IChvbmx5IHVzZWQgaWYgYWRkSWZEb2VzTm90RXhpc3QgaXMgdHJ1ZSlcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZE1lc3NhZ2VTb3J0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTWVzc2FnZVNvcnRlZChuZXdNZXNzYWdlKSB7XG4gICAgICB2YXIgdGltZXN0YW1wQ2hhbmdlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICB2YXIgYWRkSWZEb2VzTm90RXhpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRydWU7XG4gICAgICB2YXIgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJ2xhdGVzdCc7XG4gICAgICByZXR1cm4gdGhpcy5hZGRNZXNzYWdlc1NvcnRlZChbbmV3TWVzc2FnZV0sIHRpbWVzdGFtcENoYW5nZWQsIGZhbHNlLCBhZGRJZkRvZXNOb3RFeGlzdCwgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGZvcm1hdE1lc3NhZ2UgLSBUYWtlcyB0aGUgbWVzc2FnZSBvYmplY3QuIFBhcnNlcyB0aGUgZGF0ZXMsIHNldHMgX19odG1sXG4gICAgICogYW5kIHNldHMgdGhlIHN0YXR1cyB0byByZWNlaXZlZCBpZiBtaXNzaW5nLiBSZXR1cm5zIGEgbWVzc2FnZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IG1lc3NhZ2UgYSBtZXNzYWdlIG9iamVjdFxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJmb3JtYXRNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkNyhfb2JqZWN0U3ByZWFkJDcoe30sIG1lc3NhZ2UpLCB7fSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgcGxlYXNlIHVzZSBgaHRtbGBcbiAgICAgICAgICovXG4gICAgICAgIF9faHRtbDogbWVzc2FnZS5odG1sLFxuICAgICAgICAvLyBwYXJzZSB0aGUgZGF0ZS4uXG4gICAgICAgIHBpbm5lZF9hdDogbWVzc2FnZS5waW5uZWRfYXQgPyBuZXcgRGF0ZShtZXNzYWdlLnBpbm5lZF9hdCkgOiBudWxsLFxuICAgICAgICBjcmVhdGVkX2F0OiBtZXNzYWdlLmNyZWF0ZWRfYXQgPyBuZXcgRGF0ZShtZXNzYWdlLmNyZWF0ZWRfYXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbWVzc2FnZS51cGRhdGVkX2F0ID8gbmV3IERhdGUobWVzc2FnZS51cGRhdGVkX2F0KSA6IG5ldyBEYXRlKCksXG4gICAgICAgIHN0YXR1czogbWVzc2FnZS5zdGF0dXMgfHwgJ3JlY2VpdmVkJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZE1lc3NhZ2VzU29ydGVkIC0gQWRkIHRoZSBsaXN0IG9mIG1lc3NhZ2VzIHRvIHN0YXRlIGFuZCByZXNvcnRzIHRoZSBtZXNzYWdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheTxNZXNzYWdlUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IG5ld01lc3NhZ2VzIEEgbGlzdCBvZiBtZXNzYWdlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdGltZXN0YW1wQ2hhbmdlZCBXaGV0aGVyIHVwZGF0aW5nIG1lc3NhZ2VzIHdpdGggY2hhbmdlZCBjcmVhdGVkX2F0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5pdGlhbGl6aW5nIFdoZXRoZXIgY2hhbm5lbCBpcyBiZWluZyBpbml0aWFsaXplZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGFkZElmRG9lc05vdEV4aXN0IEFkZCBtZXNzYWdlIGlmIGl0IGlzIG5vdCBpbiB0aGUgbGlzdCwgdXNlZCB0byBwcmV2ZW50IG91dCBvZiBvcmRlciB1cGRhdGVkIG1lc3NhZ2VzIGZyb20gYmVpbmcgYWRkZWQuXG4gICAgICogQHBhcmFtIHtNZXNzYWdlU2V0VHlwZX0gbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCBXaGljaCBtZXNzYWdlIHNldCB0byBhZGQgdG8gaWYgbWVzc2FnZXMgYXJlIG5vdCBpbiB0aGUgbGlzdCAob25seSB1c2VkIGlmIGFkZElmRG9lc05vdEV4aXN0IGlzIHRydWUpXG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZE1lc3NhZ2VzU29ydGVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE1lc3NhZ2VzU29ydGVkKG5ld01lc3NhZ2VzKSB7XG4gICAgICB2YXIgdGltZXN0YW1wQ2hhbmdlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gICAgICB2YXIgaW5pdGlhbGl6aW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgIHZhciBhZGRJZkRvZXNOb3RFeGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdHJ1ZTtcbiAgICAgIHZhciBtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAnY3VycmVudCc7XG5cbiAgICAgIHZhciBfdGhpcyRmaW5kVGFyZ2V0TWVzc2EgPSB0aGlzLmZpbmRUYXJnZXRNZXNzYWdlU2V0KG5ld01lc3NhZ2VzLCBhZGRJZkRvZXNOb3RFeGlzdCwgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCksXG4gICAgICAgICAgbWVzc2FnZXNUb0FkZCA9IF90aGlzJGZpbmRUYXJnZXRNZXNzYS5tZXNzYWdlc1RvQWRkLFxuICAgICAgICAgIHRhcmdldE1lc3NhZ2VTZXRJbmRleCA9IF90aGlzJGZpbmRUYXJnZXRNZXNzYS50YXJnZXRNZXNzYWdlU2V0SW5kZXg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVzc2FnZXNUb0FkZC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgaXNGcm9tU2hhZG93QmFubmVkVXNlciA9IG1lc3NhZ2VzVG9BZGRbaV0uc2hhZG93ZWQ7XG5cbiAgICAgICAgaWYgKGlzRnJvbVNoYWRvd0Jhbm5lZFVzZXIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBJZiBtZXNzYWdlIGlzIGFscmVhZHkgZm9ybWF0dGVkIHdlIGNhbiBza2lwIHRoZSB0YXNrcyBiZWxvd1xuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgdHJ1ZSBmb3IgbWVzc2FnZXMgdGhhdCBhcmUgYWxyZWFkeSBwcmVzZW50IGF0IHRoZSBzdGF0ZSAtPiB0aGlzIGhhcHBlbnMgd2hlbiB3ZSBwZXJmb3JtIG1lcmdpbmcgb2YgbWVzc2FnZSBzZXRzXG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBhbHNvIHRydWUgZm9yIG1lc3NhZ2UgcHJldmlld3MgdXNlZCBieSBzb21lIFNES3NcblxuXG4gICAgICAgIHZhciBpc01lc3NhZ2VGb3JtYXR0ZWQgPSBtZXNzYWdlc1RvQWRkW2ldLmNyZWF0ZWRfYXQgaW5zdGFuY2VvZiBEYXRlO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHZvaWQgMDtcblxuICAgICAgICBpZiAoaXNNZXNzYWdlRm9ybWF0dGVkKSB7XG4gICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VzVG9BZGRbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIF90aGlzJF9jaGFubmVsO1xuXG4gICAgICAgICAgbWVzc2FnZSA9IHRoaXMuZm9ybWF0TWVzc2FnZShtZXNzYWdlc1RvQWRkW2ldKTtcblxuICAgICAgICAgIGlmIChtZXNzYWdlLnVzZXIgJiYgKF90aGlzJF9jaGFubmVsID0gdGhpcy5fY2hhbm5lbCkgIT09IG51bGwgJiYgX3RoaXMkX2NoYW5uZWwgIT09IHZvaWQgMCAmJiBfdGhpcyRfY2hhbm5lbC5jaWQpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RvcmUgdGhlIHJlZmVyZW5jZSB0byB1c2VyIGZvciB0aGlzIGNoYW5uZWwsIHNvIHRoYXQgd2hlbiB3ZSBoYXZlIHRvXG4gICAgICAgICAgICAgKiBoYW5kbGUgdXBkYXRlcyB0byB1c2VyLCB3ZSBjYW4gdXNlIHRoZSByZWZlcmVuY2UgbWFwLCB0byBkZXRlcm1pbmUgd2hpY2hcbiAgICAgICAgICAgICAqIGNoYW5uZWxzIG5lZWQgdG8gYmUgdXBkYXRlZCB3aXRoIHVwZGF0ZWQgdXNlciBvYmplY3QuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX2NoYW5uZWwuZ2V0Q2xpZW50KCkuc3RhdGUudXBkYXRlVXNlclJlZmVyZW5jZShtZXNzYWdlLnVzZXIsIHRoaXMuX2NoYW5uZWwuY2lkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaW5pdGlhbGl6aW5nICYmIG1lc3NhZ2UuaWQgJiYgdGhpcy50aHJlYWRzW21lc3NhZ2UuaWRdKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgaW5pdGlhbGl6aW5nIHRoZSBzdGF0ZSBvZiBjaGFubmVsIChlLmcuLCBpbiBjYXNlIG9mIGNvbm5lY3Rpb24gcmVjb3ZlcnkpLFxuICAgICAgICAgICAgLy8gdGhlbiBpbiB0aGF0IGNhc2Ugd2UgcmVtb3ZlIHRocmVhZCByZWxhdGVkIHRvIHRoaXMgbWVzc2FnZSBmcm9tIHRocmVhZHMgb2JqZWN0LlxuICAgICAgICAgICAgLy8gVGhpcyB3YXkgd2UgY2FuIGVuc3VyZSB0aGF0IHdlIGRvbid0IGhhdmUgYW55IHN0YWxlIGRhdGEgaW4gdGhyZWFkIG9iamVjdFxuICAgICAgICAgICAgLy8gYW5kIGNvbnN1bWVyIGNhbiByZWZldGNoIHRoZSByZXBsaWVzLlxuICAgICAgICAgICAgZGVsZXRlIHRoaXMudGhyZWFkc1ttZXNzYWdlLmlkXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXRoaXMubGFzdF9tZXNzYWdlX2F0KSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RfbWVzc2FnZV9hdCA9IG5ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZF9hdC5nZXRUaW1lKCkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChtZXNzYWdlLmNyZWF0ZWRfYXQuZ2V0VGltZSgpID4gdGhpcy5sYXN0X21lc3NhZ2VfYXQuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RfbWVzc2FnZV9hdCA9IG5ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZF9hdC5nZXRUaW1lKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyB1cGRhdGUgb3IgYXBwZW5kIHRoZSBtZXNzYWdlcy4uLlxuXG5cbiAgICAgICAgdmFyIHBhcmVudElEID0gbWVzc2FnZS5wYXJlbnRfaWQ7IC8vIGFkZCB0byB0aGUgZ2l2ZW4gbWVzc2FnZSBzZXRcblxuICAgICAgICBpZiAoKCFwYXJlbnRJRCB8fCBtZXNzYWdlLnNob3dfaW5fY2hhbm5lbCkgJiYgdGFyZ2V0TWVzc2FnZVNldEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHRoaXMubWVzc2FnZVNldHNbdGFyZ2V0TWVzc2FnZVNldEluZGV4XS5tZXNzYWdlcyA9IHRoaXMuX2FkZFRvTWVzc2FnZUxpc3QodGhpcy5tZXNzYWdlU2V0c1t0YXJnZXRNZXNzYWdlU2V0SW5kZXhdLm1lc3NhZ2VzLCBtZXNzYWdlLCB0aW1lc3RhbXBDaGFuZ2VkLCAnY3JlYXRlZF9hdCcsIGFkZElmRG9lc05vdEV4aXN0KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIG1lc3NhZ2UgdG8gdGhyZWFkIGlmIGFwcGxpY2FibGUgYW5kIHRoZSBtZXNzYWdlXG4gICAgICAgICAqIHdhcyBhZGRlZCB3aGVuIHF1ZXJ5aW5nIGZvciByZXBsaWVzLCBvciB0aGUgdGhyZWFkIGFscmVhZHkgZXhpdHMuXG4gICAgICAgICAqIFRoaXMgaXMgdG8gcHJldmVudCB0aGUgdGhyZWFkIHN0YXRlIGZyb20gZ2V0dGluZyBvdXQgb2Ygc3luYyBpZlxuICAgICAgICAgKiBhIHRocmVhZCBtZXNzYWdlIGlzIHNob3duIGluIGNoYW5uZWwgYnV0IG9sZGVyIHRoYW4gdGhlIG5ld2VzdCB0aHJlYWRcbiAgICAgICAgICogbWVzc2FnZS4gVGhpcyBzaXR1YXRpb24gY2FuIHJlc3VsdCBpbiBhIHRocmVhZCBzdGF0ZSB3aGVyZSBhIHJhbmRvbVxuICAgICAgICAgKiBtZXNzYWdlIGlzIFwib2xkZXN0XCIgbWVzc2FnZSwgYW5kIG5ld2VyIG1lc3NhZ2VzIGFyZSB0aGVyZWZvcmUgbm90IGxvYWRlZC5cbiAgICAgICAgICogVGhpcyBjYW4gYWxzbyBvY2N1ciBpZiBhbiBvbGQgdGhyZWFkIG1lc3NhZ2UgaXMgdXBkYXRlZC5cbiAgICAgICAgICovXG5cblxuICAgICAgICBpZiAocGFyZW50SUQgJiYgIWluaXRpYWxpemluZykge1xuICAgICAgICAgIHZhciB0aHJlYWQgPSB0aGlzLnRocmVhZHNbcGFyZW50SURdIHx8IFtdO1xuXG4gICAgICAgICAgdmFyIHRocmVhZE1lc3NhZ2VzID0gdGhpcy5fYWRkVG9NZXNzYWdlTGlzdCh0aHJlYWQsIG1lc3NhZ2UsIHRpbWVzdGFtcENoYW5nZWQsICdjcmVhdGVkX2F0JywgYWRkSWZEb2VzTm90RXhpc3QpO1xuXG4gICAgICAgICAgdGhpcy50aHJlYWRzW3BhcmVudElEXSA9IHRocmVhZE1lc3NhZ2VzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2VTZXQ6IHRoaXMubWVzc2FnZVNldHNbdGFyZ2V0TWVzc2FnZVNldEluZGV4XVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkUGlubmVkTWVzc2FnZXMgLSBhZGRzIG1lc3NhZ2VzIGluIHBpbm5lZE1lc3NhZ2VzIHByb3BlcnR5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PE1lc3NhZ2VSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gcGlubmVkTWVzc2FnZXMgQSBsaXN0IG9mIHBpbm5lZCBtZXNzYWdlc1xuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRQaW5uZWRNZXNzYWdlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRQaW5uZWRNZXNzYWdlcyhwaW5uZWRNZXNzYWdlcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaW5uZWRNZXNzYWdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB0aGlzLmFkZFBpbm5lZE1lc3NhZ2UocGlubmVkTWVzc2FnZXNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBhZGRQaW5uZWRNZXNzYWdlIC0gYWRkcyBtZXNzYWdlIGluIHBpbm5lZE1lc3NhZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBwaW5uZWRNZXNzYWdlIG1lc3NhZ2UgdG8gdXBkYXRlXG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZFBpbm5lZE1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUGlubmVkTWVzc2FnZShwaW5uZWRNZXNzYWdlKSB7XG4gICAgICB0aGlzLnBpbm5lZE1lc3NhZ2VzID0gdGhpcy5fYWRkVG9NZXNzYWdlTGlzdCh0aGlzLnBpbm5lZE1lc3NhZ2VzLCB0aGlzLmZvcm1hdE1lc3NhZ2UocGlubmVkTWVzc2FnZSksIGZhbHNlLCAncGlubmVkX2F0Jyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbW92ZVBpbm5lZE1lc3NhZ2UgLSByZW1vdmVzIHBpbm5lZCBtZXNzYWdlIGZyb20gcGlubmVkTWVzc2FnZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IG1lc3NhZ2UgbWVzc2FnZSB0byByZW1vdmVcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlUGlubmVkTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVQaW5uZWRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgIHZhciBfdGhpcyRyZW1vdmVNZXNzYWdlRnIgPSB0aGlzLnJlbW92ZU1lc3NhZ2VGcm9tQXJyYXkodGhpcy5waW5uZWRNZXNzYWdlcywgbWVzc2FnZSksXG4gICAgICAgICAgcmVzdWx0ID0gX3RoaXMkcmVtb3ZlTWVzc2FnZUZyLnJlc3VsdDtcblxuICAgICAgdGhpcy5waW5uZWRNZXNzYWdlcyA9IHJlc3VsdDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkUmVhY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUmVhY3Rpb24ocmVhY3Rpb24sIG1lc3NhZ2UsIGVuZm9yY2VfdW5pcXVlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKCFtZXNzYWdlKSByZXR1cm47XG4gICAgICB2YXIgbWVzc2FnZVdpdGhSZWFjdGlvbiA9IG1lc3NhZ2U7XG5cbiAgICAgIHRoaXMuX3VwZGF0ZU1lc3NhZ2UobWVzc2FnZSwgZnVuY3Rpb24gKG1zZykge1xuICAgICAgICBtZXNzYWdlV2l0aFJlYWN0aW9uLm93bl9yZWFjdGlvbnMgPSBfdGhpczIuX2FkZE93blJlYWN0aW9uVG9NZXNzYWdlKG1zZy5vd25fcmVhY3Rpb25zLCByZWFjdGlvbiwgZW5mb3JjZV91bmlxdWUpO1xuICAgICAgICByZXR1cm4gX3RoaXMyLmZvcm1hdE1lc3NhZ2UobWVzc2FnZVdpdGhSZWFjdGlvbik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1lc3NhZ2VXaXRoUmVhY3Rpb247XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9hZGRPd25SZWFjdGlvblRvTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkT3duUmVhY3Rpb25Ub01lc3NhZ2Uob3duUmVhY3Rpb25zLCByZWFjdGlvbiwgZW5mb3JjZV91bmlxdWUpIHtcbiAgICAgIGlmIChlbmZvcmNlX3VuaXF1ZSkge1xuICAgICAgICBvd25SZWFjdGlvbnMgPSBbXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG93blJlYWN0aW9ucyA9IHRoaXMuX3JlbW92ZU93blJlYWN0aW9uRnJvbU1lc3NhZ2Uob3duUmVhY3Rpb25zLCByZWFjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIG93blJlYWN0aW9ucyA9IG93blJlYWN0aW9ucyB8fCBbXTtcblxuICAgICAgaWYgKHRoaXMuX2NoYW5uZWwuZ2V0Q2xpZW50KCkudXNlcklEID09PSByZWFjdGlvbi51c2VyX2lkKSB7XG4gICAgICAgIG93blJlYWN0aW9ucy5wdXNoKHJlYWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG93blJlYWN0aW9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3JlbW92ZU93blJlYWN0aW9uRnJvbU1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZU93blJlYWN0aW9uRnJvbU1lc3NhZ2Uob3duUmVhY3Rpb25zLCByZWFjdGlvbikge1xuICAgICAgaWYgKG93blJlYWN0aW9ucykge1xuICAgICAgICByZXR1cm4gb3duUmVhY3Rpb25zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLnVzZXJfaWQgIT09IHJlYWN0aW9uLnVzZXJfaWQgfHwgaXRlbS50eXBlICE9PSByZWFjdGlvbi50eXBlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG93blJlYWN0aW9ucztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlUmVhY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlUmVhY3Rpb24ocmVhY3Rpb24sIG1lc3NhZ2UpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIW1lc3NhZ2UpIHJldHVybjtcbiAgICAgIHZhciBtZXNzYWdlV2l0aFJlYWN0aW9uID0gbWVzc2FnZTtcblxuICAgICAgdGhpcy5fdXBkYXRlTWVzc2FnZShtZXNzYWdlLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIG1lc3NhZ2VXaXRoUmVhY3Rpb24ub3duX3JlYWN0aW9ucyA9IF90aGlzMy5fcmVtb3ZlT3duUmVhY3Rpb25Gcm9tTWVzc2FnZShtc2cub3duX3JlYWN0aW9ucywgcmVhY3Rpb24pO1xuICAgICAgICByZXR1cm4gX3RoaXMzLmZvcm1hdE1lc3NhZ2UobWVzc2FnZVdpdGhSZWFjdGlvbik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG1lc3NhZ2VXaXRoUmVhY3Rpb247XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVF1b3RlZE1lc3NhZ2VSZWZlcmVuY2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVF1b3RlZE1lc3NhZ2VSZWZlcmVuY2VzKG1lc3NhZ2UpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgcGFyc2VNZXNzYWdlID0gZnVuY3Rpb24gcGFyc2VNZXNzYWdlKG0pIHtcbiAgICAgICAgdmFyIF9tJHBpbm5lZF9hdCwgX20kdXBkYXRlZF9hdDtcblxuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCQ3KF9vYmplY3RTcHJlYWQkNyh7fSwgbSksIHt9LCB7XG4gICAgICAgICAgY3JlYXRlZF9hdDogbS5jcmVhdGVkX2F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgcGlubmVkX2F0OiAoX20kcGlubmVkX2F0ID0gbS5waW5uZWRfYXQpID09PSBudWxsIHx8IF9tJHBpbm5lZF9hdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20kcGlubmVkX2F0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogKF9tJHVwZGF0ZWRfYXQgPSBtLnVwZGF0ZWRfYXQpID09PSBudWxsIHx8IF9tJHVwZGF0ZWRfYXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tJHVwZGF0ZWRfYXQudG9JU09TdHJpbmcoKVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMubWVzc2FnZVNldHMuZm9yRWFjaChmdW5jdGlvbiAoc2V0KSB7XG4gICAgICAgIHZhciB1cGRhdGVkTWVzc2FnZXMgPSBzZXQubWVzc2FnZXMuZmlsdGVyKGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICByZXR1cm4gbXNnLnF1b3RlZF9tZXNzYWdlX2lkID09PSBtZXNzYWdlLmlkO1xuICAgICAgICB9KS5tYXAocGFyc2VNZXNzYWdlKS5tYXAoZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkJDcoX29iamVjdFNwcmVhZCQ3KHt9LCBtc2cpLCB7fSwge1xuICAgICAgICAgICAgcXVvdGVkX21lc3NhZ2U6IF9vYmplY3RTcHJlYWQkNyhfb2JqZWN0U3ByZWFkJDcoe30sIG1lc3NhZ2UpLCB7fSwge1xuICAgICAgICAgICAgICBhdHRhY2htZW50czogW11cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzNC5hZGRNZXNzYWdlc1NvcnRlZCh1cGRhdGVkTWVzc2FnZXMsIHRydWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgYWxsIGluc3RhbmNlcyBvZiBnaXZlbiBtZXNzYWdlIGluIGNoYW5uZWwgc3RhdGVcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxuICAgICAqIEBwYXJhbSB1cGRhdGVGdW5jXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfdXBkYXRlTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlTWVzc2FnZShtZXNzYWdlLCB1cGRhdGVGdW5jKSB7XG4gICAgICB2YXIgcGFyZW50X2lkID0gbWVzc2FnZS5wYXJlbnRfaWQsXG4gICAgICAgICAgc2hvd19pbl9jaGFubmVsID0gbWVzc2FnZS5zaG93X2luX2NoYW5uZWwsXG4gICAgICAgICAgcGlubmVkID0gbWVzc2FnZS5waW5uZWQ7XG5cbiAgICAgIGlmIChwYXJlbnRfaWQgJiYgdGhpcy50aHJlYWRzW3BhcmVudF9pZF0pIHtcbiAgICAgICAgdmFyIHRocmVhZCA9IHRoaXMudGhyZWFkc1twYXJlbnRfaWRdO1xuICAgICAgICB2YXIgbXNnSW5kZXggPSB0aHJlYWQuZmluZEluZGV4KGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICByZXR1cm4gbXNnLmlkID09PSBtZXNzYWdlLmlkO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobXNnSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdGhyZWFkW21zZ0luZGV4XSA9IHVwZGF0ZUZ1bmModGhyZWFkW21zZ0luZGV4XSk7XG4gICAgICAgICAgdGhpcy50aHJlYWRzW3BhcmVudF9pZF0gPSB0aHJlYWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFzaG93X2luX2NoYW5uZWwgJiYgIXBhcmVudF9pZCB8fCBzaG93X2luX2NoYW5uZWwpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VTZXRJbmRleCA9IHRoaXMuZmluZE1lc3NhZ2VTZXRJbmRleChtZXNzYWdlKTtcblxuICAgICAgICBpZiAobWVzc2FnZVNldEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHZhciBfbXNnSW5kZXggPSB0aGlzLm1lc3NhZ2VTZXRzW21lc3NhZ2VTZXRJbmRleF0ubWVzc2FnZXMuZmluZEluZGV4KGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgIHJldHVybiBtc2cuaWQgPT09IG1lc3NhZ2UuaWQ7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoX21zZ0luZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlU2V0c1ttZXNzYWdlU2V0SW5kZXhdLm1lc3NhZ2VzW19tc2dJbmRleF0gPSB1cGRhdGVGdW5jKHRoaXMubWVzc2FnZVNldHNbbWVzc2FnZVNldEluZGV4XS5tZXNzYWdlc1tfbXNnSW5kZXhdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHBpbm5lZCkge1xuICAgICAgICB2YXIgX21zZ0luZGV4MiA9IHRoaXMucGlubmVkTWVzc2FnZXMuZmluZEluZGV4KGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICByZXR1cm4gbXNnLmlkID09PSBtZXNzYWdlLmlkO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoX21zZ0luZGV4MiAhPT0gLTEpIHtcbiAgICAgICAgICB0aGlzLnBpbm5lZE1lc3NhZ2VzW19tc2dJbmRleDJdID0gdXBkYXRlRnVuYyh0aGlzLnBpbm5lZE1lc3NhZ2VzW19tc2dJbmRleDJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXR0ZXIgZm9yIGlzVXBUb0RhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXNVcFRvRGF0ZSAgRmxhZyB3aGljaCBpbmRpY2F0ZXMgaWYgY2hhbm5lbCBzdGF0ZSBjb250YWluIGxhdGVzdC9yZWNlbnQgbWVzc2FnZXMgb3Igbm8uXG4gICAgICogICAgICAgICAgICAgICAgICAgIFRoaXMgZmxhZyBzaG91bGQgYmUgbWFuYWdlZCBieSBVSSBzZGtzIHVzaW5nIGEgc2V0dGVyIC0gc2V0SXNVcFRvRGF0ZS5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgV2hlbiBmYWxzZSwgYW55IG5ldyBtZXNzYWdlIChyZWNlaXZlZCBieSB3ZWJzb2NrZXQgZXZlbnQgLSBtZXNzYWdlLm5ldykgd2lsbCBub3RcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgYmUgcHVzaGVkIG9uIHRvIG1lc3NhZ2UgbGlzdC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9hZGRUb01lc3NhZ2VMaXN0XCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogX2FkZFRvTWVzc2FnZUxpc3QgLSBBZGRzIGEgbWVzc2FnZSB0byBhIGxpc3Qgb2YgbWVzc2FnZXMsIHRyaWVzIHRvIHVwZGF0ZSBmaXJzdCwgYXBwZW5kcyBpZiBtZXNzYWdlIGlzbid0IGZvdW5kXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5PFJldHVyblR5cGU8Q2hhbm5lbFN0YXRlPFN0cmVhbUNoYXRHZW5lcmljcz5bJ2Zvcm1hdE1lc3NhZ2UnXT4+fSBtZXNzYWdlcyBBIGxpc3Qgb2YgbWVzc2FnZXNcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdGltZXN0YW1wQ2hhbmdlZCBXaGV0aGVyIHVwZGF0aW5nIGEgbWVzc2FnZSB3aXRoIGNoYW5nZWQgY3JlYXRlZF9hdCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc29ydEJ5IGZpZWxkIG5hbWUgdG8gdXNlIHRvIHNvcnQgdGhlIG1lc3NhZ2VzIGJ5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBhZGRJZkRvZXNOb3RFeGlzdCBBZGQgbWVzc2FnZSBpZiBpdCBpcyBub3QgaW4gdGhlIGxpc3QsIHVzZWQgdG8gcHJldmVudCBvdXQgb2Ygb3JkZXIgdXBkYXRlZCBtZXNzYWdlcyBmcm9tIGJlaW5nIGFkZGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIF9hZGRUb01lc3NhZ2VMaXN0KG1lc3NhZ2VzLCBtZXNzYWdlKSB7XG4gICAgICB2YXIgdGltZXN0YW1wQ2hhbmdlZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7XG4gICAgICB2YXIgc29ydEJ5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAnY3JlYXRlZF9hdCc7XG4gICAgICB2YXIgYWRkSWZEb2VzTm90RXhpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRydWU7XG4gICAgICByZXR1cm4gYWRkVG9NZXNzYWdlTGlzdChtZXNzYWdlcywgbWVzc2FnZSwgdGltZXN0YW1wQ2hhbmdlZCwgc29ydEJ5LCBhZGRJZkRvZXNOb3RFeGlzdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHJlbW92ZU1lc3NhZ2UgLSBEZXNjcmlwdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHt7IGlkOiBzdHJpbmc7IHBhcmVudF9pZD86IHN0cmluZyB9fSBtZXNzYWdlVG9SZW1vdmUgT2JqZWN0IG9mIHRoZSBtZXNzYWdlIHRvIHJlbW92ZS4gTmVlZHMgdG8gaGF2ZSBhdCBpZCBzcGVjaWZpZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIGlmIHRoZSBtZXNzYWdlIHdhcyByZW1vdmVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZU1lc3NhZ2UobWVzc2FnZVRvUmVtb3ZlKSB7XG4gICAgICB2YXIgaXNSZW1vdmVkID0gZmFsc2U7XG5cbiAgICAgIGlmIChtZXNzYWdlVG9SZW1vdmUucGFyZW50X2lkICYmIHRoaXMudGhyZWFkc1ttZXNzYWdlVG9SZW1vdmUucGFyZW50X2lkXSkge1xuICAgICAgICB2YXIgX3RoaXMkcmVtb3ZlTWVzc2FnZUZyMiA9IHRoaXMucmVtb3ZlTWVzc2FnZUZyb21BcnJheSh0aGlzLnRocmVhZHNbbWVzc2FnZVRvUmVtb3ZlLnBhcmVudF9pZF0sIG1lc3NhZ2VUb1JlbW92ZSksXG4gICAgICAgICAgICByZW1vdmVkID0gX3RoaXMkcmVtb3ZlTWVzc2FnZUZyMi5yZW1vdmVkLFxuICAgICAgICAgICAgdGhyZWFkTWVzc2FnZXMgPSBfdGhpcyRyZW1vdmVNZXNzYWdlRnIyLnJlc3VsdDtcblxuICAgICAgICB0aGlzLnRocmVhZHNbbWVzc2FnZVRvUmVtb3ZlLnBhcmVudF9pZF0gPSB0aHJlYWRNZXNzYWdlcztcbiAgICAgICAgaXNSZW1vdmVkID0gcmVtb3ZlZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfbWVzc2FnZVRvUmVtb3ZlJG1lc3M7XG5cbiAgICAgICAgdmFyIG1lc3NhZ2VTZXRJbmRleCA9IChfbWVzc2FnZVRvUmVtb3ZlJG1lc3MgPSBtZXNzYWdlVG9SZW1vdmUubWVzc2FnZVNldEluZGV4KSAhPT0gbnVsbCAmJiBfbWVzc2FnZVRvUmVtb3ZlJG1lc3MgIT09IHZvaWQgMCA/IF9tZXNzYWdlVG9SZW1vdmUkbWVzcyA6IHRoaXMuZmluZE1lc3NhZ2VTZXRJbmRleChtZXNzYWdlVG9SZW1vdmUpO1xuXG4gICAgICAgIGlmIChtZXNzYWdlU2V0SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdmFyIF90aGlzJHJlbW92ZU1lc3NhZ2VGcjMgPSB0aGlzLnJlbW92ZU1lc3NhZ2VGcm9tQXJyYXkodGhpcy5tZXNzYWdlU2V0c1ttZXNzYWdlU2V0SW5kZXhdLm1lc3NhZ2VzLCBtZXNzYWdlVG9SZW1vdmUpLFxuICAgICAgICAgICAgICBfcmVtb3ZlZCA9IF90aGlzJHJlbW92ZU1lc3NhZ2VGcjMucmVtb3ZlZCxcbiAgICAgICAgICAgICAgbWVzc2FnZXMgPSBfdGhpcyRyZW1vdmVNZXNzYWdlRnIzLnJlc3VsdDtcblxuICAgICAgICAgIHRoaXMubWVzc2FnZVNldHNbbWVzc2FnZVNldEluZGV4XS5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xuICAgICAgICAgIGlzUmVtb3ZlZCA9IF9yZW1vdmVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc1JlbW92ZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpbHRlckVycm9yTWVzc2FnZXNcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBmaWx0ZXJFcnJvck1lc3NhZ2VzIC0gUmVtb3ZlcyBlcnJvciBtZXNzYWdlcyBmcm9tIHRoZSBjaGFubmVsIHN0YXRlLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmlsdGVyRXJyb3JNZXNzYWdlcygpIHtcbiAgICAgIHZhciBmaWx0ZXJlZE1lc3NhZ2VzID0gdGhpcy5sYXRlc3RNZXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UudHlwZSAhPT0gJ2Vycm9yJztcbiAgICAgIH0pO1xuICAgICAgdGhpcy5sYXRlc3RNZXNzYWdlcyA9IGZpbHRlcmVkTWVzc2FnZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNsZWFuIC0gUmVtb3ZlIHN0YWxlIGRhdGEgc3VjaCBhcyB1c2VycyB0aGF0IHN0YXllZCBpbiB0eXBpbmcgc3RhdGUgZm9yIG1vcmUgdGhhbiA1IHNlY29uZHNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNsZWFuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFuKCkge1xuICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7IC8vIHByZXZlbnQgb2xkIHVzZXJzIGZyb20gc2hvd2luZyB1cCBhcyB0eXBpbmdcblxuICAgICAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh0aGlzLnR5cGluZyk7IF9pIDwgX09iamVjdCRlbnRyaWVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgX09iamVjdCRlbnRyaWVzJF9pID0gX3NsaWNlZFRvQXJyYXkoX09iamVjdCRlbnRyaWVzW19pXSwgMiksXG4gICAgICAgICAgICB1c2VySUQgPSBfT2JqZWN0JGVudHJpZXMkX2lbMF0sXG4gICAgICAgICAgICBsYXN0RXZlbnQgPSBfT2JqZWN0JGVudHJpZXMkX2lbMV07XG5cbiAgICAgICAgdmFyIHJlY2VpdmVkQXQgPSB0eXBlb2YgbGFzdEV2ZW50LnJlY2VpdmVkX2F0ID09PSAnc3RyaW5nJyA/IG5ldyBEYXRlKGxhc3RFdmVudC5yZWNlaXZlZF9hdCkgOiBsYXN0RXZlbnQucmVjZWl2ZWRfYXQgfHwgbmV3IERhdGUoKTtcblxuICAgICAgICBpZiAobm93LmdldFRpbWUoKSAtIHJlY2VpdmVkQXQuZ2V0VGltZSgpID4gNzAwMCkge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnR5cGluZ1t1c2VySURdO1xuXG4gICAgICAgICAgdGhpcy5fY2hhbm5lbC5nZXRDbGllbnQoKS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgIGNpZDogdGhpcy5fY2hhbm5lbC5jaWQsXG4gICAgICAgICAgICB0eXBlOiAndHlwaW5nLnN0b3AnLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICBpZDogdXNlcklEXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYXJNZXNzYWdlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhck1lc3NhZ2VzKCkge1xuICAgICAgdGhpcy5pbml0TWVzc2FnZXMoKTtcbiAgICAgIHRoaXMucGlubmVkTWVzc2FnZXMgPSBbXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaW5pdE1lc3NhZ2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRNZXNzYWdlcygpIHtcbiAgICAgIHRoaXMubWVzc2FnZVNldHMgPSBbe1xuICAgICAgICBtZXNzYWdlczogW10sXG4gICAgICAgIGlzTGF0ZXN0OiB0cnVlLFxuICAgICAgICBpc0N1cnJlbnQ6IHRydWVcbiAgICAgIH1dO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBsb2FkTWVzc2FnZUludG9TdGF0ZSAtIExvYWRzIGEgZ2l2ZW4gbWVzc2FnZSAoYW5kIG1lc3NhZ2VzIGFyb3VuZCBpdCkgaW50byB0aGUgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlSWQgVGhlIGlkIG9mIHRoZSBtZXNzYWdlLCBvciAnbGF0ZXN0JyB0byBpbmRpY2F0ZSBzd2l0Y2hpbmcgdG8gdGhlIGxhdGVzdCBtZXNzYWdlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRNZXNzYWdlSWQgVGhlIGlkIG9mIHRoZSBwYXJlbnQgbWVzc2FnZSwgaWYgd2Ugd2FudCBsb2FkIGEgdGhyZWFkIHJlcGx5XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsb2FkTWVzc2FnZUludG9TdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2xvYWRNZXNzYWdlSW50b1N0YXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShtZXNzYWdlSWQsIHBhcmVudE1lc3NhZ2VJZCkge1xuICAgICAgICB2YXIgX3RoaXMkdGhyZWFkcyRwYXJlbnRNO1xuXG4gICAgICAgIHZhciBsaW1pdCxcbiAgICAgICAgICAgIG1lc3NhZ2VTZXRJbmRleCxcbiAgICAgICAgICAgIHN3aXRjaGVkVG9NZXNzYWdlU2V0LFxuICAgICAgICAgICAgbG9hZGVkTWVzc2FnZVRocmVhZCxcbiAgICAgICAgICAgIG1lc3NhZ2VJZFRvRmluZCxcbiAgICAgICAgICAgIF9hcmdzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGxpbWl0ID0gX2FyZ3MubGVuZ3RoID4gMiAmJiBfYXJnc1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3NbMl0gOiAyNTtcbiAgICAgICAgICAgICAgICBzd2l0Y2hlZFRvTWVzc2FnZVNldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxvYWRlZE1lc3NhZ2VUaHJlYWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWRUb0ZpbmQgPSBwYXJlbnRNZXNzYWdlSWQgfHwgbWVzc2FnZUlkO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEobWVzc2FnZUlkID09PSAnbGF0ZXN0JykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghKHRoaXMubWVzc2FnZXMgPT09IHRoaXMubGF0ZXN0TWVzc2FnZXMpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIG1lc3NhZ2VTZXRJbmRleCA9IHRoaXMubWVzc2FnZVNldHMuZmluZEluZGV4KGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcy5pc0xhdGVzdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICBtZXNzYWdlU2V0SW5kZXggPSB0aGlzLmZpbmRNZXNzYWdlU2V0SW5kZXgoe1xuICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2VJZFRvRmluZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VTZXRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9NZXNzYWdlU2V0KG1lc3NhZ2VTZXRJbmRleCk7XG4gICAgICAgICAgICAgICAgICBzd2l0Y2hlZFRvTWVzc2FnZVNldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbG9hZGVkTWVzc2FnZVRocmVhZCA9ICFwYXJlbnRNZXNzYWdlSWQgfHwgISEoKF90aGlzJHRocmVhZHMkcGFyZW50TSA9IHRoaXMudGhyZWFkc1twYXJlbnRNZXNzYWdlSWRdKSAhPT0gbnVsbCAmJiBfdGhpcyR0aHJlYWRzJHBhcmVudE0gIT09IHZvaWQgMCAmJiBfdGhpcyR0aHJlYWRzJHBhcmVudE0uZmluZChmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uaWQgPT09IG1lc3NhZ2VJZDtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIShzd2l0Y2hlZFRvTWVzc2FnZVNldCAmJiBsb2FkZWRNZXNzYWdlVGhyZWFkKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIGlmIChzd2l0Y2hlZFRvTWVzc2FnZVNldCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGFubmVsLnF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlkX2Fyb3VuZDogbWVzc2FnZUlkVG9GaW5kLFxuICAgICAgICAgICAgICAgICAgICBsaW1pdDogbGltaXRcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAnbmV3Jyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICBpZiAoISghbG9hZGVkTWVzc2FnZVRocmVhZCAmJiBwYXJlbnRNZXNzYWdlSWQpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5uZWwuZ2V0UmVwbGllcyhwYXJlbnRNZXNzYWdlSWQsIHtcbiAgICAgICAgICAgICAgICAgIGlkX2Fyb3VuZDogbWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgbGltaXQ6IGxpbWl0XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgICBtZXNzYWdlU2V0SW5kZXggPSB0aGlzLmZpbmRNZXNzYWdlU2V0SW5kZXgoe1xuICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2VJZFRvRmluZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VTZXRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9NZXNzYWdlU2V0KG1lc3NhZ2VTZXRJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGxvYWRNZXNzYWdlSW50b1N0YXRlKF94LCBfeDIpIHtcbiAgICAgICAgcmV0dXJuIF9sb2FkTWVzc2FnZUludG9TdGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbG9hZE1lc3NhZ2VJbnRvU3RhdGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZmluZE1lc3NhZ2UgLSBGaW5kcyBhIG1lc3NhZ2UgaW5zaWRlIHRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZCBUaGUgaWQgb2YgdGhlIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50TWVzc2FnZUlkIFRoZSBpZCBvZiB0aGUgcGFyZW50IG1lc3NhZ2UsIGlmIHdlIHdhbnQgbG9hZCBhIHRocmVhZCByZXBseVxuICAgICAqXG4gICAgICogQHJldHVybiB7UmV0dXJuVHlwZTxDaGFubmVsU3RhdGU8U3RyZWFtQ2hhdEdlbmVyaWNzPlsnZm9ybWF0TWVzc2FnZSddPn0gUmV0dXJucyB0aGUgbWVzc2FnZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBtZXNzYWdlIHdhc24ndCBmb3VuZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZmluZE1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZE1lc3NhZ2UobWVzc2FnZUlkLCBwYXJlbnRNZXNzYWdlSWQpIHtcbiAgICAgIGlmIChwYXJlbnRNZXNzYWdlSWQpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy50aHJlYWRzW3BhcmVudE1lc3NhZ2VJZF07XG5cbiAgICAgICAgaWYgKCFtZXNzYWdlcykge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWVzc2FnZXMuZmluZChmdW5jdGlvbiAobSkge1xuICAgICAgICAgIHJldHVybiBtLmlkID09PSBtZXNzYWdlSWQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWVzc2FnZVNldEluZGV4ID0gdGhpcy5maW5kTWVzc2FnZVNldEluZGV4KHtcbiAgICAgICAgaWQ6IG1lc3NhZ2VJZFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChtZXNzYWdlU2V0SW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VTZXRzW21lc3NhZ2VTZXRJbmRleF0ubWVzc2FnZXMuZmluZChmdW5jdGlvbiAobSkge1xuICAgICAgICByZXR1cm4gbS5pZCA9PT0gbWVzc2FnZUlkO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInN3aXRjaFRvTWVzc2FnZVNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzd2l0Y2hUb01lc3NhZ2VTZXQoaW5kZXgpIHtcbiAgICAgIHZhciBjdXJyZW50TWVzc2FnZXMgPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbmQoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgcmV0dXJuIHMuaXNDdXJyZW50O1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghY3VycmVudE1lc3NhZ2VzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY3VycmVudE1lc3NhZ2VzLmlzQ3VycmVudCA9IGZhbHNlO1xuICAgICAgdGhpcy5tZXNzYWdlU2V0c1tpbmRleF0uaXNDdXJyZW50ID0gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYXJlTWVzc2FnZVNldHNPdmVybGFwXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFyZU1lc3NhZ2VTZXRzT3ZlcmxhcChtZXNzYWdlczEsIG1lc3NhZ2VzMikge1xuICAgICAgcmV0dXJuIG1lc3NhZ2VzMS5zb21lKGZ1bmN0aW9uIChtMSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZXMyLmZpbmQoZnVuY3Rpb24gKG0yKSB7XG4gICAgICAgICAgcmV0dXJuIG0xLmlkID09PSBtMi5pZDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZmluZE1lc3NhZ2VTZXRJbmRleFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kTWVzc2FnZVNldEluZGV4KG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2VTZXRzLmZpbmRJbmRleChmdW5jdGlvbiAoc2V0KSB7XG4gICAgICAgIHJldHVybiAhIXNldC5tZXNzYWdlcy5maW5kKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgcmV0dXJuIG0uaWQgPT09IG1lc3NhZ2UuaWQ7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZpbmRUYXJnZXRNZXNzYWdlU2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRUYXJnZXRNZXNzYWdlU2V0KG5ld01lc3NhZ2VzKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIGFkZElmRG9lc05vdEV4aXN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0cnVlO1xuICAgICAgdmFyIG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICdjdXJyZW50JztcbiAgICAgIHZhciBtZXNzYWdlc1RvQWRkID0gbmV3TWVzc2FnZXM7XG4gICAgICB2YXIgdGFyZ2V0TWVzc2FnZVNldEluZGV4O1xuXG4gICAgICBpZiAoYWRkSWZEb2VzTm90RXhpc3QpIHtcbiAgICAgICAgdmFyIG92ZXJsYXBwaW5nTWVzc2FnZVNldEluZGljZXMgPSB0aGlzLm1lc3NhZ2VTZXRzLm1hcChmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM1LmFyZU1lc3NhZ2VTZXRzT3ZlcmxhcChfdGhpczUubWVzc2FnZVNldHNbaV0ubWVzc2FnZXMsIG5ld01lc3NhZ2VzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3dpdGNoIChtZXNzYWdlU2V0VG9BZGRUb0lmRG9lc05vdEV4aXN0KSB7XG4gICAgICAgICAgY2FzZSAnbmV3JzpcbiAgICAgICAgICAgIGlmIChvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gb3ZlcmxhcHBpbmdNZXNzYWdlU2V0SW5kaWNlc1swXTsgLy8gTm8gbmV3IG1lc3NhZ2Ugc2V0IGlzIGNyZWF0ZWQgaWYgbmV3TWVzc2FnZXMgb25seSBjb250YWlucyB0aHJlYWQgcmVwbGllc1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdNZXNzYWdlcy5zb21lKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgIHJldHVybiAhbS5wYXJlbnRfaWQ7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VTZXRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbXSxcbiAgICAgICAgICAgICAgICBpc0N1cnJlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzTGF0ZXN0OiBmYWxzZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gdGhpcy5tZXNzYWdlU2V0cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2N1cnJlbnQnOlxuICAgICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHMuaXNDdXJyZW50O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2xhdGVzdCc6XG4gICAgICAgICAgICB0YXJnZXRNZXNzYWdlU2V0SW5kZXggPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbmRJbmRleChmdW5jdGlvbiAocykge1xuICAgICAgICAgICAgICByZXR1cm4gcy5pc0xhdGVzdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGFyZ2V0TWVzc2FnZVNldEluZGV4ID0gLTE7XG4gICAgICAgIH0gLy8gd2hlbiBtZXJnaW5nIHRoZSB0YXJnZXQgc2V0IHdpbGwgYmUgdGhlIGZpcnN0IG9uZSBmcm9tIHRoZSBvdmVybGFwcGluZyBtZXNzYWdlIHNldHNcblxuXG4gICAgICAgIHZhciBtZXJnZVRhcmdldE1lc3NhZ2VTZXRJbmRleCA9IG92ZXJsYXBwaW5nTWVzc2FnZVNldEluZGljZXMuc3BsaWNlKDAsIDEpWzBdO1xuXG4gICAgICAgIHZhciBtZXJnZVNvdXJjZU1lc3NhZ2VTZXRJbmRpY2VzID0gX3RvQ29uc3VtYWJsZUFycmF5KG92ZXJsYXBwaW5nTWVzc2FnZVNldEluZGljZXMpO1xuXG4gICAgICAgIGlmIChtZXJnZVRhcmdldE1lc3NhZ2VTZXRJbmRleCAhPT0gdW5kZWZpbmVkICYmIG1lcmdlVGFyZ2V0TWVzc2FnZVNldEluZGV4ICE9PSB0YXJnZXRNZXNzYWdlU2V0SW5kZXgpIHtcbiAgICAgICAgICBtZXJnZVNvdXJjZU1lc3NhZ2VTZXRJbmRpY2VzLnB1c2godGFyZ2V0TWVzc2FnZVNldEluZGV4KTtcbiAgICAgICAgfSAvLyBtZXJnZSBtZXNzYWdlIHNldHNcblxuXG4gICAgICAgIGlmIChtZXJnZVNvdXJjZU1lc3NhZ2VTZXRJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5tZXNzYWdlU2V0c1ttZXJnZVRhcmdldE1lc3NhZ2VTZXRJbmRleF07XG4gICAgICAgICAgdmFyIHNvdXJjZXMgPSB0aGlzLm1lc3NhZ2VTZXRzLmZpbHRlcihmdW5jdGlvbiAoXywgaSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlU291cmNlTWVzc2FnZVNldEluZGljZXMuaW5kZXhPZihpKSAhPT0gLTE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXNzYWdlU2V0KSB7XG4gICAgICAgICAgICB0YXJnZXQuaXNMYXRlc3QgPSB0YXJnZXQuaXNMYXRlc3QgfHwgbWVzc2FnZVNldC5pc0xhdGVzdDtcbiAgICAgICAgICAgIHRhcmdldC5pc0N1cnJlbnQgPSB0YXJnZXQuaXNDdXJyZW50IHx8IG1lc3NhZ2VTZXQuaXNDdXJyZW50O1xuICAgICAgICAgICAgbWVzc2FnZXNUb0FkZCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobWVzc2FnZXNUb0FkZCksIF90b0NvbnN1bWFibGVBcnJheShtZXNzYWdlU2V0Lm1lc3NhZ2VzKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM1Lm1lc3NhZ2VTZXRzLnNwbGljZShfdGhpczUubWVzc2FnZVNldHMuaW5kZXhPZihzKSwgMSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIG92ZXJsYXBwaW5nTWVzc2FnZVNldEluZGV4ID0gdGhpcy5tZXNzYWdlU2V0cy5maW5kSW5kZXgoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczUuYXJlTWVzc2FnZVNldHNPdmVybGFwKHMubWVzc2FnZXMsIG5ld01lc3NhZ2VzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0YXJnZXRNZXNzYWdlU2V0SW5kZXggPSBvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRleDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYXNzdW1lcyB0aGF0IGFsbCBuZXcgbWVzc2FnZXMgYmVsb25nIHRvIHRoZSBzYW1lIHNldFxuICAgICAgICB0YXJnZXRNZXNzYWdlU2V0SW5kZXggPSB0aGlzLmZpbmRNZXNzYWdlU2V0SW5kZXgobmV3TWVzc2FnZXNbMF0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXRNZXNzYWdlU2V0SW5kZXg6IHRhcmdldE1lc3NhZ2VTZXRJbmRleCxcbiAgICAgICAgbWVzc2FnZXNUb0FkZDogbWVzc2FnZXNUb0FkZFxuICAgICAgfTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2hhbm5lbFN0YXRlO1xufSgpO1xuXG5mdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQzKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQzKG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDMobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQzKG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMyhvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDMoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIG93bktleXMkNihvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNih0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDYoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQ2KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG4vKipcbiAqIENoYW5uZWwgLSBUaGUgQ2hhbm5lbCBjbGFzcyBtYW5hZ2VzIGl0J3Mgb3duIHN0YXRlLlxuICovXG52YXIgQ2hhbm5lbCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIC8qKiAgKi9cblxuICAvKipcbiAgICogVGhpcyBib29sZWFuIGlzIGEgdmFndWUgaW5kaWNhdGlvbiBvZiB3ZWF0aGVyIHRoZSBjaGFubmVsIGV4aXN0cyBvbiBjaGF0IGJhY2tlbmQuXG4gICAqXG4gICAqIElmIHRoZSB2YWx1ZSBpcyB0cnVlLCB0aGVuIHRoYXQgbWVhbnMgdGhlIGNoYW5uZWwgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYnkgZWl0aGVyIGNhbGxpbmdcbiAgICogY2hhbm5lbC5jcmVhdGUoKSBvciBjaGFubmVsLnF1ZXJ5KCkgb3IgY2hhbm5lbC53YXRjaCgpLlxuICAgKlxuICAgKiBJZiB0aGUgdmFsdWUgaXMgZmFsc2UsIHRoZW4gY2hhbm5lbCBtYXkgb3IgbWF5IG5vdCBleGlzdCBvbiB0aGUgYmFja2VuZC4gVGhlIG9ubHkgd2F5IHRvIGVuc3VyZVxuICAgKiBpcyBieSBjYWxsaW5nIGNoYW5uZWwuY3JlYXRlKCkgb3IgY2hhbm5lbC5xdWVyeSgpIG9yIGNoYW5uZWwud2F0Y2goKS5cbiAgICovXG5cbiAgLyoqXG4gICAqIEluZGljYXRlcyB3ZWF0aGVyIGNoYW5uZWwgaGFzIGJlZW4gaW5pdGlhbGl6ZWQgYnkgbWFudWFsbHkgcG9wdWxhdGluZyB0aGUgc3RhdGUgd2l0aCBzb21lIG1lc3NhZ2VzLCBtZW1iZXJzIGV0Yy5cbiAgICogU3RhdGljIHN0YXRlIGluZGljYXRlcyB0aGF0IGNoYW5uZWwgZXhpc3RzIG9uIGJhY2tlbmQsIGJ1dCBpcyBub3QgYmVpbmcgd2F0Y2hlZCB5ZXQuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBjb25zdHJ1Y3RvciAtIENyZWF0ZSBhIGNoYW5uZWxcbiAgICpcbiAgICogQHBhcmFtIHtTdHJlYW1DaGF0PFN0cmVhbUNoYXRHZW5lcmljcz59IGNsaWVudCB0aGUgY2hhdCBjbGllbnRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgIHRoZSB0eXBlIG9mIGNoYW5uZWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtpZF0gIHRoZSBpZCBvZiB0aGUgY2hhdFxuICAgKiBAcGFyYW0ge0NoYW5uZWxEYXRhPFN0cmVhbUNoYXRHZW5lcmljcz59IGRhdGEgYW55IGFkZGl0aW9uYWwgY3VzdG9tIHBhcmFtc1xuICAgKlxuICAgKiBAcmV0dXJuIHtDaGFubmVsPFN0cmVhbUNoYXRHZW5lcmljcz59IFJldHVybnMgYSBuZXcgdW5pbml0aWFsaXplZCBjaGFubmVsXG4gICAqL1xuICBmdW5jdGlvbiBDaGFubmVsKGNsaWVudCwgdHlwZSwgaWQsIGRhdGEpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENoYW5uZWwpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NsaWVudFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidHlwZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhdGFcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kYXRhXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaWRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxpc3RlbmVyc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic3RhdGVcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluaXRpYWxpemVkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvZmZsaW5lTW9kZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibGFzdEtleVN0cm9rZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibGFzdFR5cGluZ0V2ZW50XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1R5cGluZ1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGlzY29ubmVjdGVkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjcmVhdGVcIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0T3B0aW9ucztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucyA9IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIG9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgd2F0Y2g6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgcHJlc2VuY2U6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnF1ZXJ5KGRlZmF1bHRPcHRpb25zLCAnbGF0ZXN0Jyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7XG4gICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2FsbENoYW5uZWxMaXN0ZW5lcnNcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IF90aGlzOyAvLyBnYXRoZXIgYW5kIGNhbGwgdGhlIGxpc3RlbmVyc1xuXG4gICAgICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgICAgIGlmIChjaGFubmVsLmxpc3RlbmVycy5hbGwpIHtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2guYXBwbHkobGlzdGVuZXJzLCBfdG9Db25zdW1hYmxlQXJyYXkoY2hhbm5lbC5saXN0ZW5lcnMuYWxsKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFubmVsLmxpc3RlbmVyc1tldmVudC50eXBlXSkge1xuICAgICAgICBsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIF90b0NvbnN1bWFibGVBcnJheShjaGFubmVsLmxpc3RlbmVyc1tldmVudC50eXBlXSkpO1xuICAgICAgfSAvLyBjYWxsIHRoZSBldmVudCBhbmQgc2VuZCBpdCB0byB0aGUgbGlzdGVuZXJzXG5cblxuICAgICAgZm9yICh2YXIgX2kgPSAwLCBfbGlzdGVuZXJzID0gbGlzdGVuZXJzOyBfaSA8IF9saXN0ZW5lcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IF9saXN0ZW5lcnNbX2ldO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2hhbm5lbFVSTFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIV90aGlzLmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2hhbm5lbCBpZCBpcyBub3QgZGVmaW5lZCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQoX3RoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCwgXCIvY2hhbm5lbHMvXCIpLmNvbmNhdChfdGhpcy50eXBlLCBcIi9cIikuY29uY2F0KF90aGlzLmlkKTtcbiAgICB9KTtcblxuICAgIHZhciB2YWxpZFR5cGVSZSA9IC9eW1xcd18tXSskLztcbiAgICB2YXIgdmFsaWRJRFJlID0gL15bXFx3IV8tXSskLztcblxuICAgIGlmICghdmFsaWRUeXBlUmUudGVzdCh0eXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGF0IHR5cGUgXCIuY29uY2F0KHR5cGUsIFwiLCBsZXR0ZXJzLCBudW1iZXJzIGFuZCBcXFwiXy1cXFwiIGFyZSBhbGxvd2VkXCIpKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJyAmJiAhdmFsaWRJRFJlLnRlc3QoaWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNoYXQgaWQgXCIuY29uY2F0KGlkLCBcIiwgbGV0dGVycywgbnVtYmVycyBhbmQgXFxcIiEtX1xcXCIgYXJlIGFsbG93ZWRcIikpO1xuICAgIH1cblxuICAgIHRoaXMuX2NsaWVudCA9IGNsaWVudDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuaWQgPSBpZDsgLy8gdXNlZCBieSB0aGUgZnJvbnRlbmQsIGdldHMgdXBkYXRlZDpcblxuICAgIHRoaXMuZGF0YSA9IGRhdGE7IC8vIHRoaXMuX2RhdGEgaXMgdXNlZCBmb3IgdGhlIHJlcXVlc3RzLi4uXG5cbiAgICB0aGlzLl9kYXRhID0gX29iamVjdFNwcmVhZCQ2KHt9LCBkYXRhKTtcbiAgICB0aGlzLmNpZCA9IFwiXCIuY29uY2F0KHR5cGUsIFwiOlwiKS5jb25jYXQoaWQpO1xuICAgIHRoaXMubGlzdGVuZXJzID0ge307IC8vIHBlcmhhcHMgdGhlIHN0YXRlIHZhcmlhYmxlIHNob3VsZCBiZSBwcml2YXRlXG5cbiAgICB0aGlzLnN0YXRlID0gbmV3IENoYW5uZWxTdGF0ZSh0aGlzKTtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgdGhpcy5vZmZsaW5lTW9kZSA9IGZhbHNlO1xuICAgIHRoaXMubGFzdFR5cGluZ0V2ZW50ID0gbnVsbDtcbiAgICB0aGlzLmlzVHlwaW5nID0gZmFsc2U7XG4gICAgdGhpcy5kaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogZ2V0Q2xpZW50IC0gR2V0IHRoZSBjaGF0IGNsaWVudCBmb3IgdGhpcyBjaGFubmVsLiBJZiBjbGllbnQuZGlzY29ubmVjdCgpIHdhcyBjYWxsZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCBlcnJvclxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJlYW1DaGF0PFN0cmVhbUNoYXRHZW5lcmljcz59XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENoYW5uZWwsIFt7XG4gICAga2V5OiBcImdldENsaWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDbGllbnQoKSB7XG4gICAgICBpZiAodGhpcy5kaXNjb25uZWN0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJZb3UgY2FuJ3QgdXNlIGEgY2hhbm5lbCBhZnRlciBjbGllbnQuZGlzY29ubmVjdCgpIHdhcyBjYWxsZWRcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9jbGllbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGdldENvbmZpZyAtIEdldCB0aGUgY29uZmlnIGZvciB0aGlzIGNoYW5uZWwgaWQgKGNpZClcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1JlY29yZDxzdHJpbmcsIHVua25vd24+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q29uZmlnXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbmZpZygpIHtcbiAgICAgIHZhciBjbGllbnQgPSB0aGlzLmdldENsaWVudCgpO1xuICAgICAgcmV0dXJuIGNsaWVudC5jb25maWdzW3RoaXMuY2lkXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc2VuZE1lc3NhZ2UgLSBTZW5kIGEgbWVzc2FnZSB0byB0aGlzIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBtZXNzYWdlIFRoZSBNZXNzYWdlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcF9lbnJpY2hfdXJsXSBEbyBub3QgdHJ5IHRvIGVucmljaCB0aGUgVVJMcyB3aXRoaW4gbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuc2tpcF9wdXNoXSBTa2lwIHNlbmRpbmcgcHVzaCBub3RpZmljYXRpb25zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc19wZW5kaW5nX21lc3NhZ2VdIERFUFJFQ0FURUQsIHBsZWFzZSB1c2UgYHBlbmRpbmdgIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wZW5kaW5nXSBNYWtlIHRoaXMgbWVzc2FnZSBwZW5kaW5nXG4gICAgICogQHBhcmFtIHtSZWNvcmQ8c3RyaW5nLHN0cmluZz59IFtvcHRpb25zLnBlbmRpbmdfbWVzc2FnZV9tZXRhZGF0YV0gTWV0YWRhdGEgZm9yIHRoZSBwZW5kaW5nIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlX21vZGVyYXRpb25dIEFwcGx5IGZvcmNlIG1vZGVyYXRpb24gZm9yIHNlcnZlci1zaWRlIHJlcXVlc3RzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFNlbmRNZXNzYWdlQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbmRNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2VuZE1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSArICcvbWVzc2FnZScsIF9vYmplY3RTcHJlYWQkNih7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlbmRNZXNzYWdlKF94MiwgX3gzKSB7XG4gICAgICAgIHJldHVybiBfc2VuZE1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbmRNZXNzYWdlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInNlbmRGaWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRGaWxlKHVyaSwgbmFtZSwgY29udGVudFR5cGUsIHVzZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnNlbmRGaWxlKFwiXCIuY29uY2F0KHRoaXMuX2NoYW5uZWxVUkwoKSwgXCIvZmlsZVwiKSwgdXJpLCBuYW1lLCBjb250ZW50VHlwZSwgdXNlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNlbmRJbWFnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kSW1hZ2UodXJpLCBuYW1lLCBjb250ZW50VHlwZSwgdXNlcikge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuc2VuZEZpbGUoXCJcIi5jb25jYXQodGhpcy5fY2hhbm5lbFVSTCgpLCBcIi9pbWFnZVwiKSwgdXJpLCBuYW1lLCBjb250ZW50VHlwZSwgdXNlcik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUZpbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlRmlsZSh1cmwpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmRlbGV0ZShcIlwiLmNvbmNhdCh0aGlzLl9jaGFubmVsVVJMKCksIFwiL2ZpbGVcIiksIHtcbiAgICAgICAgdXJsOiB1cmxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVJbWFnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVJbWFnZSh1cmwpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmRlbGV0ZShcIlwiLmNvbmNhdCh0aGlzLl9jaGFubmVsVVJMKCksIFwiL2ltYWdlXCIpLCB7XG4gICAgICAgIHVybDogdXJsXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogc2VuZEV2ZW50IC0gU2VuZCBhbiBldmVudCBvbiB0aGlzIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnQ8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gZXZlbnQgZm9yIGV4YW1wbGUge3R5cGU6ICdtZXNzYWdlLnJlYWQnfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxFdmVudEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgU2VydmVyIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZW5kRXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZW5kRXZlbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhldmVudCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL2V2ZW50Jywge1xuICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0My5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2VuZEV2ZW50KF94NCkge1xuICAgICAgICByZXR1cm4gX3NlbmRFdmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2VuZEV2ZW50O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHNlYXJjaCAtIFF1ZXJ5IG1lc3NhZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VGaWx0ZXJzPFN0cmVhbUNoYXRHZW5lcmljcz4gfCBzdHJpbmd9ICBxdWVyeSBzZWFyY2ggcXVlcnkgb3Igb2JqZWN0IE1vbmdvREIgc3R5bGUgZmlsdGVyc1xuICAgICAqIEBwYXJhbSB7e2NsaWVudF9pZD86IHN0cmluZzsgY29ubmVjdGlvbl9pZD86IHN0cmluZzsgcXVlcnk/OiBzdHJpbmc7IG1lc3NhZ2VfZmlsdGVyX2NvbmRpdGlvbnM/OiBNZXNzYWdlRmlsdGVyczxTdHJlYW1DaGF0R2VuZXJpY3M+fX0gb3B0aW9ucyBPcHRpb24gb2JqZWN0LCB7dXNlcl9pZDogJ3RvbW1hc28nfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxTZWFyY2hBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gc2VhcmNoIG1lc3NhZ2VzIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZWFyY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZWFyY2ggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChxdWVyeSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICBfYXJnczQgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczQubGVuZ3RoID4gMSAmJiBfYXJnczRbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNFsxXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucy5vZmZzZXQgJiYgb3B0aW9ucy5uZXh0KSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc3BlY2lmeSBvZmZzZXQgd2l0aCBuZXh0XCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYSBsaXN0IG9mIGNoYW5uZWxzXG4gICAgICAgICAgICAgICAgcGF5bG9hZCA9IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe1xuICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgY2lkOiB0aGlzLmNpZFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgICAgICAgICAgc29ydDogb3B0aW9ucy5zb3J0ID8gbm9ybWFsaXplUXVlcnlTb3J0KG9wdGlvbnMuc29ydCkgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBxdWVyeSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYXlsb2FkLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgaWYgKCEoX3R5cGVvZihxdWVyeSkgPT09ICdvYmplY3QnKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBheWxvYWQubWVzc2FnZV9maWx0ZXJfY29uZGl0aW9ucyA9IHF1ZXJ5O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgdHlwZSBcIi5jb25jYXQoX3R5cGVvZihxdWVyeSksIFwiIGZvciBxdWVyeSBwYXJhbWV0ZXJcIikpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS53c1Byb21pc2U7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE3O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmdldCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyAnL3NlYXJjaCcsIHtcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlYXJjaChfeDUpIHtcbiAgICAgICAgcmV0dXJuIF9zZWFyY2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlYXJjaDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBxdWVyeU1lbWJlcnMgLSBRdWVyeSBNZW1iZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1VzZXJGaWx0ZXJzPFN0cmVhbUNoYXRHZW5lcmljcz59ICBmaWx0ZXJDb25kaXRpb25zIG9iamVjdCBNb25nb0RCIHN0eWxlIGZpbHRlcnNcbiAgICAgKiBAcGFyYW0ge01lbWJlclNvcnQ8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW3NvcnRdIFNvcnQgb3B0aW9ucywgZm9yIGluc3RhbmNlIFt7Y3JlYXRlZF9hdDogLTF9XS5cbiAgICAgKiBXaGVuIHVzaW5nIG11bHRpcGxlIGZpZWxkcywgbWFrZSBzdXJlIHlvdSB1c2UgYXJyYXkgb2Ygb2JqZWN0cyB0byBndWFyYW50ZWUgZmllbGQgb3JkZXIsIGZvciBpbnN0YW5jZSBbe25hbWU6IC0xfSwge2NyZWF0ZWRfYXQ6IDF9XVxuICAgICAqIEBwYXJhbSB7eyBsaW1pdD86IG51bWJlcjsgb2Zmc2V0PzogbnVtYmVyIH19IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCB7bGltaXQ6IDEwLCBvZmZzZXQ6MTB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPENoYW5uZWxNZW1iZXJBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gUXVlcnkgTWVtYmVycyByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicXVlcnlNZW1iZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlNZW1iZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoZmlsdGVyQ29uZGl0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMkZGF0YTtcblxuICAgICAgICB2YXIgc29ydCxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBtZW1iZXJzLFxuICAgICAgICAgICAgX2FyZ3M1ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzb3J0ID0gX2FyZ3M1Lmxlbmd0aCA+IDEgJiYgX2FyZ3M1WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczVbMV0gOiBbXTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M1Lmxlbmd0aCA+IDIgJiYgX2FyZ3M1WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczVbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICB0eXBlID0gdGhpcy50eXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICAgIGlkID0gdGhpcy5pZDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChfdGhpcyRkYXRhID0gdGhpcy5kYXRhKSAhPT0gbnVsbCAmJiBfdGhpcyRkYXRhICE9PSB2b2lkIDAgJiYgX3RoaXMkZGF0YS5tZW1iZXJzICYmIEFycmF5LmlzQXJyYXkodGhpcy5kYXRhLm1lbWJlcnMpKSB7XG4gICAgICAgICAgICAgICAgICBtZW1iZXJzID0gdGhpcy5kYXRhLm1lbWJlcnM7XG4gICAgICAgICAgICAgICAgfSAvLyBSZXR1cm4gYSBsaXN0IG9mIG1lbWJlcnNcblxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmdldCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyAnL21lbWJlcnMnLCB7XG4gICAgICAgICAgICAgICAgICBwYXlsb2FkOiBfb2JqZWN0U3ByZWFkJDYoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlcnM6IG1lbWJlcnMsXG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6IG5vcm1hbGl6ZVF1ZXJ5U29ydChzb3J0KSxcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IGZpbHRlckNvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnlNZW1iZXJzKF94Nikge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5TWVtYmVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcXVlcnlNZW1iZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHNlbmRSZWFjdGlvbiAtIFNlbmQgYSByZWFjdGlvbiBhYm91dCBhIG1lc3NhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlSUQgdGhlIG1lc3NhZ2UgaWRcbiAgICAgKiBAcGFyYW0ge1JlYWN0aW9uPFN0cmVhbUNoYXRHZW5lcmljcz59IHJlYWN0aW9uIHRoZSByZWFjdGlvbiBvYmplY3QgZm9yIGluc3RhbmNlIHt0eXBlOiAnbG92ZSd9XG4gICAgICogQHBhcmFtIHt7IGVuZm9yY2VfdW5pcXVlPzogYm9vbGVhbiwgc2tpcF9wdXNoPzogYm9vbGVhbiB9fSBbb3B0aW9uc10gT3B0aW9uIG9iamVjdCwge2VuZm9yY2VfdW5pcXVlOiB0cnVlLCBza2lwX3B1c2g6IHRydWV9IHRvIG92ZXJyaWRlIGFueSBleGlzdGluZyByZWFjdGlvbiBvciBza2lwIHNlbmRpbmcgcHVzaCBub3RpZmljYXRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFJlYWN0aW9uQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbmRSZWFjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NlbmRSZWFjdGlvbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KG1lc3NhZ2VJRCwgcmVhY3Rpb24sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VJRCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJNZXNzYWdlIGlkIGlzIG1pc3NpbmdcIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICghKCFyZWFjdGlvbiB8fCBPYmplY3Qua2V5cyhyZWFjdGlvbikubGVuZ3RoID09PSAwKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJSZWFjdGlvbiBvYmplY3QgaXMgbWlzc2luZ1wiKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5nZXRDbGllbnQoKS5iYXNlVVJMICsgXCIvbWVzc2FnZXMvXCIuY29uY2F0KG1lc3NhZ2VJRCwgXCIvcmVhY3Rpb25cIiksIF9vYmplY3RTcHJlYWQkNih7XG4gICAgICAgICAgICAgICAgICByZWFjdGlvbjogcmVhY3Rpb25cbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Ni5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2VuZFJlYWN0aW9uKF94NywgX3g4LCBfeDkpIHtcbiAgICAgICAgcmV0dXJuIF9zZW5kUmVhY3Rpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbmRSZWFjdGlvbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWxldGVSZWFjdGlvbiAtIERlbGV0ZSBhIHJlYWN0aW9uIGJ5IHVzZXIgYW5kIHR5cGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlSUQgdGhlIGlkIG9mIHRoZSBtZXNzYWdlIGZyb20gd2hpY2ggdGUgcmVtb3ZlIHRoZSByZWFjdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZWFjdGlvblR5cGUgdGhlIHR5cGUgb2YgcmVhY3Rpb24gdGhhdCBzaG91bGQgYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcl9pZF0gdGhlIGlkIG9mIHRoZSB1c2VyICh1c2VkIG9ubHkgZm9yIHNlcnZlciBzaWRlIHJlcXVlc3QpIGRlZmF1bHQgbnVsbFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxSZWFjdGlvbkFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgU2VydmVyIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVSZWFjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVSZWFjdGlvbihtZXNzYWdlSUQsIHJlYWN0aW9uVHlwZSwgdXNlcl9pZCkge1xuICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICBpZiAoIXJlYWN0aW9uVHlwZSB8fCAhbWVzc2FnZUlEKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdEZWxldGluZyBhIHJlYWN0aW9uIHJlcXVpcmVzIHNwZWNpZnlpbmcgYm90aCB0aGUgbWVzc2FnZSBhbmQgcmVhY3Rpb24gdHlwZScpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdXJsID0gdGhpcy5nZXRDbGllbnQoKS5iYXNlVVJMICsgXCIvbWVzc2FnZXMvXCIuY29uY2F0KG1lc3NhZ2VJRCwgXCIvcmVhY3Rpb24vXCIpLmNvbmNhdChyZWFjdGlvblR5cGUpOyAvL3Byb3ZpZGVkIHdoZW4gc2VydmVyIHNpZGUgcmVxdWVzdFxuXG4gICAgICBpZiAodXNlcl9pZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5kZWxldGUodXJsLCB7XG4gICAgICAgICAgdXNlcl9pZDogdXNlcl9pZFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZGVsZXRlKHVybCwge30pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGUgLSBFZGl0IHRoZSBjaGFubmVsJ3MgY3VzdG9tIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbERhdGE8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gY2hhbm5lbERhdGEgVGhlIG9iamVjdCB0byB1cGRhdGUgdGhlIGN1c3RvbSBwcm9wZXJ0aWVzIG9mIHRoaXMgY2hhbm5lbCB3aXRoXG4gICAgICogQHBhcmFtIHtNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59IFt1cGRhdGVNZXNzYWdlXSBPcHRpb25hbCBtZXNzYWdlIG9iamVjdCBmb3IgY2hhbm5lbCBtZW1iZXJzIG5vdGlmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbFVwZGF0ZU9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCBjb25maWd1cmF0aW9uIHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIHdoaWxlIHVwZGF0aW5nXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZTIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHtcbiAgICAgICAgdmFyIGNoYW5uZWxEYXRhLFxuICAgICAgICAgICAgdXBkYXRlTWVzc2FnZSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICByZXNlcnZlZCxcbiAgICAgICAgICAgIF9hcmdzNyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgY2hhbm5lbERhdGEgPSBfYXJnczcubGVuZ3RoID4gMCAmJiBfYXJnczdbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzN1swXSA6IHt9O1xuICAgICAgICAgICAgICAgIHVwZGF0ZU1lc3NhZ2UgPSBfYXJnczcubGVuZ3RoID4gMSA/IF9hcmdzN1sxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M3Lmxlbmd0aCA+IDIgPyBfYXJnczdbMl0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgLy8gU3RyaXAgb3V0IHJlc2VydmVkIG5hbWVzIHRoYXQgd2lsbCByZXN1bHQgaW4gQVBJIGVycm9ycy5cbiAgICAgICAgICAgICAgICByZXNlcnZlZCA9IFsnY29uZmlnJywgJ2NpZCcsICdjcmVhdGVkX2J5JywgJ2lkJywgJ21lbWJlcl9jb3VudCcsICd0eXBlJywgJ2NyZWF0ZWRfYXQnLCAndXBkYXRlZF9hdCcsICdsYXN0X21lc3NhZ2VfYXQnLCAnb3duX2NhcGFiaWxpdGllcyddO1xuICAgICAgICAgICAgICAgIHJlc2VydmVkLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIGNoYW5uZWxEYXRhW2tleV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA3O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoX29iamVjdFNwcmVhZCQ2KHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHVwZGF0ZU1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBjaGFubmVsRGF0YVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVwZGF0ZVBhcnRpYWwgLSBwYXJ0aWFsIHVwZGF0ZSBjaGFubmVsIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UGFydGlhbFVwZGF0ZUNoYW5uZWw8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gcGFydGlhbCB1cGRhdGUgcmVxdWVzdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxQYXJ0aWFsVXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUGFydGlhbFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZVBhcnRpYWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCh1cGRhdGUpIHtcbiAgICAgICAgdmFyIF90aGlzJGRhdGEyLCBfdGhpcyRkYXRhMztcblxuICAgICAgICB2YXIgZGF0YSwgYXJlQ2FwYWJpbGl0aWVzQ2hhbmdlZDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBhdGNoKHRoaXMuX2NoYW5uZWxVUkwoKSwgdXBkYXRlKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0OC5zZW50O1xuICAgICAgICAgICAgICAgIGFyZUNhcGFiaWxpdGllc0NoYW5nZWQgPSBfdG9Db25zdW1hYmxlQXJyYXkoZGF0YS5jaGFubmVsLm93bl9jYXBhYmlsaXRpZXMgfHwgW10pLnNvcnQoKS5qb2luKCkgIT09IF90b0NvbnN1bWFibGVBcnJheShBcnJheS5pc0FycmF5KChfdGhpcyRkYXRhMiA9IHRoaXMuZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGRhdGEyLm93bl9jYXBhYmlsaXRpZXMpID8gKF90aGlzJGRhdGEzID0gdGhpcy5kYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZGF0YTMub3duX2NhcGFiaWxpdGllcyA6IFtdKS5zb3J0KCkuam9pbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGEuY2hhbm5lbDsgLy8gSWYgdGhlIGNhcGFiaWx0aXRpZXMgYXJlIGNoYW5nZWQsIHdlIHRyaWdnZXIgdGhlIGBjYXBhYmlsaXRpZXMuY2hhbmdlZGAgZXZlbnQuXG5cbiAgICAgICAgICAgICAgICBpZiAoYXJlQ2FwYWJpbGl0aWVzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NhcGFiaWxpdGllcy5jaGFuZ2VkJyxcbiAgICAgICAgICAgICAgICAgICAgY2lkOiB0aGlzLmNpZCxcbiAgICAgICAgICAgICAgICAgICAgb3duX2NhcGFiaWxpdGllczogZGF0YS5jaGFubmVsLm93bl9jYXBhYmlsaXRpZXNcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KFwicmV0dXJuXCIsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVQYXJ0aWFsKF94MTApIHtcbiAgICAgICAgcmV0dXJuIF91cGRhdGVQYXJ0aWFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRhdGVQYXJ0aWFsO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGVuYWJsZVNsb3dNb2RlIC0gZW5hYmxlIHNsb3cgbW9kZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvb2xEb3duSW50ZXJ2YWwgdGhlIGNvb2xkb3duIGludGVydmFsIGluIHNlY29uZHNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZW5hYmxlU2xvd01vZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9lbmFibGVTbG93TW9kZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KGNvb2xEb3duSW50ZXJ2YWwpIHtcbiAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSwge1xuICAgICAgICAgICAgICAgICAgY29vbGRvd246IGNvb2xEb3duSW50ZXJ2YWxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0OS5zZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGEuY2hhbm5lbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdChcInJldHVyblwiLCBkYXRhKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZW5hYmxlU2xvd01vZGUoX3gxMSkge1xuICAgICAgICByZXR1cm4gX2VuYWJsZVNsb3dNb2RlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlbmFibGVTbG93TW9kZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkaXNhYmxlU2xvd01vZGUgLSBkaXNhYmxlIHNsb3cgbW9kZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRpc2FibGVTbG93TW9kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2Rpc2FibGVTbG93TW9kZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHtcbiAgICAgICAgdmFyIGRhdGE7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QodGhpcy5fY2hhbm5lbFVSTCgpLCB7XG4gICAgICAgICAgICAgICAgICBjb29sZG93bjogMFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQxMC5zZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGEuY2hhbm5lbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoXCJyZXR1cm5cIiwgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZGlzYWJsZVNsb3dNb2RlKCkge1xuICAgICAgICByZXR1cm4gX2Rpc2FibGVTbG93TW9kZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGlzYWJsZVNsb3dNb2RlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGRlbGV0ZSAtIERlbGV0ZSB0aGUgY2hhbm5lbC4gTWVzc2FnZXMgYXJlIHBlcm1hbmVudGx5IHJlbW92ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmhhcmRfZGVsZXRlXSBEZWZpbmVzIGlmIHRoZSBjaGFubmVsIGlzIGhhcmQgZGVsZXRlZCBvciBub3RcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8RGVsZXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWxldGUyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTExKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTEgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxMS5sZW5ndGggPiAwICYmIF9hcmdzMTFbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTFbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmRlbGV0ZSh0aGlzLl9jaGFubmVsVVJMKCksIF9vYmplY3RTcHJlYWQkNih7fSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxMS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfZGVsZXRlKCkge1xuICAgICAgICByZXR1cm4gX2RlbGV0ZTIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9kZWxldGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdHJ1bmNhdGUgLSBSZW1vdmVzIGFsbCBtZXNzYWdlcyBmcm9tIHRoZSBjaGFubmVsXG4gICAgICogQHBhcmFtIHtUcnVuY2F0ZU9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW29wdGlvbnNdIERlZmluZXMgdHJ1bmNhdGlvbiBvcHRpb25zXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxUcnVuY2F0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidHJ1bmNhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90cnVuY2F0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczEyID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMTIubGVuZ3RoID4gMCAmJiBfYXJnczEyWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczEyWzBdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSArICcvdHJ1bmNhdGUnLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdHJ1bmNhdGUoKSB7XG4gICAgICAgIHJldHVybiBfdHJ1bmNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydW5jYXRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGFjY2VwdEludml0ZSAtIGFjY2VwdCBpbnZpdGF0aW9uIHRvIHRoZSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ludml0ZU9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW29wdGlvbnNdIFRoZSBvYmplY3QgdG8gdXBkYXRlIHRoZSBjdXN0b20gcHJvcGVydGllcyBvZiB0aGlzIGNoYW5uZWwgd2l0aFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFjY2VwdEludml0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2FjY2VwdEludml0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczEzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMTMubGVuZ3RoID4gMCAmJiBfYXJnczEzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczEzWzBdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKF9vYmplY3RTcHJlYWQkNih7XG4gICAgICAgICAgICAgICAgICBhY2NlcHRfaW52aXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxMy5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBhY2NlcHRJbnZpdGUoKSB7XG4gICAgICAgIHJldHVybiBfYWNjZXB0SW52aXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY2NlcHRJbnZpdGU7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcmVqZWN0SW52aXRlIC0gcmVqZWN0IGludml0YXRpb24gdG8gdGhlIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SW52aXRlT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbb3B0aW9uc10gVGhlIG9iamVjdCB0byB1cGRhdGUgdGhlIGN1c3RvbSBwcm9wZXJ0aWVzIG9mIHRoaXMgY2hhbm5lbCB3aXRoXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVqZWN0SW52aXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVqZWN0SW52aXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTQgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxNC5sZW5ndGggPiAwICYmIF9hcmdzMTRbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTRbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoX29iamVjdFNwcmVhZCQ2KHtcbiAgICAgICAgICAgICAgICAgIHJlamVjdF9pbnZpdGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlamVjdEludml0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWplY3RJbnZpdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlamVjdEludml0ZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBhZGRNZW1iZXJzIC0gYWRkIG1lbWJlcnMgdG8gdGhlIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7e3VzZXJfaWQ6IHN0cmluZywgY2hhbm5lbF9yb2xlPzogUm9sZX1bXX0gbWVtYmVycyBBbiBhcnJheSBvZiBtZW1iZXJzIHRvIGFkZCB0byB0aGUgY2hhbm5lbFxuICAgICAqIEBwYXJhbSB7TWVzc2FnZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbbWVzc2FnZV0gT3B0aW9uYWwgbWVzc2FnZSBvYmplY3QgZm9yIGNoYW5uZWwgbWVtYmVycyBub3RpZmljYXRpb25cbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxVcGRhdGVPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uIG9iamVjdCwgY29uZmlndXJhdGlvbiB0byBjb250cm9sIHRoZSBiZWhhdmlvciB3aGlsZSB1cGRhdGluZ1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRNZW1iZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYWRkTWVtYmVycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNShtZW1iZXJzLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxNSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczE1Lmxlbmd0aCA+IDIgJiYgX2FyZ3MxNVsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxNVsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShfb2JqZWN0U3ByZWFkJDYoe1xuICAgICAgICAgICAgICAgICAgYWRkX21lbWJlcnM6IG1lbWJlcnMsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxNS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBhZGRNZW1iZXJzKF94MTIsIF94MTMpIHtcbiAgICAgICAgcmV0dXJuIF9hZGRNZW1iZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRNZW1iZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGFkZE1vZGVyYXRvcnMgLSBhZGQgbW9kZXJhdG9ycyB0byB0aGUgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbWVtYmVycyBBbiBhcnJheSBvZiBtZW1iZXIgaWRlbnRpZmllcnNcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW21lc3NhZ2VdIE9wdGlvbmFsIG1lc3NhZ2Ugb2JqZWN0IGZvciBjaGFubmVsIG1lbWJlcnMgbm90aWZpY2F0aW9uXG4gICAgICogQHBhcmFtIHtDaGFubmVsVXBkYXRlT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbiBvYmplY3QsIGNvbmZpZ3VyYXRpb24gdG8gY29udHJvbCB0aGUgYmVoYXZpb3Igd2hpbGUgdXBkYXRpbmdcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkTW9kZXJhdG9yc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2FkZE1vZGVyYXRvcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYobWVtYmVycywgbWVzc2FnZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTYgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE2JChfY29udGV4dDE2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxNi5sZW5ndGggPiAyICYmIF9hcmdzMTZbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTZbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoX29iamVjdFNwcmVhZCQ2KHtcbiAgICAgICAgICAgICAgICAgIGFkZF9tb2RlcmF0b3JzOiBtZW1iZXJzLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTYuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYWRkTW9kZXJhdG9ycyhfeDE0LCBfeDE1KSB7XG4gICAgICAgIHJldHVybiBfYWRkTW9kZXJhdG9ycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkTW9kZXJhdG9ycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBhc3NpZ25Sb2xlcyAtIHNldHMgbWVtYmVyIHJvbGVzIGluIGEgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHt7Y2hhbm5lbF9yb2xlOiBSb2xlLCB1c2VyX2lkOiBzdHJpbmd9W119IHJvbGVzIExpc3Qgb2Ygcm9sZSBhc3NpZ25tZW50c1xuICAgICAqIEBwYXJhbSB7TWVzc2FnZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbbWVzc2FnZV0gT3B0aW9uYWwgbWVzc2FnZSBvYmplY3QgZm9yIGNoYW5uZWwgbWVtYmVycyBub3RpZmljYXRpb25cbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxVcGRhdGVPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uIG9iamVjdCwgY29uZmlndXJhdGlvbiB0byBjb250cm9sIHRoZSBiZWhhdmlvciB3aGlsZSB1cGRhdGluZ1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8VXBkYXRlQ2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhc3NpZ25Sb2xlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2Fzc2lnblJvbGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KHJvbGVzLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxNyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczE3Lmxlbmd0aCA+IDIgJiYgX2FyZ3MxN1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxN1syXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShfb2JqZWN0U3ByZWFkJDYoe1xuICAgICAgICAgICAgICAgICAgYXNzaWduX3JvbGVzOiByb2xlcyxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGFzc2lnblJvbGVzKF94MTYsIF94MTcpIHtcbiAgICAgICAgcmV0dXJuIF9hc3NpZ25Sb2xlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYXNzaWduUm9sZXM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogaW52aXRlTWVtYmVycyAtIGludml0ZSBtZW1iZXJzIHRvIHRoZSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3t1c2VyX2lkOiBzdHJpbmcsIGNoYW5uZWxfcm9sZT86IFJvbGV9W119IG1lbWJlcnMgQW4gYXJyYXkgb2YgbWVtYmVycyB0byBpbnZpdGUgdG8gdGhlIGNoYW5uZWxcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW21lc3NhZ2VdIE9wdGlvbmFsIG1lc3NhZ2Ugb2JqZWN0IGZvciBjaGFubmVsIG1lbWJlcnMgbm90aWZpY2F0aW9uXG4gICAgICogQHBhcmFtIHtDaGFubmVsVXBkYXRlT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbiBvYmplY3QsIGNvbmZpZ3VyYXRpb24gdG8gY29udHJvbCB0aGUgYmVoYXZpb3Igd2hpbGUgdXBkYXRpbmdcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaW52aXRlTWVtYmVyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2ludml0ZU1lbWJlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgobWVtYmVycywgbWVzc2FnZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTggPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxOC5sZW5ndGggPiAyICYmIF9hcmdzMThbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMThbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoX29iamVjdFNwcmVhZCQ2KHtcbiAgICAgICAgICAgICAgICAgIGludml0ZXM6IG1lbWJlcnMsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxOC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBpbnZpdGVNZW1iZXJzKF94MTgsIF94MTkpIHtcbiAgICAgICAgcmV0dXJuIF9pbnZpdGVNZW1iZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnZpdGVNZW1iZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlbW92ZU1lbWJlcnMgLSByZW1vdmUgbWVtYmVycyBmcm9tIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IG1lbWJlcnMgQW4gYXJyYXkgb2YgbWVtYmVyIGlkZW50aWZpZXJzXG4gICAgICogQHBhcmFtIHtNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59IFttZXNzYWdlXSBPcHRpb25hbCBtZXNzYWdlIG9iamVjdCBmb3IgY2hhbm5lbCBtZW1iZXJzIG5vdGlmaWNhdGlvblxuICAgICAqIEBwYXJhbSB7Q2hhbm5lbFVwZGF0ZU9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb24gb2JqZWN0LCBjb25maWd1cmF0aW9uIHRvIGNvbnRyb2wgdGhlIGJlaGF2aW9yIHdoaWxlIHVwZGF0aW5nXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZU1lbWJlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZW1vdmVNZW1iZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KG1lbWJlcnMsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczE5ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMTkubGVuZ3RoID4gMiAmJiBfYXJnczE5WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczE5WzJdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKF9vYmplY3RTcHJlYWQkNih7XG4gICAgICAgICAgICAgICAgICByZW1vdmVfbWVtYmVyczogbWVtYmVycyxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE5LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxOSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZU1lbWJlcnMoX3gyMCwgX3gyMSkge1xuICAgICAgICByZXR1cm4gX3JlbW92ZU1lbWJlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbW92ZU1lbWJlcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZGVtb3RlTW9kZXJhdG9ycyAtIHJlbW92ZSBtb2RlcmF0b3Igcm9sZSBmcm9tIGNoYW5uZWwgbWVtYmVyc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbWVtYmVycyBBbiBhcnJheSBvZiBtZW1iZXIgaWRlbnRpZmllcnNcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW21lc3NhZ2VdIE9wdGlvbmFsIG1lc3NhZ2Ugb2JqZWN0IGZvciBjaGFubmVsIG1lbWJlcnMgbm90aWZpY2F0aW9uXG4gICAgICogQHBhcmFtIHtDaGFubmVsVXBkYXRlT3B0aW9uc30gW29wdGlvbnNdIE9wdGlvbiBvYmplY3QsIGNvbmZpZ3VyYXRpb24gdG8gY29udHJvbCB0aGUgYmVoYXZpb3Igd2hpbGUgdXBkYXRpbmdcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFVwZGF0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVtb3RlTW9kZXJhdG9yc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbW90ZU1vZGVyYXRvcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAobWVtYmVycywgbWVzc2FnZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMjAgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MyMC5sZW5ndGggPiAyICYmIF9hcmdzMjBbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMjBbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUoX29iamVjdFNwcmVhZCQ2KHtcbiAgICAgICAgICAgICAgICAgIGRlbW90ZV9tb2RlcmF0b3JzOiBtZW1iZXJzLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjAuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZGVtb3RlTW9kZXJhdG9ycyhfeDIyLCBfeDIzKSB7XG4gICAgICAgIHJldHVybiBfZGVtb3RlTW9kZXJhdG9ycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVtb3RlTW9kZXJhdG9ycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfdXBkYXRlIC0gZXhlY3V0ZXMgY2hhbm5lbCB1cGRhdGUgcmVxdWVzdFxuICAgICAqIEBwYXJhbSBwYXlsb2FkIE9iamVjdCBVcGRhdGUgQ2hhbm5lbCBwYXlsb2FkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxVcGRhdGVDaGFubmVsQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IFRoZSBzZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKiBUT0RPOiBpbnRyb2R1Y2UgbmV3IHR5cGUgaW5zdGVhZCBvZiBPYmplY3QgaW4gdGhlIG5leHQgbWFqb3IgdXBkYXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfdXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkYXRlMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMShwYXlsb2FkKSB7XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSwgcGF5bG9hZCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIxLnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YS5jaGFubmVsO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLmFicnVwdChcInJldHVyblwiLCBkYXRhKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfdXBkYXRlKF94MjQpIHtcbiAgICAgICAgcmV0dXJuIF91cGRhdGUzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdXBkYXRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIG11dGUgLSBtdXRlcyB0aGUgY3VycmVudCBjaGFubmVsXG4gICAgICogQHBhcmFtIHt7IHVzZXJfaWQ/OiBzdHJpbmcsIGV4cGlyYXRpb24/OiBzdHJpbmcgfX0gb3B0cyBleHBpcmF0aW9uIGluIG1pbnV0ZXMgb3IgdXNlcl9pZFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8TXV0ZUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqXG4gICAgICogZXhhbXBsZSB3aXRoIGV4cGlyYXRpb246XG4gICAgICogYXdhaXQgY2hhbm5lbC5tdXRlKHtleHBpcmF0aW9uOiBtb21lbnQuZHVyYXRpb24oMiwgJ3dlZWtzJyl9KTtcbiAgICAgKlxuICAgICAqIGV4YW1wbGUgc2VydmVyIHNpZGU6XG4gICAgICogYXdhaXQgY2hhbm5lbC5tdXRlKHt1c2VyX2lkOiB1c2VySWR9KTtcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibXV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX211dGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIoKSB7XG4gICAgICAgIHZhciBvcHRzLFxuICAgICAgICAgICAgX2FyZ3MyMiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjIkKF9jb250ZXh0MjIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIyLnByZXYgPSBfY29udGV4dDIyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdHMgPSBfYXJnczIyLmxlbmd0aCA+IDAgJiYgX2FyZ3MyMlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyMlswXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vbXV0ZS9jaGFubmVsJywgX29iamVjdFNwcmVhZCQ2KHtcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxfY2lkOiB0aGlzLmNpZFxuICAgICAgICAgICAgICAgIH0sIG9wdHMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gbXV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9tdXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtdXRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVubXV0ZSAtIG11dGVzIHRoZSBjdXJyZW50IGNoYW5uZWxcbiAgICAgKiBAcGFyYW0ge3sgdXNlcl9pZD86IHN0cmluZ319IG9wdHMgdXNlcl9pZFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVBJUmVzcG9uc2U+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICpcbiAgICAgKiBleGFtcGxlIHNlcnZlciBzaWRlOlxuICAgICAqIGF3YWl0IGNoYW5uZWwudW5tdXRlKHt1c2VyX2lkOiB1c2VySWR9KTtcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVubXV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VubXV0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMygpIHtcbiAgICAgICAgdmFyIG9wdHMsXG4gICAgICAgICAgICBfYXJnczIzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0cyA9IF9hcmdzMjMubGVuZ3RoID4gMCAmJiBfYXJnczIzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczIzWzBdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCArICcvbW9kZXJhdGlvbi91bm11dGUvY2hhbm5lbCcsIF9vYmplY3RTcHJlYWQkNih7XG4gICAgICAgICAgICAgICAgICBjaGFubmVsX2NpZDogdGhpcy5jaWRcbiAgICAgICAgICAgICAgICB9LCBvcHRzKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDIzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVubXV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF91bm11dGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVubXV0ZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBtdXRlU3RhdHVzIC0gcmV0dXJucyB0aGUgbXV0ZSBzdGF0dXMgZm9yIHRoZSBjdXJyZW50IGNoYW5uZWxcbiAgICAgKiBAcmV0dXJuIHt7IG11dGVkOiBib29sZWFuOyBjcmVhdGVkQXQ6IERhdGUgfCBudWxsOyBleHBpcmVzQXQ6IERhdGUgfCBudWxsIH19IHsgbXV0ZWQ6IHRydWUgfCBmYWxzZSwgY3JlYXRlZEF0OiBEYXRlIHwgbnVsbCwgZXhwaXJlc0F0OiBEYXRlIHwgbnVsbH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm11dGVTdGF0dXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbXV0ZVN0YXR1cygpIHtcbiAgICAgIHRoaXMuX2NoZWNrSW5pdGlhbGl6ZWQoKTtcblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuX211dGVTdGF0dXModGhpcy5jaWQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZW5kQWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRBY3Rpb24obWVzc2FnZUlELCBmb3JtRGF0YSkge1xuICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICBpZiAoIW1lc3NhZ2VJRCkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIk1lc3NhZ2UgaWQgaXMgbWlzc2luZ1wiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQobWVzc2FnZUlELCBcIi9hY3Rpb25cIiksIHtcbiAgICAgICAgbWVzc2FnZV9pZDogbWVzc2FnZUlELFxuICAgICAgICBmb3JtX2RhdGE6IGZvcm1EYXRhLFxuICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgdHlwZTogdGhpcy50eXBlXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICoga2V5c3Ryb2tlIC0gRmlyc3Qgb2YgdGhlIHR5cGluZy5zdGFydCBhbmQgdHlwaW5nLnN0b3AgZXZlbnRzIGJhc2VkIG9uIHRoZSB1c2VycyBrZXlzdHJva2VzLlxuICAgICAqIENhbGwgdGhpcyBvbiBldmVyeSBrZXlzdHJva2VcbiAgICAgKiBAc2VlIHtAbGluayBodHRwczovL2dldHN0cmVhbS5pby9jaGF0L2RvY3MvdHlwaW5nX2luZGljYXRvcnMvP2xhbmd1YWdlPWpzfERvY3N9XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwYXJlbnRfaWRdIHNldCB0aGlzIGZpZWxkIHRvIGBtZXNzYWdlLmlkYCB0byBpbmRpY2F0ZSB0aGF0IHR5cGluZyBldmVudCBpcyBoYXBwZW5pbmcgaW4gYSB0aHJlYWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImtleXN0cm9rZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2tleXN0cm9rZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNChwYXJlbnRfaWQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzJGdldENvbmZpZztcblxuICAgICAgICB2YXIgbm93LCBkaWZmO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNCQoX2NvbnRleHQyNCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKChfdGhpcyRnZXRDb25maWcgPSB0aGlzLmdldENvbmZpZygpKSAhPT0gbnVsbCAmJiBfdGhpcyRnZXRDb25maWcgIT09IHZvaWQgMCAmJiBfdGhpcyRnZXRDb25maWcudHlwaW5nX2V2ZW50cykge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICBkaWZmID0gdGhpcy5sYXN0VHlwaW5nRXZlbnQgJiYgbm93LmdldFRpbWUoKSAtIHRoaXMubGFzdFR5cGluZ0V2ZW50LmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RLZXlTdHJva2UgPSBub3c7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1R5cGluZyA9IHRydWU7IC8vIHNlbmQgYSB0eXBpbmcuc3RhcnQgZXZlcnkgMiBzZWNvbmRzXG5cbiAgICAgICAgICAgICAgICBpZiAoIShkaWZmID09PSBudWxsIHx8IGRpZmYgPiAyMDAwKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUeXBpbmdFdmVudCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEV2ZW50KF9vYmplY3RTcHJlYWQkNih7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndHlwaW5nLnN0YXJ0JyxcbiAgICAgICAgICAgICAgICAgIHBhcmVudF9pZDogcGFyZW50X2lkXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucyB8fCB7fSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBrZXlzdHJva2UoX3gyNSwgX3gyNikge1xuICAgICAgICByZXR1cm4gX2tleXN0cm9rZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ga2V5c3Ryb2tlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHN0b3BUeXBpbmcgLSBTZXRzIGxhc3QgdHlwaW5nIHRvIG51bGwgYW5kIHNlbmRzIHRoZSB0eXBpbmcuc3RvcCBldmVudFxuICAgICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2V0c3RyZWFtLmlvL2NoYXQvZG9jcy90eXBpbmdfaW5kaWNhdG9ycy8/bGFuZ3VhZ2U9anN8RG9jc31cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3BhcmVudF9pZF0gc2V0IHRoaXMgZmllbGQgdG8gYG1lc3NhZ2UuaWRgIHRvIGluZGljYXRlIHRoYXQgdHlwaW5nIGV2ZW50IGlzIGhhcHBlbmluZyBpbiBhIHRocmVhZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcFR5cGluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3N0b3BUeXBpbmcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjUocGFyZW50X2lkLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyRnZXRDb25maWcyO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI1JChfY29udGV4dDI1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNS5wcmV2ID0gX2NvbnRleHQyNS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoKF90aGlzJGdldENvbmZpZzIgPSB0aGlzLmdldENvbmZpZygpKSAhPT0gbnVsbCAmJiBfdGhpcyRnZXRDb25maWcyICE9PSB2b2lkIDAgJiYgX3RoaXMkZ2V0Q29uZmlnMi50eXBpbmdfZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RUeXBpbmdFdmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1R5cGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VuZEV2ZW50KF9vYmplY3RTcHJlYWQkNih7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndHlwaW5nLnN0b3AnLFxuICAgICAgICAgICAgICAgICAgcGFyZW50X2lkOiBwYXJlbnRfaWRcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zIHx8IHt9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTI1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc3RvcFR5cGluZyhfeDI3LCBfeDI4KSB7XG4gICAgICAgIHJldHVybiBfc3RvcFR5cGluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RvcFR5cGluZztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBsYXN0TWVzc2FnZSAtIHJldHVybiB0aGUgbGFzdCBtZXNzYWdlLCB0YWtlcyBpbnRvIGFjY291bnQgdGhhdCBsYXN0IGZldyBtZXNzYWdlcyBtaWdodCBub3QgYmUgcGVyZmVjdGx5IHNvcnRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7UmV0dXJuVHlwZTxDaGFubmVsU3RhdGU8U3RyZWFtQ2hhdEdlbmVyaWNzPlsnZm9ybWF0TWVzc2FnZSddPiB8IHVuZGVmaW5lZH0gRGVzY3JpcHRpb25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxhc3RNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxhc3RNZXNzYWdlKCkge1xuICAgICAgLy8gZ2V0IGxhc3QgNSBtZXNzYWdlcywgc29ydCwgcmV0dXJuIHRoZSBsYXRlc3RcbiAgICAgIC8vIGdldCBhIHNsaWNlIG9mIHRoZSBsYXN0IDVcbiAgICAgIHZhciBtaW4gPSB0aGlzLnN0YXRlLmxhdGVzdE1lc3NhZ2VzLmxlbmd0aCAtIDU7XG5cbiAgICAgIGlmIChtaW4gPCAwKSB7XG4gICAgICAgIG1pbiA9IDA7XG4gICAgICB9XG5cbiAgICAgIHZhciBtYXggPSB0aGlzLnN0YXRlLmxhdGVzdE1lc3NhZ2VzLmxlbmd0aCArIDE7XG4gICAgICB2YXIgbWVzc2FnZVNsaWNlID0gdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlcy5zbGljZShtaW4sIG1heCk7IC8vIHNvcnQgYnkgcGsgZGVzY1xuXG4gICAgICBtZXNzYWdlU2xpY2Uuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5jcmVhdGVkX2F0LmdldFRpbWUoKSAtIGEuY3JlYXRlZF9hdC5nZXRUaW1lKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBtZXNzYWdlU2xpY2VbMF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG1hcmtSZWFkIC0gU2VuZCB0aGUgbWFyayByZWFkIGV2ZW50IGZvciB0aGlzIHVzZXIsIG9ubHkgd29ya3MgaWYgdGhlIGByZWFkX2V2ZW50c2Agc2V0dGluZyBpcyBlbmFibGVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01hcmtSZWFkT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBkYXRhXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxFdmVudEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfCBudWxsPn0gRGVzY3JpcHRpb25cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm1hcmtSZWFkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfbWFya1JlYWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjYoKSB7XG4gICAgICAgIHZhciBfdGhpcyRnZXRDb25maWczO1xuXG4gICAgICAgIHZhciBkYXRhLFxuICAgICAgICAgICAgX2FyZ3MyNiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI2LnByZXYgPSBfY29udGV4dDI2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfYXJnczI2Lmxlbmd0aCA+IDAgJiYgX2FyZ3MyNlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyNlswXSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEoISgoX3RoaXMkZ2V0Q29uZmlnMyA9IHRoaXMuZ2V0Q29uZmlnKCkpICE9PSBudWxsICYmIF90aGlzJGdldENvbmZpZzMgIT09IHZvaWQgMCAmJiBfdGhpcyRnZXRDb25maWczLnJlYWRfZXZlbnRzKSAmJiAhdGhpcy5nZXRDbGllbnQoKS5faXNVc2luZ1NlcnZlckF1dGgoKSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yZXNvbHZlKG51bGwpKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSArICcvcmVhZCcsIF9vYmplY3RTcHJlYWQkNih7fSwgZGF0YSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyNi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBtYXJrUmVhZCgpIHtcbiAgICAgICAgcmV0dXJuIF9tYXJrUmVhZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFya1JlYWQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogbWFya1VucmVhZCAtIE1hcmsgdGhlIGNoYW5uZWwgYXMgdW5yZWFkIGZyb20gbWVzc2FnZUlELCBvbmx5IHdvcmtzIGlmIHRoZSBgcmVhZF9ldmVudHNgIHNldHRpbmcgaXMgZW5hYmxlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtNYXJrVW5yZWFkT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBkYXRhXG4gICAgICogQHJldHVybiB7QVBJUmVzcG9uc2V9IEFuIEFQSSByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibWFya1VucmVhZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX21hcmtVbnJlYWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcoZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMkZ2V0Q29uZmlnNDtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNyQoX2NvbnRleHQyNykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjcucHJldiA9IF9jb250ZXh0MjcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEoISgoX3RoaXMkZ2V0Q29uZmlnNCA9IHRoaXMuZ2V0Q29uZmlnKCkpICE9PSBudWxsICYmIF90aGlzJGdldENvbmZpZzQgIT09IHZvaWQgMCAmJiBfdGhpcyRnZXRDb25maWc0LnJlYWRfZXZlbnRzKSAmJiAhdGhpcy5nZXRDbGllbnQoKS5faXNVc2luZ1NlcnZlckF1dGgoKSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNy5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yZXNvbHZlKG51bGwpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNy5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHRoaXMuX2NoYW5uZWxVUkwoKSArICcvdW5yZWFkJywgX29iamVjdFNwcmVhZCQ2KHt9LCBkYXRhKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDI3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIG1hcmtVbnJlYWQoX3gyOSkge1xuICAgICAgICByZXR1cm4gX21hcmtVbnJlYWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcmtVbnJlYWQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogY2xlYW4gLSBDbGVhbnMgdGhlIGNoYW5uZWwgc3RhdGUgYW5kIGZpcmVzIHN0b3AgdHlwaW5nIGlmIG5lZWRlZFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY2xlYW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYW4oKSB7XG4gICAgICBpZiAodGhpcy5sYXN0S2V5U3Ryb2tlKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSB0aGlzLmxhc3RLZXlTdHJva2UuZ2V0VGltZSgpO1xuXG4gICAgICAgIGlmIChkaWZmID4gMTAwMCAmJiB0aGlzLmlzVHlwaW5nKSB7XG4gICAgICAgICAgbG9nQ2hhdFByb21pc2VFeGVjdXRpb24odGhpcy5zdG9wVHlwaW5nKCksICdzdG9wIHR5cGluZyBldmVudCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUuY2xlYW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogd2F0Y2ggLSBMb2FkcyB0aGUgaW5pdGlhbCBjaGFubmVsIHN0YXRlIGFuZCB3YXRjaGVzIGZvciBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxRdWVyeU9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gb3B0aW9ucyBhZGRpdGlvbmFsIG9wdGlvbnMgZm9yIHRoZSBxdWVyeSBlbmRwb2ludFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxRdWVyeUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIHNlcnZlciByZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwid2F0Y2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF93YXRjaCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyOChvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0T3B0aW9ucywgY29tYmluZWQsIHN0YXRlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOCQoX2NvbnRleHQyOCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjgucHJldiA9IF9jb250ZXh0MjgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHdhdGNoOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgcHJlc2VuY2U6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTsgLy8gTWFrZSBzdXJlIHdlIHdhaXQgZm9yIHRoZSBjb25uZWN0IHByb21pc2UgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIG9uZVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS53c1Byb21pc2U7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5nZXRDbGllbnQoKS5faGFzQ29ubmVjdGlvbklEKCkpIHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLndhdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29tYmluZWQgPSBfb2JqZWN0U3ByZWFkJDYoX29iamVjdFNwcmVhZCQ2KHt9LCBkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjgubmV4dCA9IDc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucXVlcnkoY29tYmluZWQsICdsYXRlc3QnKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBfY29udGV4dDI4LnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gc3RhdGUuY2hhbm5lbDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NsaWVudC5sb2dnZXIoJ2luZm8nLCBcImNoYW5uZWw6d2F0Y2goKSAtIHN0YXJ0ZWQgd2F0Y2hpbmcgY2hhbm5lbCBcIi5jb25jYXQodGhpcy5jaWQpLCB7XG4gICAgICAgICAgICAgICAgICB0YWdzOiBbJ2NoYW5uZWwnXSxcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWw6IHRoaXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LmFicnVwdChcInJldHVyblwiLCBzdGF0ZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHdhdGNoKF94MzApIHtcbiAgICAgICAgcmV0dXJuIF93YXRjaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gd2F0Y2g7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc3RvcFdhdGNoaW5nIC0gU3RvcHMgd2F0Y2hpbmcgdGhlIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVBJUmVzcG9uc2U+fSBUaGUgc2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzdG9wV2F0Y2hpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zdG9wV2F0Y2hpbmcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjkoKSB7XG4gICAgICAgIHZhciByZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjkkKF9jb250ZXh0MjkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI5LnByZXYgPSBfY29udGV4dDI5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL3N0b3Atd2F0Y2hpbmcnLCB7fSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyOS5zZW50O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xpZW50LmxvZ2dlcignaW5mbycsIFwiY2hhbm5lbDp3YXRjaCgpIC0gc3RvcHBlZCB3YXRjaGluZyBjaGFubmVsIFwiLmNvbmNhdCh0aGlzLmNpZCksIHtcbiAgICAgICAgICAgICAgICAgIHRhZ3M6IFsnY2hhbm5lbCddLFxuICAgICAgICAgICAgICAgICAgY2hhbm5lbDogdGhpc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjkuYWJydXB0KFwicmV0dXJuXCIsIHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmcoKSB7XG4gICAgICAgIHJldHVybiBfc3RvcFdhdGNoaW5nLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdG9wV2F0Y2hpbmc7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0UmVwbGllcyAtIExpc3QgdGhlIG1lc3NhZ2UgcmVwbGllcyBmb3IgYSBwYXJlbnQgbWVzc2FnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmVudF9pZCBUaGUgbWVzc2FnZSBwYXJlbnQgaWQsIGllIHRoZSB0b3Agb2YgdGhlIHRocmVhZFxuICAgICAqIEBwYXJhbSB7TWVzc2FnZVBhZ2luYXRpb25PcHRpb25zICYgeyB1c2VyPzogVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz47IHVzZXJfaWQ/OiBzdHJpbmcgfX0gb3B0aW9ucyBQYWdpbmF0aW9uIHBhcmFtcywgaWUge2xpbWl0OjEwLCBpZF9sdGU6IDEwfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxHZXRSZXBsaWVzQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IEEgcmVzcG9uc2Ugd2l0aCBhIGxpc3Qgb2YgbWVzc2FnZXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFJlcGxpZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRSZXBsaWVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMwKHBhcmVudF9pZCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgZGF0YTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzAkKF9jb250ZXh0MzApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMwLnByZXYgPSBfY29udGV4dDMwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzAubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZ2V0KHRoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChwYXJlbnRfaWQsIFwiL3JlcGxpZXNcIiksIF9vYmplY3RTcHJlYWQkNih7fSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQzMC5zZW50O1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIGFueSBtZXNzYWdlcyB0byBvdXIgdGhyZWFkIHN0YXRlXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEubWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWRkTWVzc2FnZXNTb3J0ZWQoZGF0YS5tZXNzYWdlcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzAuYWJydXB0KFwicmV0dXJuXCIsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzMCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFJlcGxpZXMoX3gzMSwgX3gzMikge1xuICAgICAgICByZXR1cm4gX2dldFJlcGxpZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFJlcGxpZXM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0UGlubmVkTWVzc2FnZXMgLSBMaXN0IGxpc3QgcGlubmVkIG1lc3NhZ2VzIG9mIHRoZSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Bpbm5lZE1lc3NhZ2VQYWdpbmF0aW9uT3B0aW9ucyAmIHsgdXNlcj86IFVzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+OyB1c2VyX2lkPzogc3RyaW5nIH19IG9wdGlvbnMgUGFnaW5hdGlvbiBwYXJhbXMsIGllIHtsaW1pdDoxMCwgaWRfbHRlOiAxMH1cbiAgICAgKiBAcGFyYW0ge1Bpbm5lZE1lc3NhZ2VzU29ydH0gc29ydCBkZWZpbmVzIHNvcnRpbmcgZGlyZWN0aW9uIG9mIHBpbm5lZCBtZXNzYWdlc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxHZXRSZXBsaWVzQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IEEgcmVzcG9uc2Ugd2l0aCBhIGxpc3Qgb2YgbWVzc2FnZXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFBpbm5lZE1lc3NhZ2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0UGlubmVkTWVzc2FnZXMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzEob3B0aW9ucykge1xuICAgICAgICB2YXIgc29ydCxcbiAgICAgICAgICAgIF9hcmdzMzEgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMxJChfY29udGV4dDMxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMS5wcmV2ID0gX2NvbnRleHQzMS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzb3J0ID0gX2FyZ3MzMS5sZW5ndGggPiAxICYmIF9hcmdzMzFbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMzFbMV0gOiBbXTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMxLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmdldCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwgKyBcIi9jaGFubmVscy9cIi5jb25jYXQodGhpcy50eXBlLCBcIi9cIikuY29uY2F0KHRoaXMuaWQsIFwiL3Bpbm5lZF9tZXNzYWdlc1wiKSwge1xuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogX29iamVjdFNwcmVhZCQ2KF9vYmplY3RTcHJlYWQkNih7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6IG5vcm1hbGl6ZVF1ZXJ5U29ydChzb3J0KVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzEuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzEuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzEuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMxLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0UGlubmVkTWVzc2FnZXMoX3gzMykge1xuICAgICAgICByZXR1cm4gX2dldFBpbm5lZE1lc3NhZ2VzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRQaW5uZWRNZXNzYWdlcztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBnZXRSZWFjdGlvbnMgLSBMaXN0IHRoZSByZWFjdGlvbnMsIHN1cHBvcnRzIHBhZ2luYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlX2lkIFRoZSBtZXNzYWdlIGlkXG4gICAgICogQHBhcmFtIHt7IGxpbWl0PzogbnVtYmVyOyBvZmZzZXQ/OiBudW1iZXIgfX0gb3B0aW9ucyBUaGUgcGFnaW5hdGlvbiBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEdldFJlYWN0aW9uc0FQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBTZXJ2ZXIgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFJlYWN0aW9uc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZWFjdGlvbnMobWVzc2FnZV9pZCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkuZ2V0KHRoaXMuZ2V0Q2xpZW50KCkuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChtZXNzYWdlX2lkLCBcIi9yZWFjdGlvbnNcIiksIF9vYmplY3RTcHJlYWQkNih7fSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBnZXRNZXNzYWdlc0J5SWQgLSBSZXRyaWV2ZXMgYSBsaXN0IG9mIG1lc3NhZ2VzIGJ5IElEXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBtZXNzYWdlSWRzIFRoZSBpZHMgb2YgdGhlIG1lc3NhZ2VzIHRvIHJldHJpZXZlIGZyb20gdGhpcyBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEdldE11bHRpcGxlTWVzc2FnZXNBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gU2VydmVyIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRNZXNzYWdlc0J5SWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWVzc2FnZXNCeUlkKG1lc3NhZ2VJZHMpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLmdldCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL21lc3NhZ2VzJywge1xuICAgICAgICBpZHM6IG1lc3NhZ2VJZHMuam9pbignLCcpXG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogbGFzdFJlYWQgLSByZXR1cm5zIHRoZSBsYXN0IHRpbWUgdGhlIHVzZXIgbWFya2VkIHRoZSBjaGFubmVsIGFzIHJlYWQgaWYgdGhlIHVzZXIgbmV2ZXIgbWFya2VkIHRoZSBjaGFubmVsIGFzIHJlYWQsIHRoaXMgd2lsbCByZXR1cm4gbnVsbFxuICAgICAqIEByZXR1cm4ge0RhdGUgfCBudWxsIHwgdW5kZWZpbmVkfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGFzdFJlYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGFzdFJlYWQoKSB7XG4gICAgICB2YXIgX3RoaXMkZ2V0Q2xpZW50ID0gdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICB1c2VySUQgPSBfdGhpcyRnZXRDbGllbnQudXNlcklEO1xuXG4gICAgICBpZiAodXNlcklEKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnJlYWRbdXNlcklEXSA/IHRoaXMuc3RhdGUucmVhZFt1c2VySURdLmxhc3RfcmVhZCA6IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9jb3VudE1lc3NhZ2VBc1VucmVhZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY291bnRNZXNzYWdlQXNVbnJlYWQobWVzc2FnZSkge1xuICAgICAgdmFyIF9tZXNzYWdlJHVzZXIsIF9tZXNzYWdlJHVzZXIyLCBfdGhpcyRkYXRhNCwgX3RoaXMkZGF0YTU7XG5cbiAgICAgIGlmIChtZXNzYWdlLnNoYWRvd2VkKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAobWVzc2FnZS5zaWxlbnQpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChtZXNzYWdlLnBhcmVudF9pZCAmJiAhbWVzc2FnZS5zaG93X2luX2NoYW5uZWwpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmICgoKF9tZXNzYWdlJHVzZXIgPSBtZXNzYWdlLnVzZXIpID09PSBudWxsIHx8IF9tZXNzYWdlJHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tZXNzYWdlJHVzZXIuaWQpID09PSB0aGlzLmdldENsaWVudCgpLnVzZXJJRCkgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKChfbWVzc2FnZSR1c2VyMiA9IG1lc3NhZ2UudXNlcikgIT09IG51bGwgJiYgX21lc3NhZ2UkdXNlcjIgIT09IHZvaWQgMCAmJiBfbWVzc2FnZSR1c2VyMi5pZCAmJiB0aGlzLmdldENsaWVudCgpLnVzZXJNdXRlU3RhdHVzKG1lc3NhZ2UudXNlci5pZCkpIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09ICdzeXN0ZW0nKSByZXR1cm4gZmFsc2U7IC8vIFJldHVybiBmYWxzZSBpZiBjaGFubmVsIGRvZXNuJ3QgYWxsb3cgcmVhZCBldmVudHMuXG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KChfdGhpcyRkYXRhNCA9IHRoaXMuZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkZGF0YTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGRhdGE0Lm93bl9jYXBhYmlsaXRpZXMpICYmICEoKF90aGlzJGRhdGE1ID0gdGhpcy5kYXRhKSAhPT0gbnVsbCAmJiBfdGhpcyRkYXRhNSAhPT0gdm9pZCAwICYmIF90aGlzJGRhdGE1Lm93bl9jYXBhYmlsaXRpZXMuaW5jbHVkZXMoJ3JlYWQtZXZlbnRzJykpKSByZXR1cm4gZmFsc2U7IC8vIEZJWE1FOiBzZWUgIzEyNjUsIGFkanVzdCBhbmQgY291bnQgbmV3IG1lc3NhZ2VzIGV2ZW4gd2hlbiB0aGUgY2hhbm5lbCBpcyBtdXRlZFxuXG4gICAgICBpZiAodGhpcy5tdXRlU3RhdHVzKCkubXV0ZWQpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb3VudFVucmVhZCAtIENvdW50IG9mIHVucmVhZCBtZXNzYWdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtEYXRlIHwgbnVsbH0gW2xhc3RSZWFkXSBsYXN0UmVhZCB0aGUgdGltZSB0aGF0IHRoZSB1c2VyIHJlYWQgYSBtZXNzYWdlLCBkZWZhdWx0cyB0byBjdXJyZW50IHVzZXIncyByZWFkIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFVucmVhZCBjb3VudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY291bnRVbnJlYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY291bnRVbnJlYWQobGFzdFJlYWQpIHtcbiAgICAgIGlmICghbGFzdFJlYWQpIHJldHVybiB0aGlzLnN0YXRlLnVucmVhZENvdW50O1xuICAgICAgdmFyIGNvdW50ID0gMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLmxhdGVzdE1lc3NhZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlc1tpXTtcblxuICAgICAgICBpZiAobWVzc2FnZS5jcmVhdGVkX2F0ID4gbGFzdFJlYWQgJiYgdGhpcy5fY291bnRNZXNzYWdlQXNVbnJlYWQobWVzc2FnZSkpIHtcbiAgICAgICAgICBjb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogY291bnRVbnJlYWRNZW50aW9ucyAtIENvdW50IHRoZSBudW1iZXIgb2YgdW5yZWFkIG1lc3NhZ2VzIG1lbnRpb25pbmcgdGhlIGN1cnJlbnQgdXNlclxuICAgICAqXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBVbnJlYWQgbWVudGlvbnMgY291bnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNvdW50VW5yZWFkTWVudGlvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY291bnRVbnJlYWRNZW50aW9ucygpIHtcbiAgICAgIHZhciBsYXN0UmVhZCA9IHRoaXMubGFzdFJlYWQoKTtcbiAgICAgIHZhciB1c2VySUQgPSB0aGlzLmdldENsaWVudCgpLnVzZXJJRDtcbiAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgX21lc3NhZ2UkbWVudGlvbmVkX3VzO1xuXG4gICAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5zdGF0ZS5sYXRlc3RNZXNzYWdlc1tpXTtcblxuICAgICAgICBpZiAodGhpcy5fY291bnRNZXNzYWdlQXNVbnJlYWQobWVzc2FnZSkgJiYgKCFsYXN0UmVhZCB8fCBtZXNzYWdlLmNyZWF0ZWRfYXQgPiBsYXN0UmVhZCkgJiYgKF9tZXNzYWdlJG1lbnRpb25lZF91cyA9IG1lc3NhZ2UubWVudGlvbmVkX3VzZXJzKSAhPT0gbnVsbCAmJiBfbWVzc2FnZSRtZW50aW9uZWRfdXMgIT09IHZvaWQgMCAmJiBfbWVzc2FnZSRtZW50aW9uZWRfdXMuc29tZShmdW5jdGlvbiAodXNlcikge1xuICAgICAgICAgIHJldHVybiB1c2VyLmlkID09PSB1c2VySUQ7XG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZSAtIENyZWF0ZXMgYSBuZXcgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxRdWVyeUNoYW5uZWxBUElSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn0gVGhlIFNlcnZlciBSZXNwb25zZVxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeVwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIHF1ZXJ5IC0gUXVlcnkgdGhlIEFQSSwgZ2V0IG1lc3NhZ2VzLCBtZW1iZXJzIG9yIG90aGVyIGNoYW5uZWwgZmllbGRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxRdWVyeU9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gb3B0aW9ucyBUaGUgcXVlcnkgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7TWVzc2FnZVNldFR5cGV9IG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QgSXQncyBwb3NzaWJsZSB0byBsb2FkIGRpc2p1bmN0IHNldHMgb2YgYSBjaGFubmVsJ3MgbWVzc2FnZXMgaW50byBzdGF0ZSwgdXNlIGBjdXJyZW50YCB0byBsb2FkIHRoZSBpbml0aWFsIGNoYW5uZWwgc3RhdGUgb3IgaWYgeW91IHdhbnQgdG8gZXh0ZW5kIHRoZSBjdXJyZW50bHkgZGlzcGxheWVkIG1lc3NhZ2VzLCB1c2UgYGxhdGVzdGAgaWYgeW91IHdhbnQgdG8gbG9hZC9leHRlbmQgdGhlIGxhdGVzdCBtZXNzYWdlcywgYG5ld2AgaXMgdXNlZCBmb3IgbG9hZGluZyBhIHNwZWNpZmljIG1lc3NhZ2UgYW5kIGl0J3Mgc3Vycm91bmRpbmdzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFF1ZXJ5Q2hhbm5lbEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBSZXR1cm5zIGEgcXVlcnkgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3F1ZXJ5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMyKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzJGRhdGE2LCBfdGhpcyRkYXRhNztcblxuICAgICAgICB2YXIgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCxcbiAgICAgICAgICAgIHF1ZXJ5VVJMLFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICBtZW1iZXJzU3RyLFxuICAgICAgICAgICAgdGVtcENoYW5uZWxDaWQsXG4gICAgICAgICAgICBfdGhpcyRfaW5pdGlhbGl6ZVN0YXQsXG4gICAgICAgICAgICBtZXNzYWdlU2V0LFxuICAgICAgICAgICAgYXJlQ2FwYWJpbGl0aWVzQ2hhbmdlZCxcbiAgICAgICAgICAgIF9hcmdzMzIgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzIkKF9jb250ZXh0MzIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMyLnByZXYgPSBfY29udGV4dDMyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG1lc3NhZ2VTZXRUb0FkZFRvSWZEb2VzTm90RXhpc3QgPSBfYXJnczMyLmxlbmd0aCA+IDEgJiYgX2FyZ3MzMlsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzMlsxXSA6ICdjdXJyZW50JztcbiAgICAgICAgICAgICAgICBfY29udGV4dDMyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLndzUHJvbWlzZTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcXVlcnlVUkwgPSBcIlwiLmNvbmNhdCh0aGlzLmdldENsaWVudCgpLmJhc2VVUkwsIFwiL2NoYW5uZWxzL1wiKS5jb25jYXQodGhpcy50eXBlKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgICBxdWVyeVVSTCArPSBcIi9cIi5jb25jYXQodGhpcy5pZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMi5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5wb3N0KHF1ZXJ5VVJMICsgJy9xdWVyeScsIF9vYmplY3RTcHJlYWQkNih7XG4gICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLl9kYXRhLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIHN0YXRlID0gX2NvbnRleHQzMi5zZW50O1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBjaGFubmVsIGlkIGlmIGl0IHdhcyBtaXNzaW5nXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmlkID0gc3RhdGUuY2hhbm5lbC5pZDtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2lkID0gc3RhdGUuY2hhbm5lbC5jaWQ7IC8vIHNldCB0aGUgY2hhbm5lbCBhcyBhY3RpdmUuLi5cblxuICAgICAgICAgICAgICAgICAgbWVtYmVyc1N0ciA9IHN0YXRlLm1lbWJlcnMubWFwKGZ1bmN0aW9uIChtZW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9tZW1iZXIkdXNlcjtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVtYmVyLnVzZXJfaWQgfHwgKChfbWVtYmVyJHVzZXIgPSBtZW1iZXIudXNlcikgPT09IG51bGwgfHwgX21lbWJlciR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbWVtYmVyJHVzZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgfSkuc29ydCgpLmpvaW4oJywnKTtcbiAgICAgICAgICAgICAgICAgIHRlbXBDaGFubmVsQ2lkID0gXCJcIi5jb25jYXQodGhpcy50eXBlLCBcIjohbWVtYmVycy1cIikuY29uY2F0KG1lbWJlcnNTdHIpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAodGVtcENoYW5uZWxDaWQgaW4gdGhpcy5nZXRDbGllbnQoKS5hY3RpdmVDaGFubmVscykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGdldHMgc2V0IGluIGBjbGllbnQuY2hhbm5lbCgpYCBmdW5jdGlvbiwgd2hlbiBjaGFubmVsIGlzIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gdXNpbmcgbWVtYmVycywgbm90IGlkLlxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5nZXRDbGllbnQoKS5hY3RpdmVDaGFubmVsc1t0ZW1wQ2hhbm5lbENpZF07XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmICghKHRoaXMuY2lkIGluIHRoaXMuZ2V0Q2xpZW50KCkuYWN0aXZlQ2hhbm5lbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpZW50KCkuYWN0aXZlQ2hhbm5lbHNbdGhpcy5jaWRdID0gdGhpcztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLl9hZGRDaGFubmVsQ29uZmlnKHN0YXRlLmNoYW5uZWwpOyAvLyBhZGQgYW55IG1lc3NhZ2VzIHRvIG91ciBjaGFubmVsIHN0YXRlXG5cblxuICAgICAgICAgICAgICAgIF90aGlzJF9pbml0aWFsaXplU3RhdCA9IHRoaXMuX2luaXRpYWxpemVTdGF0ZShzdGF0ZSwgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCksIG1lc3NhZ2VTZXQgPSBfdGhpcyRfaW5pdGlhbGl6ZVN0YXQubWVzc2FnZVNldDtcbiAgICAgICAgICAgICAgICBhcmVDYXBhYmlsaXRpZXNDaGFuZ2VkID0gX3RvQ29uc3VtYWJsZUFycmF5KHN0YXRlLmNoYW5uZWwub3duX2NhcGFiaWxpdGllcyB8fCBbXSkuc29ydCgpLmpvaW4oKSAhPT0gX3RvQ29uc3VtYWJsZUFycmF5KEFycmF5LmlzQXJyYXkoKF90aGlzJGRhdGE2ID0gdGhpcy5kYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRkYXRhNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZGF0YTYub3duX2NhcGFiaWxpdGllcykgPyAoX3RoaXMkZGF0YTcgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGE3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhNy5vd25fY2FwYWJpbGl0aWVzIDogW10pLnNvcnQoKS5qb2luKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gc3RhdGUuY2hhbm5lbDtcbiAgICAgICAgICAgICAgICB0aGlzLm9mZmxpbmVNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXJlQ2FwYWJpbGl0aWVzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDbGllbnQoKS5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NhcGFiaWxpdGllcy5jaGFuZ2VkJyxcbiAgICAgICAgICAgICAgICAgICAgY2lkOiB0aGlzLmNpZCxcbiAgICAgICAgICAgICAgICAgICAgb3duX2NhcGFiaWxpdGllczogc3RhdGUuY2hhbm5lbC5vd25fY2FwYWJpbGl0aWVzXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdldENsaWVudCgpLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2NoYW5uZWxzLnF1ZXJpZWQnLFxuICAgICAgICAgICAgICAgICAgcXVlcmllZENoYW5uZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxzOiBbc3RhdGVdLFxuICAgICAgICAgICAgICAgICAgICBpc0xhdGVzdE1lc3NhZ2VTZXQ6IG1lc3NhZ2VTZXQuaXNMYXRlc3RcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5hYnJ1cHQoXCJyZXR1cm5cIiwgc3RhdGUpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBxdWVyeShfeDM0KSB7XG4gICAgICAgIHJldHVybiBfcXVlcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGJhblVzZXIgLSBCYW5zIGEgdXNlciBmcm9tIGEgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFVzZXJJRFxuICAgICAqIEBwYXJhbSB7QmFuVXNlck9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImJhblVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9iYW5Vc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMzKHRhcmdldFVzZXJJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzMyQoX2NvbnRleHQzMykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzMucHJldiA9IF9jb250ZXh0MzMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMy5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5iYW5Vc2VyKHRhcmdldFVzZXJJRCwgX29iamVjdFNwcmVhZCQ2KF9vYmplY3RTcHJlYWQkNih7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgICBpZDogdGhpcy5pZFxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzMuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYmFuVXNlcihfeDM1LCBfeDM2KSB7XG4gICAgICAgIHJldHVybiBfYmFuVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFuVXNlcjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBoaWRlcyB0aGUgY2hhbm5lbCBmcm9tIHF1ZXJ5Q2hhbm5lbHMgZm9yIHRoZSB1c2VyIHVudGlsIGEgbWVzc2FnZSBpcyBhZGRlZFxuICAgICAqIElmIGNsZWFySGlzdG9yeSBpcyBzZXQgdG8gdHJ1ZSAtIGFsbCBtZXNzYWdlcyB3aWxsIGJlIHJlbW92ZWQgZm9yIHRoZSB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGx9IHVzZXJJZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXJIaXN0b3J5XG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaGlkZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2hpZGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzQoKSB7XG4gICAgICAgIHZhciB1c2VySWQsXG4gICAgICAgICAgICBjbGVhckhpc3RvcnksXG4gICAgICAgICAgICBfYXJnczM0ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNCQoX2NvbnRleHQzNCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzQucHJldiA9IF9jb250ZXh0MzQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdXNlcklkID0gX2FyZ3MzNC5sZW5ndGggPiAwICYmIF9hcmdzMzRbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMzRbMF0gOiBudWxsO1xuICAgICAgICAgICAgICAgIGNsZWFySGlzdG9yeSA9IF9hcmdzMzQubGVuZ3RoID4gMSAmJiBfYXJnczM0WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczM0WzFdIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QoXCJcIi5jb25jYXQodGhpcy5fY2hhbm5lbFVSTCgpLCBcIi9oaWRlXCIpLCB7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICAgICAgICBjbGVhcl9oaXN0b3J5OiBjbGVhckhpc3RvcnlcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgcmV0dXJuIF9oaWRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoaWRlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlbW92ZXMgdGhlIGhpZGRlbiBzdGF0dXMgZm9yIGEgY2hhbm5lbFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsfSB1c2VySWRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzaG93XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2hvdyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNSgpIHtcbiAgICAgICAgdmFyIHVzZXJJZCxcbiAgICAgICAgICAgIF9hcmdzMzUgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM1JChfY29udGV4dDM1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNS5wcmV2ID0gX2NvbnRleHQzNS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB1c2VySWQgPSBfYXJnczM1Lmxlbmd0aCA+IDAgJiYgX2FyZ3MzNVswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzNVswXSA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDM1Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnBvc3QoXCJcIi5jb25jYXQodGhpcy5fY2hhbm5lbFVSTCgpLCBcIi9zaG93XCIpLCB7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySWRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzUuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgcmV0dXJuIF9zaG93LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaG93O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVuYmFuVXNlciAtIFJlbW92ZXMgdGhlIGJhbnMgZm9yIGEgdXNlciBvbiBhIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRVc2VySURcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmJhblVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91bmJhblVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzYodGFyZ2V0VXNlcklEKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM2JChfY29udGV4dDM2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNi5wcmV2ID0gX2NvbnRleHQzNi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDM2Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnVuYmFuVXNlcih0YXJnZXRVc2VySUQsIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM2LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzNiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVuYmFuVXNlcihfeDM3KSB7XG4gICAgICAgIHJldHVybiBfdW5iYW5Vc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJhblVzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc2hhZG93QmFuIC0gU2hhZG93IGJhbnMgYSB1c2VyIGZyb20gYSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0VXNlcklEXG4gICAgICogQHBhcmFtIHtCYW5Vc2VyT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2hhZG93QmFuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc2hhZG93QmFuID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM3KHRhcmdldFVzZXJJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNyQoX2NvbnRleHQzNykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzcucHJldiA9IF9jb250ZXh0MzcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbml0aWFsaXplZCgpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQzNy5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDbGllbnQoKS5zaGFkb3dCYW4odGFyZ2V0VXNlcklELCBfb2JqZWN0U3ByZWFkJDYoX29iamVjdFNwcmVhZCQ2KHt9LCBvcHRpb25zKSwge30sIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzNy5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzaGFkb3dCYW4oX3gzOCwgX3gzOSkge1xuICAgICAgICByZXR1cm4gX3NoYWRvd0Jhbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hhZG93QmFuO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlbW92ZVNoYWRvd0JhbiAtIFJlbW92ZXMgdGhlIHNoYWRvdyBiYW4gZm9yIGEgdXNlciBvbiBhIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRVc2VySURcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVTaGFkb3dCYW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZW1vdmVTaGFkb3dCYW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzgodGFyZ2V0VXNlcklEKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM4JChfY29udGV4dDM4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzOC5wcmV2ID0gX2NvbnRleHQzOC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRpYWxpemVkKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDM4Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENsaWVudCgpLnJlbW92ZVNoYWRvd0Jhbih0YXJnZXRVc2VySUQsIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVNoYWRvd0JhbihfeDQwKSB7XG4gICAgICAgIHJldHVybiBfcmVtb3ZlU2hhZG93QmFuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVTaGFkb3dCYW47XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogY3JlYXRlQ2FsbCAtIGNyZWF0ZXMgYSBjYWxsIGZvciB0aGUgY3VycmVudCBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NyZWF0ZUNhbGxPcHRpb25zfSBvcHRpb25zXG4gICAgICogQHJldHVybnMge1Byb21pc2U8Q3JlYXRlQ2FsbFJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUNhbGxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jcmVhdGVDYWxsID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM5KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzkkKF9jb250ZXh0MzkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM5LnByZXYgPSBfY29udGV4dDM5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzkubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xpZW50KCkucG9zdCh0aGlzLl9jaGFubmVsVVJMKCkgKyAnL2NhbGwnLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Mzkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gY3JlYXRlQ2FsbChfeDQxKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlQ2FsbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3JlYXRlQ2FsbDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBvbiAtIExpc3RlbiB0byBldmVudHMgb24gdGhpcyBjaGFubmVsLlxuICAgICAqXG4gICAgICogY2hhbm5lbC5vbignbWVzc2FnZS5uZXcnLCBldmVudCA9PiB7Y29uc29sZS5sb2coXCJteSBuZXcgbWVzc2FnZVwiLCBldmVudCwgY2hhbm5lbC5zdGF0ZS5tZXNzYWdlcyl9KVxuICAgICAqIG9yXG4gICAgICogY2hhbm5lbC5vbihldmVudCA9PiB7Y29uc29sZS5sb2coZXZlbnQudHlwZSl9KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudEhhbmRsZXI8U3RyZWFtQ2hhdEdlbmVyaWNzPiB8IEV2ZW50VHlwZXN9IGNhbGxiYWNrT3JTdHJpbmcgIFRoZSBldmVudCB0eXBlIHRvIGxpc3RlbiBmb3IgKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSB7RXZlbnRIYW5kbGVyPFN0cmVhbUNoYXRHZW5lcmljcz59IFtjYWxsYmFja09yTm90aGluZ10gVGhlIGNhbGxiYWNrIHRvIGNhbGxcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGNhbGxiYWNrT3JTdHJpbmcsIGNhbGxiYWNrT3JOb3RoaW5nKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGtleSA9IGNhbGxiYWNrT3JOb3RoaW5nID8gY2FsbGJhY2tPclN0cmluZyA6ICdhbGwnO1xuICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tPck5vdGhpbmcgPyBjYWxsYmFja09yTm90aGluZyA6IGNhbGxiYWNrT3JTdHJpbmc7XG5cbiAgICAgIGlmICghKGtleSBpbiB0aGlzLmxpc3RlbmVycykpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XSA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9jbGllbnQubG9nZ2VyKCdpbmZvJywgXCJBdHRhY2hpbmcgbGlzdGVuZXIgZm9yIFwiLmNvbmNhdChrZXksIFwiIGV2ZW50IG9uIGNoYW5uZWwgXCIpLmNvbmNhdCh0aGlzLmNpZCksIHtcbiAgICAgICAgdGFnczogWydldmVudCcsICdjaGFubmVsJ10sXG4gICAgICAgIGNoYW5uZWw6IHRoaXNcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmxpc3RlbmVyc1trZXldLnB1c2goY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgIF90aGlzMi5fY2xpZW50LmxvZ2dlcignaW5mbycsIFwiUmVtb3ZpbmcgbGlzdGVuZXIgZm9yIFwiLmNvbmNhdChrZXksIFwiIGV2ZW50IGZyb20gY2hhbm5lbCBcIikuY29uY2F0KF90aGlzMi5jaWQpLCB7XG4gICAgICAgICAgICB0YWdzOiBbJ2V2ZW50JywgJ2NoYW5uZWwnXSxcbiAgICAgICAgICAgIGNoYW5uZWw6IF90aGlzMlxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX3RoaXMyLmxpc3RlbmVyc1trZXldID0gX3RoaXMyLmxpc3RlbmVyc1trZXldLmZpbHRlcihmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBlbCAhPT0gY2FsbGJhY2s7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIG9mZiAtIFJlbW92ZSB0aGUgZXZlbnQgaGFuZGxlclxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJvZmZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKGNhbGxiYWNrT3JTdHJpbmcsIGNhbGxiYWNrT3JOb3RoaW5nKSB7XG4gICAgICB2YXIga2V5ID0gY2FsbGJhY2tPck5vdGhpbmcgPyBjYWxsYmFja09yU3RyaW5nIDogJ2FsbCc7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja09yTm90aGluZyA/IGNhbGxiYWNrT3JOb3RoaW5nIDogY2FsbGJhY2tPclN0cmluZztcblxuICAgICAgaWYgKCEoa2V5IGluIHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1trZXldID0gW107XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NsaWVudC5sb2dnZXIoJ2luZm8nLCBcIlJlbW92aW5nIGxpc3RlbmVyIGZvciBcIi5jb25jYXQoa2V5LCBcIiBldmVudCBmcm9tIGNoYW5uZWwgXCIpLmNvbmNhdCh0aGlzLmNpZCksIHtcbiAgICAgICAgdGFnczogWydldmVudCcsICdjaGFubmVsJ10sXG4gICAgICAgIGNoYW5uZWw6IHRoaXNcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmxpc3RlbmVyc1trZXldID0gdGhpcy5saXN0ZW5lcnNba2V5XS5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gY2FsbGJhY2s7XG4gICAgICB9KTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzb25hcmpzL2NvZ25pdGl2ZS1jb21wbGV4aXR5XG5cbiAgfSwge1xuICAgIGtleTogXCJfaGFuZGxlQ2hhbm5lbEV2ZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVDaGFubmVsRXZlbnQoZXZlbnQpIHtcbiAgICAgIHZhciBfZXZlbnQkdXNlciwgX2V2ZW50JHVzZXIyLCBfZXZlbnQkdXNlcjMsIF9ldmVudCR1c2VyNSwgX2V2ZW50JHVzZXI2LCBfZXZlbnQkY2hhbm5lbCwgX2V2ZW50JG1lbWJlciwgX2V2ZW50JHVzZXI5LCBfZXZlbnQkdXNlcjExLCBfY2hhbm5lbFN0YXRlJG1lbWJlcnMsIF9ldmVudCR1c2VyMTIsIF9jaGFubmVsU3RhdGUkbWVtYmVyczI7XG5cbiAgICAgIHZhciBjaGFubmVsID0gdGhpcztcblxuICAgICAgdGhpcy5fY2xpZW50LmxvZ2dlcignaW5mbycsIFwiY2hhbm5lbDpfaGFuZGxlQ2hhbm5lbEV2ZW50IC0gUmVjZWl2ZWQgZXZlbnQgb2YgdHlwZSB7IFwiLmNvbmNhdChldmVudC50eXBlLCBcIiB9IG9uIFwiKS5jb25jYXQodGhpcy5jaWQpLCB7XG4gICAgICAgIHRhZ3M6IFsnZXZlbnQnLCAnY2hhbm5lbCddLFxuICAgICAgICBjaGFubmVsOiB0aGlzXG4gICAgICB9KTtcblxuICAgICAgdmFyIGNoYW5uZWxTdGF0ZSA9IGNoYW5uZWwuc3RhdGU7XG5cbiAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICBjYXNlICd0eXBpbmcuc3RhcnQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXIgPSBldmVudC51c2VyKSAhPT0gbnVsbCAmJiBfZXZlbnQkdXNlciAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyLmlkKSB7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUudHlwaW5nW2V2ZW50LnVzZXIuaWRdID0gZXZlbnQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndHlwaW5nLnN0b3AnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXIyID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXIyICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXIyLmlkKSB7XG4gICAgICAgICAgICBkZWxldGUgY2hhbm5lbFN0YXRlLnR5cGluZ1tldmVudC51c2VyLmlkXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdtZXNzYWdlLnJlYWQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXIzID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXIzICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXIzLmlkICYmIGV2ZW50LmNyZWF0ZWRfYXQpIHtcbiAgICAgICAgICAgIHZhciBfZXZlbnQkdXNlcjQsIF90aGlzJGdldENsaWVudCR1c2VyO1xuXG4gICAgICAgICAgICBjaGFubmVsU3RhdGUucmVhZFtldmVudC51c2VyLmlkXSA9IHtcbiAgICAgICAgICAgICAgbGFzdF9yZWFkOiBuZXcgRGF0ZShldmVudC5jcmVhdGVkX2F0KSxcbiAgICAgICAgICAgICAgbGFzdF9yZWFkX21lc3NhZ2VfaWQ6IGV2ZW50Lmxhc3RfcmVhZF9tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICB1c2VyOiBldmVudC51c2VyLFxuICAgICAgICAgICAgICB1bnJlYWRfbWVzc2FnZXM6IDBcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICgoKF9ldmVudCR1c2VyNCA9IGV2ZW50LnVzZXIpID09PSBudWxsIHx8IF9ldmVudCR1c2VyNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2ZW50JHVzZXI0LmlkKSA9PT0gKChfdGhpcyRnZXRDbGllbnQkdXNlciA9IHRoaXMuZ2V0Q2xpZW50KCkudXNlcikgPT09IG51bGwgfHwgX3RoaXMkZ2V0Q2xpZW50JHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGdldENsaWVudCR1c2VyLmlkKSkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUudW5yZWFkQ291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3VzZXIud2F0Y2hpbmcuc3RhcnQnOlxuICAgICAgICBjYXNlICd1c2VyLnVwZGF0ZWQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXI1ID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXI1ICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXI1LmlkKSB7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUud2F0Y2hlcnNbZXZlbnQudXNlci5pZF0gPSBldmVudC51c2VyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3VzZXIud2F0Y2hpbmcuc3RvcCc6XG4gICAgICAgICAgaWYgKChfZXZlbnQkdXNlcjYgPSBldmVudC51c2VyKSAhPT0gbnVsbCAmJiBfZXZlbnQkdXNlcjYgIT09IHZvaWQgMCAmJiBfZXZlbnQkdXNlcjYuaWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBjaGFubmVsU3RhdGUud2F0Y2hlcnNbZXZlbnQudXNlci5pZF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWVzc2FnZS5kZWxldGVkJzpcbiAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5fZXh0ZW5kRXZlbnRXaXRoT3duUmVhY3Rpb25zKGV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LmhhcmRfZGVsZXRlKSBjaGFubmVsU3RhdGUucmVtb3ZlTWVzc2FnZShldmVudC5tZXNzYWdlKTtlbHNlIGNoYW5uZWxTdGF0ZS5hZGRNZXNzYWdlU29ydGVkKGV2ZW50Lm1lc3NhZ2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUucmVtb3ZlUXVvdGVkTWVzc2FnZVJlZmVyZW5jZXMoZXZlbnQubWVzc2FnZSk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5tZXNzYWdlLnBpbm5lZCkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUucmVtb3ZlUGlubmVkTWVzc2FnZShldmVudC5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdtZXNzYWdlLm5ldyc6XG4gICAgICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBfZXZlbnQkdXNlcjcsIF90aGlzJGdldENsaWVudCR1c2VyMiwgX2V2ZW50JHVzZXI4O1xuXG4gICAgICAgICAgICAvKiBpZiBtZXNzYWdlIGJlbG9uZ3MgdG8gY3VycmVudCB1c2VyLCBhbHdheXMgYXNzdW1lIHRpbWVzdGFtcCBpcyBjaGFuZ2VkIHRvIGZpbHRlciBpdCBvdXQgYW5kIGFkZCBhZ2FpbiB0byBhdm9pZCBkdXBsaWNhdGlvbiAqL1xuICAgICAgICAgICAgdmFyIG93bk1lc3NhZ2UgPSAoKF9ldmVudCR1c2VyNyA9IGV2ZW50LnVzZXIpID09PSBudWxsIHx8IF9ldmVudCR1c2VyNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2V2ZW50JHVzZXI3LmlkKSA9PT0gKChfdGhpcyRnZXRDbGllbnQkdXNlcjIgPSB0aGlzLmdldENsaWVudCgpLnVzZXIpID09PSBudWxsIHx8IF90aGlzJGdldENsaWVudCR1c2VyMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZ2V0Q2xpZW50JHVzZXIyLmlkKTtcbiAgICAgICAgICAgIHZhciBpc1RocmVhZE1lc3NhZ2UgPSBldmVudC5tZXNzYWdlLnBhcmVudF9pZCAmJiAhZXZlbnQubWVzc2FnZS5zaG93X2luX2NoYW5uZWw7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmlzVXBUb0RhdGUgfHwgaXNUaHJlYWRNZXNzYWdlKSB7XG4gICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5hZGRNZXNzYWdlU29ydGVkKGV2ZW50Lm1lc3NhZ2UsIG93bk1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZS5waW5uZWQpIHtcbiAgICAgICAgICAgICAgY2hhbm5lbFN0YXRlLmFkZFBpbm5lZE1lc3NhZ2UoZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgICB9IC8vIGRvIG5vdCBpbmNyZWFzZSB0aGUgdW5yZWFkIGNvdW50IC0gdGhlIGJhY2stZW5kIGRvZXMgbm90IGluY3JlYXNlIHRoZSBjb3VudCBuZWl0aGVyIGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG4gICAgICAgICAgICAvLyAxLiB0aGUgbWVzc2FnZSBpcyBtaW5lXG4gICAgICAgICAgICAvLyAyLiB0aGUgbWVzc2FnZSBpcyBhIHRocmVhZCByZXBseSBmcm9tIGFueSB1c2VyXG5cblxuICAgICAgICAgICAgdmFyIHByZXZlbnRVbnJlYWRDb3VudFVwZGF0ZSA9IG93bk1lc3NhZ2UgfHwgaXNUaHJlYWRNZXNzYWdlO1xuICAgICAgICAgICAgaWYgKHByZXZlbnRVbnJlYWRDb3VudFVwZGF0ZSkgYnJlYWs7XG5cbiAgICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXI4ID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXI4ICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXI4LmlkKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIHVzZXJJZCBpbiBjaGFubmVsU3RhdGUucmVhZCkge1xuICAgICAgICAgICAgICAgIGlmICh1c2VySWQgPT09IGV2ZW50LnVzZXIuaWQpIHtcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5yZWFkW2V2ZW50LnVzZXIuaWRdID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXN0X3JlYWQ6IG5ldyBEYXRlKGV2ZW50LmNyZWF0ZWRfYXQpLFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBldmVudC51c2VyLFxuICAgICAgICAgICAgICAgICAgICB1bnJlYWRfbWVzc2FnZXM6IDBcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5yZWFkW3VzZXJJZF0udW5yZWFkX21lc3NhZ2VzICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9jb3VudE1lc3NhZ2VBc1VucmVhZChldmVudC5tZXNzYWdlKSkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUudW5yZWFkQ291bnQgPSBjaGFubmVsU3RhdGUudW5yZWFkQ291bnQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ21lc3NhZ2UudXBkYXRlZCc6XG4gICAgICAgIGNhc2UgJ21lc3NhZ2UudW5kZWxldGVkJzpcbiAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5fZXh0ZW5kRXZlbnRXaXRoT3duUmVhY3Rpb25zKGV2ZW50KTtcblxuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLmFkZE1lc3NhZ2VTb3J0ZWQoZXZlbnQubWVzc2FnZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UucGlubmVkKSB7XG4gICAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5hZGRQaW5uZWRNZXNzYWdlKGV2ZW50Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2hhbm5lbFN0YXRlLnJlbW92ZVBpbm5lZE1lc3NhZ2UoZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnY2hhbm5lbC50cnVuY2F0ZWQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JGNoYW5uZWwgPSBldmVudC5jaGFubmVsKSAhPT0gbnVsbCAmJiBfZXZlbnQkY2hhbm5lbCAhPT0gdm9pZCAwICYmIF9ldmVudCRjaGFubmVsLnRydW5jYXRlZF9hdCkge1xuICAgICAgICAgICAgdmFyIHRydW5jYXRlZEF0ID0gK25ldyBEYXRlKGV2ZW50LmNoYW5uZWwudHJ1bmNhdGVkX2F0KTtcbiAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5tZXNzYWdlU2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChtZXNzYWdlU2V0LCBtZXNzYWdlU2V0SW5kZXgpIHtcbiAgICAgICAgICAgICAgbWVzc2FnZVNldC5tZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkQXQgPSBfcmVmMi5jcmVhdGVkX2F0LFxuICAgICAgICAgICAgICAgICAgICBpZCA9IF9yZWYyLmlkO1xuICAgICAgICAgICAgICAgIGlmICh0cnVuY2F0ZWRBdCA+ICtjcmVhdGVkQXQpIGNoYW5uZWxTdGF0ZS5yZW1vdmVNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VTZXRJbmRleDogbWVzc2FnZVNldEluZGV4XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUucGlubmVkTWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgICAgICAgdmFyIGlkID0gX3JlZjMuaWQsXG4gICAgICAgICAgICAgICAgICBjcmVhdGVkQXQgPSBfcmVmMy5jcmVhdGVkX2F0O1xuICAgICAgICAgICAgICBpZiAodHJ1bmNhdGVkQXQgPiArY3JlYXRlZEF0KSBjaGFubmVsU3RhdGUucmVtb3ZlUGlubmVkTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS5jbGVhck1lc3NhZ2VzKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2hhbm5lbFN0YXRlLnVucmVhZENvdW50ID0gMDsgLy8gc3lzdGVtIG1lc3NhZ2VzIGRvbid0IGluY3JlbWVudCB1bnJlYWQgY291bnRzXG5cbiAgICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSkge1xuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLmFkZE1lc3NhZ2VTb3J0ZWQoZXZlbnQubWVzc2FnZSk7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5tZXNzYWdlLnBpbm5lZCkge1xuICAgICAgICAgICAgICBjaGFubmVsU3RhdGUuYWRkUGlubmVkTWVzc2FnZShldmVudC5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdtZW1iZXIuYWRkZWQnOlxuICAgICAgICBjYXNlICdtZW1iZXIudXBkYXRlZCc6XG4gICAgICAgICAgaWYgKChfZXZlbnQkbWVtYmVyID0gZXZlbnQubWVtYmVyKSAhPT0gbnVsbCAmJiBfZXZlbnQkbWVtYmVyICE9PSB2b2lkIDAgJiYgX2V2ZW50JG1lbWJlci51c2VyX2lkKSB7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUubWVtYmVyc1tldmVudC5tZW1iZXIudXNlcl9pZF0gPSBldmVudC5tZW1iZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbWVtYmVyLnJlbW92ZWQnOlxuICAgICAgICAgIGlmICgoX2V2ZW50JHVzZXI5ID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXI5ICE9PSB2b2lkIDAgJiYgX2V2ZW50JHVzZXI5LmlkKSB7XG4gICAgICAgICAgICBkZWxldGUgY2hhbm5lbFN0YXRlLm1lbWJlcnNbZXZlbnQudXNlci5pZF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnbm90aWZpY2F0aW9uLm1hcmtfdW5yZWFkJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICB2YXIgX2V2ZW50JHVzZXIxMCwgX3RoaXMkZ2V0Q2xpZW50JHVzZXIzLCBfZXZlbnQkdW5yZWFkX21lc3NhZ2U7XG5cbiAgICAgICAgICAgIHZhciBfb3duTWVzc2FnZSA9ICgoX2V2ZW50JHVzZXIxMCA9IGV2ZW50LnVzZXIpID09PSBudWxsIHx8IF9ldmVudCR1c2VyMTAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCR1c2VyMTAuaWQpID09PSAoKF90aGlzJGdldENsaWVudCR1c2VyMyA9IHRoaXMuZ2V0Q2xpZW50KCkudXNlcikgPT09IG51bGwgfHwgX3RoaXMkZ2V0Q2xpZW50JHVzZXIzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRnZXRDbGllbnQkdXNlcjMuaWQpO1xuXG4gICAgICAgICAgICBpZiAoIShfb3duTWVzc2FnZSAmJiBldmVudC51c2VyKSkgYnJlYWs7XG4gICAgICAgICAgICB2YXIgdW5yZWFkQ291bnQgPSAoX2V2ZW50JHVucmVhZF9tZXNzYWdlID0gZXZlbnQudW5yZWFkX21lc3NhZ2VzKSAhPT0gbnVsbCAmJiBfZXZlbnQkdW5yZWFkX21lc3NhZ2UgIT09IHZvaWQgMCA/IF9ldmVudCR1bnJlYWRfbWVzc2FnZSA6IDA7XG4gICAgICAgICAgICBjaGFubmVsU3RhdGUucmVhZFtldmVudC51c2VyLmlkXSA9IHtcbiAgICAgICAgICAgICAgZmlyc3RfdW5yZWFkX21lc3NhZ2VfaWQ6IGV2ZW50LmZpcnN0X3VucmVhZF9tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICBsYXN0X3JlYWQ6IG5ldyBEYXRlKGV2ZW50Lmxhc3RfcmVhZF9hdCksXG4gICAgICAgICAgICAgIGxhc3RfcmVhZF9tZXNzYWdlX2lkOiBldmVudC5sYXN0X3JlYWRfbWVzc2FnZV9pZCxcbiAgICAgICAgICAgICAgdXNlcjogZXZlbnQudXNlcixcbiAgICAgICAgICAgICAgdW5yZWFkX21lc3NhZ2VzOiB1bnJlYWRDb3VudFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNoYW5uZWxTdGF0ZS51bnJlYWRDb3VudCA9IHVucmVhZENvdW50O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2NoYW5uZWwudXBkYXRlZCc6XG4gICAgICAgICAgaWYgKGV2ZW50LmNoYW5uZWwpIHtcbiAgICAgICAgICAgIHZhciBfZXZlbnQkY2hhbm5lbDIsIF9jaGFubmVsJGRhdGEsIF9ldmVudCRjaGFubmVsJGhpZGRlbiwgX2V2ZW50JGNoYW5uZWwzLCBfY2hhbm5lbCRkYXRhMiwgX2V2ZW50JGNoYW5uZWwkb3duX2NhLCBfZXZlbnQkY2hhbm5lbDQsIF9jaGFubmVsJGRhdGEzO1xuXG4gICAgICAgICAgICB2YXIgaXNGcm96ZW5DaGFuZ2VkID0gKChfZXZlbnQkY2hhbm5lbDIgPSBldmVudC5jaGFubmVsKSA9PT0gbnVsbCB8fCBfZXZlbnQkY2hhbm5lbDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCRjaGFubmVsMi5mcm96ZW4pICE9PSB1bmRlZmluZWQgJiYgZXZlbnQuY2hhbm5lbC5mcm96ZW4gIT09ICgoX2NoYW5uZWwkZGF0YSA9IGNoYW5uZWwuZGF0YSkgPT09IG51bGwgfHwgX2NoYW5uZWwkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NoYW5uZWwkZGF0YS5mcm96ZW4pO1xuXG4gICAgICAgICAgICBpZiAoaXNGcm96ZW5DaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIHRoaXMucXVlcnkoe1xuICAgICAgICAgICAgICAgIHN0YXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczoge1xuICAgICAgICAgICAgICAgICAgbGltaXQ6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHdhdGNoZXJzOiB7XG4gICAgICAgICAgICAgICAgICBsaW1pdDogMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoYW5uZWwuZGF0YSA9IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIGV2ZW50LmNoYW5uZWwpLCB7fSwge1xuICAgICAgICAgICAgICBoaWRkZW46IChfZXZlbnQkY2hhbm5lbCRoaWRkZW4gPSAoX2V2ZW50JGNoYW5uZWwzID0gZXZlbnQuY2hhbm5lbCkgPT09IG51bGwgfHwgX2V2ZW50JGNoYW5uZWwzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXZlbnQkY2hhbm5lbDMuaGlkZGVuKSAhPT0gbnVsbCAmJiBfZXZlbnQkY2hhbm5lbCRoaWRkZW4gIT09IHZvaWQgMCA/IF9ldmVudCRjaGFubmVsJGhpZGRlbiA6IChfY2hhbm5lbCRkYXRhMiA9IGNoYW5uZWwuZGF0YSkgPT09IG51bGwgfHwgX2NoYW5uZWwkZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGFubmVsJGRhdGEyLmhpZGRlbixcbiAgICAgICAgICAgICAgb3duX2NhcGFiaWxpdGllczogKF9ldmVudCRjaGFubmVsJG93bl9jYSA9IChfZXZlbnQkY2hhbm5lbDQgPSBldmVudC5jaGFubmVsKSA9PT0gbnVsbCB8fCBfZXZlbnQkY2hhbm5lbDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCRjaGFubmVsNC5vd25fY2FwYWJpbGl0aWVzKSAhPT0gbnVsbCAmJiBfZXZlbnQkY2hhbm5lbCRvd25fY2EgIT09IHZvaWQgMCA/IF9ldmVudCRjaGFubmVsJG93bl9jYSA6IChfY2hhbm5lbCRkYXRhMyA9IGNoYW5uZWwuZGF0YSkgPT09IG51bGwgfHwgX2NoYW5uZWwkZGF0YTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jaGFubmVsJGRhdGEzLm93bl9jYXBhYmlsaXRpZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JlYWN0aW9uLm5ldyc6XG4gICAgICAgICAgaWYgKGV2ZW50Lm1lc3NhZ2UgJiYgZXZlbnQucmVhY3Rpb24pIHtcbiAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBjaGFubmVsU3RhdGUuYWRkUmVhY3Rpb24oZXZlbnQucmVhY3Rpb24sIGV2ZW50Lm1lc3NhZ2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JlYWN0aW9uLmRlbGV0ZWQnOlxuICAgICAgICAgIGlmIChldmVudC5yZWFjdGlvbikge1xuICAgICAgICAgICAgZXZlbnQubWVzc2FnZSA9IGNoYW5uZWxTdGF0ZS5yZW1vdmVSZWFjdGlvbihldmVudC5yZWFjdGlvbiwgZXZlbnQubWVzc2FnZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmVhY3Rpb24udXBkYXRlZCc6XG4gICAgICAgICAgaWYgKGV2ZW50LnJlYWN0aW9uKSB7XG4gICAgICAgICAgICAvLyBhc3N1bWluZyByZWFjdGlvbi51cGRhdGVkIGlzIG9ubHkgY2FsbGVkIGlmIGVuZm9yY2VfdW5pcXVlIGlzIHRydWVcbiAgICAgICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBjaGFubmVsU3RhdGUuYWRkUmVhY3Rpb24oZXZlbnQucmVhY3Rpb24sIGV2ZW50Lm1lc3NhZ2UsIHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2NoYW5uZWwuaGlkZGVuJzpcbiAgICAgICAgICBjaGFubmVsLmRhdGEgPSBfb2JqZWN0U3ByZWFkJDYoX29iamVjdFNwcmVhZCQ2KHt9LCBjaGFubmVsLmRhdGEpLCB7fSwge1xuICAgICAgICAgICAgaGlkZGVuOiB0cnVlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoZXZlbnQuY2xlYXJfaGlzdG9yeSkge1xuICAgICAgICAgICAgY2hhbm5lbFN0YXRlLmNsZWFyTWVzc2FnZXMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdjaGFubmVsLnZpc2libGUnOlxuICAgICAgICAgIGNoYW5uZWwuZGF0YSA9IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIGNoYW5uZWwuZGF0YSksIHt9LCB7XG4gICAgICAgICAgICBoaWRkZW46IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndXNlci5iYW5uZWQnOlxuICAgICAgICAgIGlmICghKChfZXZlbnQkdXNlcjExID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXIxMSAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyMTEuaWQpKSBicmVhaztcbiAgICAgICAgICBjaGFubmVsU3RhdGUubWVtYmVyc1tldmVudC51c2VyLmlkXSA9IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIGNoYW5uZWxTdGF0ZS5tZW1iZXJzW2V2ZW50LnVzZXIuaWRdIHx8IHt9KSwge30sIHtcbiAgICAgICAgICAgIHNoYWRvd19iYW5uZWQ6ICEhZXZlbnQuc2hhZG93LFxuICAgICAgICAgICAgYmFubmVkOiAhZXZlbnQuc2hhZG93LFxuICAgICAgICAgICAgdXNlcjogX29iamVjdFNwcmVhZCQ2KF9vYmplY3RTcHJlYWQkNih7fSwgKChfY2hhbm5lbFN0YXRlJG1lbWJlcnMgPSBjaGFubmVsU3RhdGUubWVtYmVyc1tldmVudC51c2VyLmlkXSkgPT09IG51bGwgfHwgX2NoYW5uZWxTdGF0ZSRtZW1iZXJzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2hhbm5lbFN0YXRlJG1lbWJlcnMudXNlcikgfHwge30pLCBldmVudC51c2VyKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3VzZXIudW5iYW5uZWQnOlxuICAgICAgICAgIGlmICghKChfZXZlbnQkdXNlcjEyID0gZXZlbnQudXNlcikgIT09IG51bGwgJiYgX2V2ZW50JHVzZXIxMiAhPT0gdm9pZCAwICYmIF9ldmVudCR1c2VyMTIuaWQpKSBicmVhaztcbiAgICAgICAgICBjaGFubmVsU3RhdGUubWVtYmVyc1tldmVudC51c2VyLmlkXSA9IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sIGNoYW5uZWxTdGF0ZS5tZW1iZXJzW2V2ZW50LnVzZXIuaWRdIHx8IHt9KSwge30sIHtcbiAgICAgICAgICAgIHNoYWRvd19iYW5uZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYmFubmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHVzZXI6IF9vYmplY3RTcHJlYWQkNihfb2JqZWN0U3ByZWFkJDYoe30sICgoX2NoYW5uZWxTdGF0ZSRtZW1iZXJzMiA9IGNoYW5uZWxTdGF0ZS5tZW1iZXJzW2V2ZW50LnVzZXIuaWRdKSA9PT0gbnVsbCB8fCBfY2hhbm5lbFN0YXRlJG1lbWJlcnMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2hhbm5lbFN0YXRlJG1lbWJlcnMyLnVzZXIpIHx8IHt9KSwgZXZlbnQudXNlcilcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH0gLy8gYW55IGV2ZW50IGNhbiBzZW5kIG92ZXIgdGhlIG9ubGluZSBjb3VudFxuXG5cbiAgICAgIGlmIChldmVudC53YXRjaGVyX2NvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2hhbm5lbC5zdGF0ZS53YXRjaGVyX2NvdW50ID0gZXZlbnQud2F0Y2hlcl9jb3VudDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2NoZWNrSW5pdGlhbGl6ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NoZWNrSW5pdGlhbGl6ZWQoKSB7XG4gICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQgJiYgIXRoaXMub2ZmbGluZU1vZGUgJiYgIXRoaXMuZ2V0Q2xpZW50KCkuX2lzVXNpbmdTZXJ2ZXJBdXRoKCkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJDaGFubmVsIFwiLmNvbmNhdCh0aGlzLmNpZCwgXCIgaGFzbid0IGJlZW4gaW5pdGlhbGl6ZWQgeWV0LiBNYWtlIHN1cmUgdG8gY2FsbCAud2F0Y2goKSBhbmQgd2FpdCBmb3IgaXQgdG8gcmVzb2x2ZVwiKSk7XG4gICAgICB9XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc29uYXJqcy9jb2duaXRpdmUtY29tcGxleGl0eVxuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2luaXRpYWxpemVTdGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdGlhbGl6ZVN0YXRlKHN0YXRlKSB7XG4gICAgICB2YXIgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2xhdGVzdCc7XG5cbiAgICAgIHZhciBfdGhpcyRnZXRDbGllbnQyID0gdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICBjbGllbnRTdGF0ZSA9IF90aGlzJGdldENsaWVudDIuc3RhdGUsXG4gICAgICAgICAgdXNlciA9IF90aGlzJGdldENsaWVudDIudXNlcixcbiAgICAgICAgICB1c2VySUQgPSBfdGhpcyRnZXRDbGllbnQyLnVzZXJJRDsgLy8gYWRkIHRoZSBVc2Vyc1xuXG5cbiAgICAgIGlmIChzdGF0ZS5tZW1iZXJzKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQzKHN0YXRlLm1lbWJlcnMpLFxuICAgICAgICAgICAgX3N0ZXA7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIG1lbWJlciA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAobWVtYmVyLnVzZXIpIHtcbiAgICAgICAgICAgICAgY2xpZW50U3RhdGUudXBkYXRlVXNlclJlZmVyZW5jZShtZW1iZXIudXNlciwgdGhpcy5jaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUubWVtYmVyc2hpcCA9IHN0YXRlLm1lbWJlcnNoaXAgfHwge307XG4gICAgICB2YXIgbWVzc2FnZXMgPSBzdGF0ZS5tZXNzYWdlcyB8fCBbXTtcblxuICAgICAgaWYgKCF0aGlzLnN0YXRlLm1lc3NhZ2VzKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuaW5pdE1lc3NhZ2VzKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfdGhpcyRzdGF0ZSRhZGRNZXNzYWcgPSB0aGlzLnN0YXRlLmFkZE1lc3NhZ2VzU29ydGVkKG1lc3NhZ2VzLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSwgbWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCksXG4gICAgICAgICAgbWVzc2FnZVNldCA9IF90aGlzJHN0YXRlJGFkZE1lc3NhZy5tZXNzYWdlU2V0O1xuXG4gICAgICBpZiAoIXRoaXMuc3RhdGUucGlubmVkTWVzc2FnZXMpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5waW5uZWRNZXNzYWdlcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRlLmFkZFBpbm5lZE1lc3NhZ2VzKHN0YXRlLnBpbm5lZF9tZXNzYWdlcyB8fCBbXSk7XG5cbiAgICAgIGlmIChzdGF0ZS5wZW5kaW5nX21lc3NhZ2VzKSB7XG4gICAgICAgIHRoaXMuc3RhdGUucGVuZGluZ19tZXNzYWdlcyA9IHN0YXRlLnBlbmRpbmdfbWVzc2FnZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChzdGF0ZS53YXRjaGVyX2NvdW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS53YXRjaGVyX2NvdW50ID0gc3RhdGUud2F0Y2hlcl9jb3VudDtcbiAgICAgIH0gLy8gY29udmVydCB0aGUgYXJyYXlzIGludG8gb2JqZWN0cyBmb3IgZWFzaWVyIHN5bmNpbmcuLi5cblxuXG4gICAgICBpZiAoc3RhdGUud2F0Y2hlcnMpIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQzKHN0YXRlLndhdGNoZXJzKSxcbiAgICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgd2F0Y2hlciA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKHdhdGNoZXIpIHtcbiAgICAgICAgICAgICAgY2xpZW50U3RhdGUudXBkYXRlVXNlclJlZmVyZW5jZSh3YXRjaGVyLCB0aGlzLmNpZCk7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUud2F0Y2hlcnNbd2F0Y2hlci5pZF0gPSB3YXRjaGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gaW5pdGlhbGl6ZSByZWFkIHN0YXRlIHRvIGxhc3QgbWVzc2FnZSBvciBjdXJyZW50IHRpbWUgaWYgdGhlIGNoYW5uZWwgaXMgZW1wdHlcbiAgICAgIC8vIGlmIHRoZSB1c2VyIGlzIGEgbWVtYmVyLCB0aGlzIHZhbHVlIHdpbGwgYmUgb3ZlcndyaXR0ZW4gbGF0ZXIgb24gb3RoZXJ3aXNlIHRoaXMgZW5zdXJlc1xuICAgICAgLy8gdGhhdCBldmVyeXRoaW5nIHVwIHRvIHRoaXMgcG9pbnQgaXMgbm90IG1hcmtlZCBhcyB1bnJlYWRcblxuXG4gICAgICBpZiAodXNlcklEICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGxhc3RfcmVhZCA9IHRoaXMuc3RhdGUubGFzdF9tZXNzYWdlX2F0IHx8IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnJlYWRbdXNlci5pZF0gPSB7XG4gICAgICAgICAgICB1c2VyOiB1c2VyLFxuICAgICAgICAgICAgbGFzdF9yZWFkOiBsYXN0X3JlYWQsXG4gICAgICAgICAgICB1bnJlYWRfbWVzc2FnZXM6IDBcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9IC8vIGFwcGx5IHJlYWQgc3RhdGUgaWYgcGFydCBvZiB0aGUgc3RhdGVcblxuXG4gICAgICBpZiAoc3RhdGUucmVhZCkge1xuICAgICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDMoc3RhdGUucmVhZCksXG4gICAgICAgICAgICBfc3RlcDM7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIF9yZWFkJHVucmVhZF9tZXNzYWdlcztcblxuICAgICAgICAgICAgdmFyIHJlYWQgPSBfc3RlcDMudmFsdWU7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnJlYWRbcmVhZC51c2VyLmlkXSA9IHtcbiAgICAgICAgICAgICAgbGFzdF9yZWFkOiBuZXcgRGF0ZShyZWFkLmxhc3RfcmVhZCksXG4gICAgICAgICAgICAgIGxhc3RfcmVhZF9tZXNzYWdlX2lkOiByZWFkLmxhc3RfcmVhZF9tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICB1bnJlYWRfbWVzc2FnZXM6IChfcmVhZCR1bnJlYWRfbWVzc2FnZXMgPSByZWFkLnVucmVhZF9tZXNzYWdlcykgIT09IG51bGwgJiYgX3JlYWQkdW5yZWFkX21lc3NhZ2VzICE9PSB2b2lkIDAgPyBfcmVhZCR1bnJlYWRfbWVzc2FnZXMgOiAwLFxuICAgICAgICAgICAgICB1c2VyOiByZWFkLnVzZXJcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChyZWFkLnVzZXIuaWQgPT09ICh1c2VyID09PSBudWxsIHx8IHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHVzZXIuaWQpKSB7XG4gICAgICAgICAgICAgIHRoaXMuc3RhdGUudW5yZWFkQ291bnQgPSB0aGlzLnN0YXRlLnJlYWRbcmVhZC51c2VyLmlkXS51bnJlYWRfbWVzc2FnZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IzLmYoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUubWVtYmVycykge1xuICAgICAgICB0aGlzLnN0YXRlLm1lbWJlcnMgPSBzdGF0ZS5tZW1iZXJzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBtZW1iZXIpIHtcbiAgICAgICAgICBpZiAobWVtYmVyLnVzZXIpIHtcbiAgICAgICAgICAgIGFjY1ttZW1iZXIudXNlci5pZF0gPSBtZW1iZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlU2V0OiBtZXNzYWdlU2V0XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfZXh0ZW5kRXZlbnRXaXRoT3duUmVhY3Rpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9leHRlbmRFdmVudFdpdGhPd25SZWFjdGlvbnMoZXZlbnQpIHtcbiAgICAgIGlmICghZXZlbnQubWVzc2FnZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBtZXNzYWdlID0gdGhpcy5zdGF0ZS5maW5kTWVzc2FnZShldmVudC5tZXNzYWdlLmlkLCBldmVudC5tZXNzYWdlLnBhcmVudF9pZCk7XG5cbiAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgIGV2ZW50Lm1lc3NhZ2Uub3duX3JlYWN0aW9ucyA9IG1lc3NhZ2Uub3duX3JlYWN0aW9ucztcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2Rpc2Nvbm5lY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2Rpc2Nvbm5lY3QoKSB7XG4gICAgICB0aGlzLl9jbGllbnQubG9nZ2VyKCdpbmZvJywgXCJjaGFubmVsOmRpc2Nvbm5lY3QoKSAtIERpc2Nvbm5lY3RpbmcgdGhlIGNoYW5uZWwgXCIuY29uY2F0KHRoaXMuY2lkKSwge1xuICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nLCAnY2hhbm5lbCddLFxuICAgICAgICBjaGFubmVsOiB0aGlzXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5kaXNjb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zdGF0ZS5zZXRJc1VwVG9EYXRlKGZhbHNlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2hhbm5lbDtcbn0oKTtcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMihvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQyKG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMihvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDIobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQyKGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG4vKipcbiAqIENsaWVudFN0YXRlIC0gQSBjb250YWluZXIgY2xhc3MgZm9yIHRoZSBjbGllbnQgc3RhdGUuXG4gKi9cbnZhciBDbGllbnRTdGF0ZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENsaWVudFN0YXRlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGllbnRTdGF0ZSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1c2Vyc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlckNoYW5uZWxSZWZlcmVuY2VzXCIsIHZvaWQgMCk7XG5cbiAgICAvLyBzaG93IHRoZSBzdGF0dXMgZm9yIGEgY2VydGFpbiB1c2VyLi4uXG4gICAgLy8gaWUgb25saW5lLCBvZmZsaW5lIGV0Y1xuICAgIHRoaXMudXNlcnMgPSB7fTsgLy8gc3RvcmUgd2hpY2ggY2hhbm5lbHMgY29udGFpbiByZWZlcmVuY2VzIHRvIHRoZSBzcGVjaWZpZWQgdXNlci4uLlxuXG4gICAgdGhpcy51c2VyQ2hhbm5lbFJlZmVyZW5jZXMgPSB7fTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDbGllbnRTdGF0ZSwgW3tcbiAgICBrZXk6IFwidXBkYXRlVXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVXNlcnModXNlcnMpIHtcbiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHVzZXJzKSxcbiAgICAgICAgICBfc3RlcDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgdXNlciA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIHRoaXMudXBkYXRlVXNlcih1c2VyKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVVzZXIodXNlcikge1xuICAgICAgaWYgKHVzZXIgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnVzZXJzW3VzZXIuaWRdID0gdXNlcjtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlVXNlclJlZmVyZW5jZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVVc2VyUmVmZXJlbmNlKHVzZXIsIGNoYW5uZWxJRCkge1xuICAgICAgaWYgKHVzZXIgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlVXNlcih1c2VyKTtcblxuICAgICAgaWYgKCF0aGlzLnVzZXJDaGFubmVsUmVmZXJlbmNlc1t1c2VyLmlkXSkge1xuICAgICAgICB0aGlzLnVzZXJDaGFubmVsUmVmZXJlbmNlc1t1c2VyLmlkXSA9IHt9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLnVzZXJDaGFubmVsUmVmZXJlbmNlc1t1c2VyLmlkXVtjaGFubmVsSURdID0gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQWxsQ2hhbm5lbFJlZmVyZW5jZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVBbGxDaGFubmVsUmVmZXJlbmNlKGNoYW5uZWxJRCkge1xuICAgICAgZm9yICh2YXIgdXNlcklEIGluIHRoaXMudXNlckNoYW5uZWxSZWZlcmVuY2VzKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLnVzZXJDaGFubmVsUmVmZXJlbmNlc1t1c2VySURdW2NoYW5uZWxJRF07XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENsaWVudFN0YXRlO1xufSgpO1xuXG5mdW5jdGlvbiBvd25LZXlzJDUob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDUodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQ1KE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkNShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBJbnNpZ2h0TWV0cmljcyA9IGZ1bmN0aW9uIEluc2lnaHRNZXRyaWNzKCkge1xuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5zaWdodE1ldHJpY3MpO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25TdGFydFRpbWVzdGFtcFwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzQ29uc2VjdXRpdmVGYWlsdXJlc1wiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzVG90YWxGYWlsdXJlc1wiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImluc3RhbmNlQ2xpZW50SWRcIiwgdm9pZCAwKTtcblxuICB0aGlzLmNvbm5lY3Rpb25TdGFydFRpbWVzdGFtcCA9IG51bGw7XG4gIHRoaXMud3NUb3RhbEZhaWx1cmVzID0gMDtcbiAgdGhpcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICB0aGlzLmluc3RhbmNlQ2xpZW50SWQgPSByYW5kb21JZCgpO1xufTtcbi8qKlxuICogcG9zdEluc2lnaHRzIGlzIG5vdCBzdXBwb3NlZCB0byBiZSB1c2VkIGJ5IGVuZCB1c2VycyBkaXJlY3RseSB3aXRoaW4gY2hhdCBhcHBsaWNhdGlvbiwgYW5kIHRodXMgaXMga2VwdCBpc29sYXRlZFxuICogZnJvbSBhbGwgdGhlIGNsaWVudC9jb25uZWN0aW9uIGNvZGUvbG9naWMuXG4gKlxuICogQHBhcmFtIGluc2lnaHRUeXBlXG4gKiBAcGFyYW0gaW5zaWdodHNcbiAqL1xuXG52YXIgcG9zdEluc2lnaHRzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGluc2lnaHRUeXBlLCBpbnNpZ2h0cykge1xuICAgIHZhciBtYXhBdHRlbXB0cywgaTtcbiAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICB3aGlsZSAoMSkge1xuICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgbWF4QXR0ZW1wdHMgPSAzO1xuICAgICAgICAgICAgaSA9IDA7XG5cbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBpZiAoIShpIDwgbWF4QXR0ZW1wdHMpKSB7XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzO1xuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7XG4gICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdChcImh0dHBzOi8vY2hhdC1pbnNpZ2h0cy5nZXRzdHJlYW0uaW8vaW5zaWdodHMvXCIuY29uY2F0KGluc2lnaHRUeXBlKSwgaW5zaWdodHMpO1xuXG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gODtcbiAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgzKTtcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjtcbiAgICAgICAgICAgIHJldHVybiBzbGVlcCgoaSArIDEpICogMzAwMCk7XG5cbiAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcImNvbnRpbnVlXCIsIDE0KTtcblxuICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwiYnJlYWtcIiwgMTcpO1xuXG4gICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzMsIDhdXSk7XG4gIH0pKTtcblxuICByZXR1cm4gZnVuY3Rpb24gcG9zdEluc2lnaHRzKF94LCBfeDIpIHtcbiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xufSgpO1xuZnVuY3Rpb24gYnVpbGRXc0ZhdGFsSW5zaWdodChjb25uZWN0aW9uLCBldmVudCkge1xuICByZXR1cm4gX29iamVjdFNwcmVhZCQ1KF9vYmplY3RTcHJlYWQkNSh7fSwgZXZlbnQpLCBidWlsZFdzQmFzZUluc2lnaHQoY29ubmVjdGlvbikpO1xufVxuXG5mdW5jdGlvbiBidWlsZFdzQmFzZUluc2lnaHQoY29ubmVjdGlvbikge1xuICB2YXIgX2Nvbm5lY3Rpb24kd3MsIF9uYXZpZ2F0b3IsIF9uYXZpZ2F0b3IyO1xuXG4gIHZhciBjbGllbnQgPSBjb25uZWN0aW9uLmNsaWVudDtcbiAgcmV0dXJuIHtcbiAgICByZWFkeV9zdGF0ZTogKF9jb25uZWN0aW9uJHdzID0gY29ubmVjdGlvbi53cykgPT09IG51bGwgfHwgX2Nvbm5lY3Rpb24kd3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb25uZWN0aW9uJHdzLnJlYWR5U3RhdGUsXG4gICAgdXJsOiBjb25uZWN0aW9uLl9idWlsZFVybCgpLFxuICAgIGFwaV9rZXk6IGNsaWVudC5rZXksXG4gICAgc3RhcnRfdHM6IGNsaWVudC5pbnNpZ2h0TWV0cmljcy5jb25uZWN0aW9uU3RhcnRUaW1lc3RhbXAsXG4gICAgZW5kX3RzOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICBhdXRoX3R5cGU6IGNsaWVudC5nZXRBdXRoVHlwZSgpLFxuICAgIHRva2VuOiBjbGllbnQudG9rZW5NYW5hZ2VyLnRva2VuLFxuICAgIHVzZXJfaWQ6IGNsaWVudC51c2VySUQsXG4gICAgdXNlcl9kZXRhaWxzOiBjbGllbnQuX3VzZXIsXG4gICAgZGV2aWNlOiBjbGllbnQub3B0aW9ucy5kZXZpY2UsXG4gICAgY2xpZW50X2lkOiBjb25uZWN0aW9uLmNvbm5lY3Rpb25JRCxcbiAgICB3c19kZXRhaWxzOiBjb25uZWN0aW9uLndzLFxuICAgIHdzX2NvbnNlY3V0aXZlX2ZhaWx1cmVzOiBjbGllbnQuaW5zaWdodE1ldHJpY3Mud3NDb25zZWN1dGl2ZUZhaWx1cmVzLFxuICAgIHdzX3RvdGFsX2ZhaWx1cmVzOiBjbGllbnQuaW5zaWdodE1ldHJpY3Mud3NUb3RhbEZhaWx1cmVzLFxuICAgIHJlcXVlc3RfaWQ6IGNvbm5lY3Rpb24ucmVxdWVzdElELFxuICAgIG9ubGluZTogdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyAoX25hdmlnYXRvciA9IG5hdmlnYXRvcikgPT09IG51bGwgfHwgX25hdmlnYXRvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25hdmlnYXRvci5vbkxpbmUgOiBudWxsLFxuICAgIHVzZXJfYWdlbnQ6IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnID8gKF9uYXZpZ2F0b3IyID0gbmF2aWdhdG9yKSA9PT0gbnVsbCB8fCBfbmF2aWdhdG9yMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25hdmlnYXRvcjIudXNlckFnZW50IDogbnVsbCxcbiAgICBpbnN0YW5jZV9jbGllbnRfaWQ6IGNsaWVudC5pbnNpZ2h0TWV0cmljcy5pbnN0YW5jZUNsaWVudElkXG4gIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkV3NTdWNjZXNzQWZ0ZXJGYWlsdXJlSW5zaWdodChjb25uZWN0aW9uKSB7XG4gIHJldHVybiBidWlsZFdzQmFzZUluc2lnaHQoY29ubmVjdGlvbik7XG59XG5cbmZ1bmN0aW9uIG93bktleXMkNChvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDQoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQ0KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG4vLyBUeXBlIGd1YXJkcyB0byBjaGVjayBXZWJTb2NrZXQgZXJyb3IgdHlwZVxudmFyIGlzQ2xvc2VFdmVudCA9IGZ1bmN0aW9uIGlzQ2xvc2VFdmVudChyZXMpIHtcbiAgcmV0dXJuIHJlcy5jb2RlICE9PSB1bmRlZmluZWQ7XG59O1xuXG52YXIgaXNFcnJvckV2ZW50ID0gZnVuY3Rpb24gaXNFcnJvckV2ZW50KHJlcykge1xuICByZXR1cm4gcmVzLmVycm9yICE9PSB1bmRlZmluZWQ7XG59O1xuLyoqXG4gKiBTdGFibGVXU0Nvbm5lY3Rpb24gLSBBIFdTIGNvbm5lY3Rpb24gdGhhdCByZWNvbm5lY3RzIHVwb24gZmFpbHVyZS5cbiAqIC0gdGhlIGJyb3dzZXIgd2lsbCBzb21ldGltZXMgcmVwb3J0IHRoYXQgeW91J3JlIG9ubGluZSBvciBvZmZsaW5lXG4gKiAtIHRoZSBXUyBjb25uZWN0aW9uIGNhbiBicmVhayBhbmQgZmFpbCAodGhlcmUgaXMgYSAzMHMgaGVhbHRoIGNoZWNrKVxuICogLSBzb21ldGltZXMgeW91ciBXUyBjb25uZWN0aW9uIHdpbGwgc2VlbSB0byB3b3JrIHdoaWxlIHRoZSB1c2VyIGlzIGluIGZhY3Qgb2ZmbGluZVxuICogLSB0byBzcGVlZCB1cCBvbmxpbmUvb2ZmbGluZSBkZXRlY3Rpb24geW91IGNhbiB1c2UgdGhlIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJyk7XG4gKlxuICogVGhlcmUgYXJlIDQgd2F5cyBpbiB3aGljaCBhIGNvbm5lY3Rpb24gY2FuIGJlY29tZSB1bmhlYWx0aHk6XG4gKiAtIHdlYnNvY2tldC5vbmVycm9yIGlzIGNhbGxlZFxuICogLSB3ZWJzb2NrZXQub25jbG9zZSBpcyBjYWxsZWRcbiAqIC0gdGhlIGhlYWx0aCBjaGVjayBmYWlscyBhbmQgbm8gZXZlbnQgaXMgcmVjZWl2ZWQgZm9yIH40MCBzZWNvbmRzXG4gKiAtIHRoZSBicm93c2VyIGluZGljYXRlcyB0aGUgY29ubmVjdGlvbiBpcyBub3cgb2ZmbGluZVxuICpcbiAqIFRoZXJlIGFyZSAyIGFzc3VtcHRpb25zIHdlIG1ha2UgYWJvdXQgdGhlIHNlcnZlcjpcbiAqIC0gc3RhdGUgY2FuIGJlIHJlY292ZXJlZCBieSBxdWVyeWluZyB0aGUgY2hhbm5lbCBhZ2FpblxuICogLSBpZiB0aGUgc2VydmVycyBmYWlscyB0byBwdWJsaXNoIGEgbWVzc2FnZSB0byB0aGUgY2xpZW50LCB0aGUgV1MgY29ubmVjdGlvbiBpcyBkZXN0cm95ZWRcbiAqL1xuXG5cbnZhciBTdGFibGVXU0Nvbm5lY3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvLyBnbG9iYWwgZnJvbSBjb25zdHJ1Y3RvclxuICAvLyBsb2NhbCB2YXJzXG4gIGZ1bmN0aW9uIFN0YWJsZVdTQ29ubmVjdGlvbihfcmVmKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjbGllbnQgPSBfcmVmLmNsaWVudDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGFibGVXU0Nvbm5lY3Rpb24pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY2xpZW50XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25uZWN0aW9uSURcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25PcGVuXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25zZWN1dGl2ZUZhaWx1cmVzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwaW5nSW50ZXJ2YWxcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImhlYWx0aENoZWNrVGltZW91dFJlZlwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNDb25uZWN0aW5nXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0Rpc2Nvbm5lY3RlZFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNIZWFsdGh5XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1Jlc29sdmVkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsYXN0RXZlbnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25DaGVja1RpbWVvdXRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWZcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlamVjdFByb21pc2VcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlcXVlc3RJRFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVzb2x2ZVByb21pc2VcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRvdGFsRmFpbHVyZXNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3c0lEXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfYnVpbGRVcmxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHFzID0gZW5jb2RlVVJJQ29tcG9uZW50KF90aGlzLmNsaWVudC5fYnVpbGRXU1BheWxvYWQoX3RoaXMucmVxdWVzdElEKSk7XG5cbiAgICAgIHZhciB0b2tlbiA9IF90aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuZ2V0VG9rZW4oKTtcblxuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KF90aGlzLmNsaWVudC53c0Jhc2VVUkwsIFwiL2Nvbm5lY3Q/anNvbj1cIikuY29uY2F0KHFzLCBcIiZhcGlfa2V5PVwiKS5jb25jYXQoX3RoaXMuY2xpZW50LmtleSwgXCImYXV0aG9yaXphdGlvbj1cIikuY29uY2F0KHRva2VuLCBcIiZzdHJlYW0tYXV0aC10eXBlPVwiKS5jb25jYXQoX3RoaXMuY2xpZW50LmdldEF1dGhUeXBlKCksIFwiJlgtU3RyZWFtLUNsaWVudD1cIikuY29uY2F0KF90aGlzLmNsaWVudC5nZXRVc2VyQWdlbnQoKSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbmxpbmVTdGF0dXNDaGFuZ2VkXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdvZmZsaW5lJykge1xuICAgICAgICAvLyBtYXJrIHRoZSBjb25uZWN0aW9uIGFzIGRvd25cbiAgICAgICAgX3RoaXMuX2xvZygnb25saW5lU3RhdHVzQ2hhbmdlZCgpIC0gU3RhdHVzIGNoYW5naW5nIHRvIG9mZmxpbmUnKTtcblxuICAgICAgICBfdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gJ29ubGluZScpIHtcbiAgICAgICAgLy8gcmV0cnkgcmlnaHQgbm93Li4uXG4gICAgICAgIC8vIFdlIGNoZWNrIHRoaXMuaXNIZWFsdGh5LCBub3Qgc3VyZSBpZiBpdCdzIGFsd2F5c1xuICAgICAgICAvLyBzbWFydCB0byBjcmVhdGUgYSBuZXcgV1MgY29ubmVjdGlvbiBpZiB0aGUgb2xkIG9uZSBpcyBzdGlsbCB1cCBhbmQgcnVubmluZy5cbiAgICAgICAgLy8gaXQncyBwb3NzaWJsZSB3ZSBkaWRuJ3QgbWlzcyBhbnkgbWVzc2FnZXMsIHNvIHRoaXMgcHJvY2VzcyBpcyBqdXN0IGV4cGVuc2l2ZSBhbmQgbm90IG5lZWRlZC5cbiAgICAgICAgX3RoaXMuX2xvZyhcIm9ubGluZVN0YXR1c0NoYW5nZWQoKSAtIFN0YXR1cyBjaGFuZ2luZyB0byBvbmxpbmUuIGlzSGVhbHRoeTogXCIuY29uY2F0KF90aGlzLmlzSGVhbHRoeSkpO1xuXG4gICAgICAgIGlmICghX3RoaXMuaXNIZWFsdGh5KSB7XG4gICAgICAgICAgX3RoaXMuX3JlY29ubmVjdCh7XG4gICAgICAgICAgICBpbnRlcnZhbDogMTBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25vcGVuXCIsIGZ1bmN0aW9uICh3c0lEKSB7XG4gICAgICBpZiAoX3RoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgICBfdGhpcy5fbG9nKCdvbm9wZW4oKSAtIG9ub3BlbiBjYWxsYmFjaycsIHtcbiAgICAgICAgd3NJRDogd3NJRFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbm1lc3NhZ2VcIiwgZnVuY3Rpb24gKHdzSUQsIGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgICBfdGhpcy5fbG9nKCdvbm1lc3NhZ2UoKSAtIG9ubWVzc2FnZSBjYWxsYmFjaycsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICB3c0lEOiB3c0lEXG4gICAgICB9KTtcblxuICAgICAgdmFyIGRhdGEgPSB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGV2ZW50LmRhdGEpIDogbnVsbDsgLy8gd2Ugd2FpdCB0aWxsIHRoZSBmaXJzdCBtZXNzYWdlIGJlZm9yZSB3ZSBjb25zaWRlciB0aGUgY29ubmVjdGlvbiBvcGVuLi5cbiAgICAgIC8vIHRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCBhdXRoIGVycm9ycyBhbmQgc2ltaWxhciBlcnJvcnMgdHJpZ2dlciBhIHdzLm9ub3BlbiBhbmQgaW1tZWRpYXRlbHlcbiAgICAgIC8vIGFmdGVyIHRoYXQgYSB3cy5vbmNsb3NlLi5cblxuICAgICAgaWYgKCFfdGhpcy5pc1Jlc29sdmVkICYmIGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzJHJlc29sdmVQcm9taXNlO1xuXG4gICAgICAgIF90aGlzLmlzUmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgICAgdmFyIF90aGlzJHJlamVjdFByb21pc2U7XG5cbiAgICAgICAgICAoX3RoaXMkcmVqZWN0UHJvbWlzZSA9IF90aGlzLnJlamVjdFByb21pc2UpID09PSBudWxsIHx8IF90aGlzJHJlamVjdFByb21pc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJlamVjdFByb21pc2UuY2FsbChfdGhpcywgX3RoaXMuX2Vycm9yRnJvbVdTRXZlbnQoZGF0YSwgZmFsc2UpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAoX3RoaXMkcmVzb2x2ZVByb21pc2UgPSBfdGhpcy5yZXNvbHZlUHJvbWlzZSkgPT09IG51bGwgfHwgX3RoaXMkcmVzb2x2ZVByb21pc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJlc29sdmVQcm9taXNlLmNhbGwoX3RoaXMsIGRhdGEpO1xuXG4gICAgICAgIF90aGlzLl9zZXRIZWFsdGgodHJ1ZSk7XG4gICAgICB9IC8vIHRyaWdnZXIgdGhlIGV2ZW50Li5cblxuXG4gICAgICBfdGhpcy5sYXN0RXZlbnQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLnR5cGUgPT09ICdoZWFsdGguY2hlY2snKSB7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlTmV4dFBpbmcoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuY2xpZW50LmhhbmRsZUV2ZW50KGV2ZW50KTtcblxuICAgICAgX3RoaXMuc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2soKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9uY2xvc2VcIiwgZnVuY3Rpb24gKHdzSUQsIGV2ZW50KSB7XG4gICAgICBpZiAoX3RoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgICBfdGhpcy5fbG9nKCdvbmNsb3NlKCkgLSBvbmNsb3NlIGNhbGxiYWNrIC0gJyArIGV2ZW50LmNvZGUsIHtcbiAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICB3c0lEOiB3c0lEXG4gICAgICB9KTtcblxuICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IGNoYXRDb2Rlcy5XU19DTE9TRURfU1VDQ0VTUykge1xuICAgICAgICB2YXIgX3RoaXMkcmVqZWN0UHJvbWlzZTI7XG5cbiAgICAgICAgLy8gdGhpcyBpcyBhIHBlcm1hbmVudCBlcnJvciByYWlzZWQgYnkgc3RyZWFtLi5cbiAgICAgICAgLy8gdXN1YWxseSBjYXVzZWQgYnkgaW52YWxpZCBhdXRoIGRldGFpbHNcbiAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiV1MgY29ubmVjdGlvbiByZWplY3Qgd2l0aCBlcnJvciBcIi5jb25jYXQoZXZlbnQucmVhc29uKSk7XG4gICAgICAgIGVycm9yLnJlYXNvbiA9IGV2ZW50LnJlYXNvbjtcbiAgICAgICAgZXJyb3IuY29kZSA9IGV2ZW50LmNvZGU7XG4gICAgICAgIGVycm9yLndhc0NsZWFuID0gZXZlbnQud2FzQ2xlYW47XG4gICAgICAgIGVycm9yLnRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgKF90aGlzJHJlamVjdFByb21pc2UyID0gX3RoaXMucmVqZWN0UHJvbWlzZSkgPT09IG51bGwgfHwgX3RoaXMkcmVqZWN0UHJvbWlzZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJlamVjdFByb21pc2UyLmNhbGwoX3RoaXMsIGVycm9yKTtcblxuICAgICAgICBfdGhpcy5fbG9nKFwib25jbG9zZSgpIC0gV1MgY29ubmVjdGlvbiByZWplY3Qgd2l0aCBlcnJvciBcIi5jb25jYXQoZXZlbnQucmVhc29uKSwge1xuICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfdGhpcyRyZWplY3RQcm9taXNlMztcblxuICAgICAgICBfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG4gICAgICAgIF90aGlzLnRvdGFsRmFpbHVyZXMgKz0gMTtcblxuICAgICAgICBfdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcblxuICAgICAgICBfdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgKF90aGlzJHJlamVjdFByb21pc2UzID0gX3RoaXMucmVqZWN0UHJvbWlzZSkgPT09IG51bGwgfHwgX3RoaXMkcmVqZWN0UHJvbWlzZTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHJlamVjdFByb21pc2UzLmNhbGwoX3RoaXMsIF90aGlzLl9lcnJvckZyb21XU0V2ZW50KGV2ZW50KSk7XG5cbiAgICAgICAgX3RoaXMuX2xvZyhcIm9uY2xvc2UoKSAtIFdTIGNvbm5lY3Rpb24gY2xvc2VkLiBDYWxsaW5nIHJlY29ubmVjdCAuLi5cIiwge1xuICAgICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgICB9KTsgLy8gcmVjb25uZWN0IGlmIGl0cyBhbiBhYm5vcm1hbCBmYWlsdXJlXG5cblxuICAgICAgICBfdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbmVycm9yXCIsIGZ1bmN0aW9uICh3c0lELCBldmVudCkge1xuICAgICAgdmFyIF90aGlzJHJlamVjdFByb21pc2U0O1xuXG4gICAgICBpZiAoX3RoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuICAgICAgX3RoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgX3RoaXMudG90YWxGYWlsdXJlcyArPSAxO1xuXG4gICAgICBfdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcblxuICAgICAgX3RoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAoX3RoaXMkcmVqZWN0UHJvbWlzZTQgPSBfdGhpcy5yZWplY3RQcm9taXNlKSA9PT0gbnVsbCB8fCBfdGhpcyRyZWplY3RQcm9taXNlNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkcmVqZWN0UHJvbWlzZTQuY2FsbChfdGhpcywgX3RoaXMuX2Vycm9yRnJvbVdTRXZlbnQoZXZlbnQpKTtcblxuICAgICAgX3RoaXMuX2xvZyhcIm9uZXJyb3IoKSAtIFdTIGNvbm5lY3Rpb24gcmVzdWx0ZWQgaW50byBlcnJvclwiLCB7XG4gICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLl9yZWNvbm5lY3QoKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zZXRIZWFsdGhcIiwgZnVuY3Rpb24gKGhlYWx0aHkpIHtcbiAgICAgIGlmIChoZWFsdGh5ID09PSBfdGhpcy5pc0hlYWx0aHkpIHJldHVybjtcbiAgICAgIF90aGlzLmlzSGVhbHRoeSA9IGhlYWx0aHk7XG5cbiAgICAgIGlmIChfdGhpcy5pc0hlYWx0aHkpIHtcbiAgICAgICAgX3RoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnLFxuICAgICAgICAgIG9ubGluZTogX3RoaXMuaXNIZWFsdGh5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gd2UncmUgb2ZmbGluZSwgd2FpdCBmZXcgc2Vjb25kcyBhbmQgZmlyZSBhbmQgZXZlbnQgaWYgc3RpbGwgb2ZmbGluZVxuXG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMuaXNIZWFsdGh5KSByZXR1cm47XG5cbiAgICAgICAgX3RoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnLFxuICAgICAgICAgIG9ubGluZTogX3RoaXMuaXNIZWFsdGh5XG4gICAgICAgIH0pO1xuICAgICAgfSwgNTAwMCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZXJyb3JGcm9tV1NFdmVudFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBpc1dTRmFpbHVyZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgICAgIHZhciBjb2RlO1xuICAgICAgdmFyIHN0YXR1c0NvZGU7XG4gICAgICB2YXIgbWVzc2FnZTtcblxuICAgICAgaWYgKGlzQ2xvc2VFdmVudChldmVudCkpIHtcbiAgICAgICAgY29kZSA9IGV2ZW50LmNvZGU7XG4gICAgICAgIHN0YXR1c0NvZGUgPSAndW5rbm93bic7XG4gICAgICAgIG1lc3NhZ2UgPSBldmVudC5yZWFzb247XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Vycm9yRXZlbnQoZXZlbnQpKSB7XG4gICAgICAgIGNvZGUgPSBldmVudC5lcnJvci5jb2RlO1xuICAgICAgICBzdGF0dXNDb2RlID0gZXZlbnQuZXJyb3IuU3RhdHVzQ29kZTtcbiAgICAgICAgbWVzc2FnZSA9IGV2ZW50LmVycm9yLm1lc3NhZ2U7XG4gICAgICB9IC8vIEtlZXBpbmcgdGhpcyBgd2FybmAgbGV2ZWwgbG9nLCB0byBhdm9pZCBjbHV0dGVyaW5nIG9mIGVycm9yIGxvZ3MgZnJvbSB3cyBmYWlsdXJlcy5cblxuXG4gICAgICBfdGhpcy5fbG9nKFwiX2Vycm9yRnJvbVdTRXZlbnQoKSAtIFdTIGZhaWxlZCB3aXRoIGNvZGUgXCIuY29uY2F0KGNvZGUpLCB7XG4gICAgICAgIGV2ZW50OiBldmVudFxuICAgICAgfSwgJ3dhcm4nKTtcblxuICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiV1MgZmFpbGVkIHdpdGggY29kZSBcIi5jb25jYXQoY29kZSwgXCIgYW5kIHJlYXNvbiAtIFwiKS5jb25jYXQobWVzc2FnZSkpO1xuICAgICAgZXJyb3IuY29kZSA9IGNvZGU7XG4gICAgICAvKipcbiAgICAgICAqIFN0YXR1c0NvZGUgZG9lcyBub3QgZXhpc3Qgb24gYW55IGV2ZW50IHR5cGVzIGJ1dCBoYXMgYmVlbiBsZWZ0XG4gICAgICAgKiBhcyBpcyB0byBwcmVzZXJ2ZSBKUyBmdW5jdGlvbmFsaXR5IGR1cmluZyB0aGUgVFMgaW1wbGVtZW50YXRpb25cbiAgICAgICAqL1xuXG4gICAgICBlcnJvci5TdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICAgIGVycm9yLmlzV1NGYWlsdXJlID0gaXNXU0ZhaWx1cmU7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0dXBDb25uZWN0aW9uUHJvbWlzZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5pc1Jlc29sdmVkID0gZmFsc2U7XG4gICAgICAvKiogYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgb25jZSB3cy5vcGVuIGlzIGNhbGxlZCAqL1xuXG4gICAgICBfdGhpcy5jb25uZWN0aW9uT3BlbiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgX3RoaXMucmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgICAgICBfdGhpcy5yZWplY3RQcm9taXNlID0gcmVqZWN0O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzY2hlZHVsZU5leHRQaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZik7XG4gICAgICB9IC8vIDMwIHNlY29uZHMgaXMgdGhlIHJlY29tbWVuZGVkIGludGVydmFsIChtZXNzZW5nZXIgdXNlcyB0aGlzKVxuXG5cbiAgICAgIF90aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBzZW5kIHRoZSBoZWFsdGhjaGVjay4uLCBzZXJ2ZXIgcmVwbGllcyB3aXRoIGEgaGVhbHRoIGNoZWNrIGV2ZW50XG4gICAgICAgIHZhciBkYXRhID0gW3tcbiAgICAgICAgICB0eXBlOiAnaGVhbHRoLmNoZWNrJyxcbiAgICAgICAgICBjbGllbnRfaWQ6IF90aGlzLmNsaWVudC5jbGllbnRJRFxuICAgICAgICB9XTsgLy8gdHJ5IHRvIHNlbmQgb24gdGhlIGNvbm5lY3Rpb25cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBfdGhpcyR3cztcblxuICAgICAgICAgIChfdGhpcyR3cyA9IF90aGlzLndzKSA9PT0gbnVsbCB8fCBfdGhpcyR3cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkd3Muc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsvLyBlcnJvciB3aWxsIGFscmVhZHkgYmUgZGV0ZWN0ZWQgZWxzZXdoZXJlXG4gICAgICAgIH1cbiAgICAgIH0sIF90aGlzLnBpbmdJbnRlcnZhbCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzY2hlZHVsZUNvbm5lY3Rpb25DaGVja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoX3RoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZikge1xuICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZik7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgaWYgKF90aGlzLmxhc3RFdmVudCAmJiBub3cuZ2V0VGltZSgpIC0gX3RoaXMubGFzdEV2ZW50LmdldFRpbWUoKSA+IF90aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQpIHtcbiAgICAgICAgICBfdGhpcy5fbG9nKCdzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayAtIGdvaW5nIHRvIHJlY29ubmVjdCcpO1xuXG4gICAgICAgICAgX3RoaXMuX3NldEhlYWx0aChmYWxzZSk7XG5cbiAgICAgICAgICBfdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIF90aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQpO1xuICAgIH0pO1xuXG4gICAgLyoqIFN0cmVhbUNoYXQgY2xpZW50ICovXG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgLyoqIGNvbnNlY3V0aXZlIGZhaWx1cmVzIGluZmx1ZW5jZSB0aGUgZHVyYXRpb24gb2YgdGhlIHRpbWVvdXQgKi9cblxuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgLyoqIGtlZXAgdHJhY2sgb2YgdGhlIHRvdGFsIG51bWJlciBvZiBmYWlsdXJlcyAqL1xuXG4gICAgdGhpcy50b3RhbEZhaWx1cmVzID0gMDtcbiAgICAvKiogV2Ugb25seSBtYWtlIDEgYXR0ZW1wdCB0byByZWNvbm5lY3QgYXQgdGhlIHNhbWUgdGltZS4uICovXG5cbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgIC8qKiBUbyBhdm9pZCByZWNvbm5lY3QgaWYgY2xpZW50IGlzIGRpc2Nvbm5lY3RlZCAqL1xuXG4gICAgdGhpcy5pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIC8qKiBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBjb25uZWN0aW9uIHByb21pc2UgaXMgcmVzb2x2ZWQgKi9cblxuICAgIHRoaXMuaXNSZXNvbHZlZCA9IGZhbHNlO1xuICAgIC8qKiBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHdlIGhhdmUgYSB3b3JraW5nIGNvbm5lY3Rpb24gdG8gdGhlIHNlcnZlciAqL1xuXG4gICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAvKiogSW5jcmVtZW50ZWQgd2hlbiBhIG5ldyBXUyBjb25uZWN0aW9uIGlzIG1hZGUgKi9cblxuICAgIHRoaXMud3NJRCA9IDE7XG4gICAgLyoqIFN0b3JlIHRoZSBsYXN0IGV2ZW50IHRpbWUgZm9yIGhlYWx0aCBjaGVja3MgKi9cblxuICAgIHRoaXMubGFzdEV2ZW50ID0gbnVsbDtcbiAgICAvKiogU2VuZCBhIGhlYWx0aCBjaGVjayBtZXNzYWdlIGV2ZXJ5IDI1IHNlY29uZHMgKi9cblxuICAgIHRoaXMucGluZ0ludGVydmFsID0gMjUgKiAxMDAwO1xuICAgIHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCA9IHRoaXMucGluZ0ludGVydmFsICsgMTAgKiAxMDAwO1xuICAgIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLm9ubGluZVN0YXR1c0NoYW5nZWQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFN0YWJsZVdTQ29ubmVjdGlvbiwgW3tcbiAgICBrZXk6IFwiX2xvZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9nKG1zZykge1xuICAgICAgdmFyIGV4dHJhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgIHZhciBsZXZlbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ2luZm8nO1xuICAgICAgdGhpcy5jbGllbnQubG9nZ2VyKGxldmVsLCAnY29ubmVjdGlvbjonICsgbXNnLCBfb2JqZWN0U3ByZWFkJDQoe1xuICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nXVxuICAgICAgfSwgZXh0cmEpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0Q2xpZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENsaWVudChjbGllbnQpIHtcbiAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjb25uZWN0IC0gQ29ubmVjdCB0byB0aGUgV1MgVVJMXG4gICAgICogdGhlIGRlZmF1bHQgMTVzIHRpbWVvdXQgYWxsb3dzIGJldHdlZW4gMn4zIHRyaWVzXG4gICAgICogQHJldHVybiB7Q29ubmVjdEFQSVJlc3BvbnNlPENoYW5uZWxUeXBlLCBDb21tYW5kVHlwZSwgVXNlclR5cGU+fSBQcm9taXNlIHRoYXQgY29tcGxldGVzIG9uY2UgdGhlIGZpcnN0IGhlYWx0aCBjaGVjayBtZXNzYWdlIGlzIHJlY2VpdmVkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY29ubmVjdDIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICB2YXIgdGltZW91dCxcbiAgICAgICAgICAgIGhlYWx0aENoZWNrLFxuICAgICAgICAgICAgX2FyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IF9hcmdzLmxlbmd0aCA+IDAgJiYgX2FyZ3NbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzWzBdIDogMTUwMDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNDb25uZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiWW91J3ZlIGNhbGxlZCBjb25uZWN0IHR3aWNlLCBjYW4gb25seSBhdHRlbXB0IDEgY29ubmVjdGlvbiBhdCB0aGUgdGltZVwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA0O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0KCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIGhlYWx0aENoZWNrID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKFwiY29ubmVjdCgpIC0gRXN0YWJsaXNoZWQgd3MgY29ubmVjdGlvbiB3aXRoIGhlYWx0aGNoZWNrOiBcIi5jb25jYXQoaGVhbHRoQ2hlY2spKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjtcbiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0W1wiY2F0Y2hcIl0oNCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0LnQwLmNvZGUgPT09IGNoYXRDb2Rlcy5UT0tFTl9FWFBJUkVEICYmICF0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0Jyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3Qoe1xuICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgICBpZiAoX2NvbnRleHQudDAuaXNXU0ZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICBjb2RlOiBfY29udGV4dC50MC5jb2RlLFxuICAgICAgICAgICAgICAgICAgU3RhdHVzQ29kZTogX2NvbnRleHQudDAuU3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF9jb250ZXh0LnQwLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICBpc1dTRmFpbHVyZTogX2NvbnRleHQudDAuaXNXU0ZhaWx1cmVcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dhaXRGb3JIZWFsdGh5KHRpbWVvdXQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIHRoaXMsIFtbNCwgMTJdXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBfY29ubmVjdDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbm5lY3Q7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogX3dhaXRGb3JIZWFsdGh5IHBvbGxzIHRoZSBwcm9taXNlIGNvbm5lY3Rpb24gdG8gc2VlIGlmIGl0cyByZXNvbHZlZCB1bnRpbCBpdCB0aW1lcyBvdXRcbiAgICAgKiB0aGUgZGVmYXVsdCAxNXMgdGltZW91dCBhbGxvd3MgYmV0d2VlbiAyfjMgdHJpZXNcbiAgICAgKiBAcGFyYW0gdGltZW91dCBkdXJhdGlvbihtcylcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl93YWl0Rm9ySGVhbHRoeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3dhaXRGb3JIZWFsdGh5MiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgdGltZW91dCxcbiAgICAgICAgICAgIF9hcmdzNCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IF9hcmdzNC5sZW5ndGggPiAwICYmIF9hcmdzNFswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0WzBdIDogMTUwMDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yYWNlKFtfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBpbnRlcnZhbCwgaTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbCA9IDUwOyAvLyBtc1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGkgPD0gdGltZW91dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY29ubmVjdGlvbk9wZW47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyLnNlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oMyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaSA9PT0gdGltZW91dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBfY29udGV4dDIudDAuY29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGF0dXNDb2RlOiBfY29udGV4dDIudDAuU3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBfY29udGV4dDIudDAubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1dTRmFpbHVyZTogX2NvbnRleHQyLnQwLmlzV1NGYWlsdXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNsZWVwKGludGVydmFsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaSArPSBpbnRlcnZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1szLCA5XV0pO1xuICAgICAgICAgICAgICAgIH0pKSgpLCBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzbGVlcCh0aW1lb3V0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdHVzQ29kZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ2luaXRpYWwgV1MgY29ubmVjdGlvbiBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzV1NGYWlsdXJlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUzKTtcbiAgICAgICAgICAgICAgICB9KSkoKV0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0KTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX3dhaXRGb3JIZWFsdGh5KCkge1xuICAgICAgICByZXR1cm4gX3dhaXRGb3JIZWFsdGh5Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3dhaXRGb3JIZWFsdGh5O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBhbmQgcmV0dXJucyB0aGUgdXJsIGZvciB3ZWJzb2NrZXQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB1cmwgc3RyaW5nXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkaXNjb25uZWN0XCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogZGlzY29ubmVjdCAtIERpc2Nvbm5lY3QgdGhlIGNvbm5lY3Rpb24gYW5kIGRvZXNuJ3QgcmVjb3Zlci4uLlxuICAgICAqXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGlzY29ubmVjdCh0aW1lb3V0KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdGhpcy5fbG9nKFwiZGlzY29ubmVjdCgpIC0gQ2xvc2luZyB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24gZm9yIHdzSUQgXCIuY29uY2F0KHRoaXMud3NJRCkpO1xuXG4gICAgICB0aGlzLndzSUQgKz0gMTtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gdHJ1ZTsgLy8gc3RhcnQgYnkgcmVtb3ZpbmcgYWxsIHRoZSBsaXN0ZW5lcnNcblxuICAgICAgaWYgKHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICAgIH1cblxuICAgICAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMub25saW5lU3RhdHVzQ2hhbmdlZCk7XG4gICAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlOyAvLyByZW1vdmUgd3MgaGFuZGxlcnMuLi5cblxuICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZW1vdmVBbGxMaXN0ZW5lcnMpIHtcbiAgICAgICAgdGhpcy53cy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzQ2xvc2VkUHJvbWlzZTsgLy8gYW5kIGZpbmFsbHkgY2xvc2UuLi5cbiAgICAgIC8vIEFzc2lnbmluZyB0byBsb2NhbCBoZXJlIGJlY2F1c2Ugd2Ugd2lsbCByZW1vdmUgaXQgZnJvbSB0aGlzIGJlZm9yZSB0aGVcbiAgICAgIC8vIHByb21pc2UgcmVzb2x2ZXMuXG5cbiAgICAgIHZhciB3cyA9IHRoaXMud3M7XG5cbiAgICAgIGlmICh3cyAmJiB3cy5jbG9zZSAmJiB3cy5yZWFkeVN0YXRlID09PSB3cy5PUEVOKSB7XG4gICAgICAgIGlzQ2xvc2VkUHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgdmFyIG9uY2xvc2UgPSBmdW5jdGlvbiBvbmNsb3NlKGV2ZW50KSB7XG4gICAgICAgICAgICBfdGhpczMuX2xvZyhcImRpc2Nvbm5lY3QoKSAtIHJlc29sdmluZyBpc0Nsb3NlZFByb21pc2UgXCIuY29uY2F0KGV2ZW50ID8gJ3dpdGgnIDogJ3dpdGhvdXQnLCBcIiBjbG9zZSBmcmFtZVwiKSwge1xuICAgICAgICAgICAgICBldmVudDogZXZlbnRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHdzLm9uY2xvc2UgPSBvbmNsb3NlOyAvLyBJbiBjYXNlIHdlIGRvbid0IHJlY2VpdmUgY2xvc2UgZnJhbWUgd2Vic29ja2V0IHNlcnZlciBpbiB0aW1lLFxuICAgICAgICAgIC8vIGxldHMgbm90IHdhaXQgZm9yIG1vcmUgdGhhbiAxIHNlY29uZHMuXG5cbiAgICAgICAgICBzZXRUaW1lb3V0KG9uY2xvc2UsIHRpbWVvdXQgIT0gbnVsbCA/IHRpbWVvdXQgOiAxMDAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fbG9nKFwiZGlzY29ubmVjdCgpIC0gTWFudWFsbHkgY2xvc2VkIGNvbm5lY3Rpb24gYnkgY2FsbGluZyBjbGllbnQuZGlzY29ubmVjdCgpXCIpO1xuXG4gICAgICAgIHdzLmNsb3NlKGNoYXRDb2Rlcy5XU19DTE9TRURfU1VDQ0VTUywgJ01hbnVhbGx5IGNsb3NlZCBjb25uZWN0aW9uIGJ5IGNhbGxpbmcgY2xpZW50LmRpc2Nvbm5lY3QoKScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fbG9nKFwiZGlzY29ubmVjdCgpIC0gd3MgY29ubmVjdGlvbiBkb2Vzbid0IGV4aXN0IG9yIGl0IGlzIGFscmVhZHkgY2xvc2VkLlwiKTtcblxuICAgICAgICBpc0Nsb3NlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIHRoaXMud3M7XG4gICAgICByZXR1cm4gaXNDbG9zZWRQcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBfY29ubmVjdCAtIENvbm5lY3QgdG8gdGhlIFdTIGVuZHBvaW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDb25uZWN0QVBJUmVzcG9uc2U8Q2hhbm5lbFR5cGUsIENvbW1hbmRUeXBlLCBVc2VyVHlwZT59IFByb21pc2UgdGhhdCBjb21wbGV0ZXMgb25jZSB0aGUgZmlyc3QgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgaXMgcmVjZWl2ZWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9jb25uZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY29ubmVjdDMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHtcbiAgICAgICAgdmFyIGlzVG9rZW5SZWFkeSwgd3NVUkwsIHJlc3BvbnNlLCBpbnNpZ2h0cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5pc0Nvbm5lY3RpbmcgfHwgdGhpcy5pc0Rpc2Nvbm5lY3RlZCAmJiB0aGlzLmNsaWVudC5vcHRpb25zLmVuYWJsZVdTRmFsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgLy8gc2ltcGx5IGlnbm9yZSBfY29ubmVjdCBpZiBpdCdzIGN1cnJlbnRseSB0cnlpbmcgdG8gY29ubmVjdFxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RJRCA9IHJhbmRvbUlkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuaW5zaWdodE1ldHJpY3MuY29ubmVjdGlvblN0YXJ0VGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgaXNUb2tlblJlYWR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSA2O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKFwiX2Nvbm5lY3QoKSAtIHdhaXRpbmcgZm9yIHRva2VuXCIpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLnRva2VuUmVhZHkoKTtcblxuICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIGlzVG9rZW5SZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMTM7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1W1wiY2F0Y2hcIl0oNik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDE1O1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzVG9rZW5SZWFkeSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZyhcIl9jb25uZWN0KCkgLSB0b2tlblByb3ZpZGVyIGZhaWxlZCBiZWZvcmUsIHNvIGdvaW5nIHRvIHJldHJ5XCIpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0dXBDb25uZWN0aW9uUHJvbWlzZSgpO1xuXG4gICAgICAgICAgICAgICAgd3NVUkwgPSB0aGlzLl9idWlsZFVybCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKFwiX2Nvbm5lY3QoKSAtIENvbm5lY3RpbmcgdG8gXCIuY29uY2F0KHdzVVJMKSwge1xuICAgICAgICAgICAgICAgICAgd3NVUkw6IHdzVVJMLFxuICAgICAgICAgICAgICAgICAgcmVxdWVzdElEOiB0aGlzLnJlcXVlc3RJRFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVUkwpO1xuICAgICAgICAgICAgICAgIHRoaXMud3Mub25vcGVuID0gdGhpcy5vbm9wZW4uYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgICAgICAgICAgIHRoaXMud3Mub25jbG9zZSA9IHRoaXMub25jbG9zZS5iaW5kKHRoaXMsIHRoaXMud3NJRCk7XG4gICAgICAgICAgICAgICAgdGhpcy53cy5vbmVycm9yID0gdGhpcy5vbmVycm9yLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgICAgICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IHRoaXMub25tZXNzYWdlLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDMwO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25PcGVuO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzNjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbklEID0gcmVzcG9uc2UuY29ubmVjdGlvbl9pZDtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudC5pbnNpZ2h0TWV0cmljcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMgPiAwICYmIHRoaXMuY2xpZW50Lm9wdGlvbnMuZW5hYmxlSW5zaWdodHMpIHtcbiAgICAgICAgICAgICAgICAgIHBvc3RJbnNpZ2h0cygnd3Nfc3VjY2Vzc19hZnRlcl9mYWlsdXJlJywgYnVpbGRXc1N1Y2Nlc3NBZnRlckZhaWx1cmVJbnNpZ2h0KHRoaXMpKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lmluc2lnaHRNZXRyaWNzLndzQ29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzY6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMzg7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQxID0gX2NvbnRleHQ1W1wiY2F0Y2hcIl0oMTUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coXCJfY29ubmVjdCgpIC0gRXJyb3IgLSBcIiwgX2NvbnRleHQ1LnQxKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudC5vcHRpb25zLmVuYWJsZUluc2lnaHRzKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5pbnNpZ2h0TWV0cmljcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMrKztcbiAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lmluc2lnaHRNZXRyaWNzLndzVG90YWxGYWlsdXJlcysrO1xuICAgICAgICAgICAgICAgICAgaW5zaWdodHMgPSBidWlsZFdzRmF0YWxJbnNpZ2h0KHRoaXMsIGNvbnZlcnRFcnJvclRvSnNvbihfY29udGV4dDUudDEpKTtcbiAgICAgICAgICAgICAgICAgIHBvc3RJbnNpZ2h0cyA9PT0gbnVsbCB8fCBwb3N0SW5zaWdodHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBvc3RJbnNpZ2h0cygnd3NfZmF0YWwnLCBpbnNpZ2h0cyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQ1LnQxO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzLCBbWzYsIDEzXSwgWzE1LCAzOF1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX2Nvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBfY29ubmVjdDMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9jb25uZWN0O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIF9yZWNvbm5lY3QgLSBSZXRyeSB0aGUgY29ubmVjdGlvbiB0byBXUyBlbmRwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHt7IGludGVydmFsPzogbnVtYmVyOyByZWZyZXNoVG9rZW4/OiBib29sZWFuIH19IG9wdGlvbnMgRm9sbG93aW5nIG9wdGlvbnMgYXJlIGF2YWlsYWJsZVxuICAgICAqXG4gICAgICogLSBgaW50ZXJ2YWxgXHR7aW50fVx0XHRcdG51bWJlciBvZiBtcyB0aGF0IGZ1bmN0aW9uIHNob3VsZCB3YWl0IGJlZm9yZSByZWNvbm5lY3RpbmdcbiAgICAgKiAtIGByZWZyZXNoVG9rZW5gIHtib29sZWFufVx0cmVsb2FkL3JlZnJlc2ggdXNlciB0b2tlbiBiZSByZWZyZXNoZWQgYmVmb3JlIGF0dGVtcHRpbmcgcmVjb25uZWN0aW9uLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3JlY29ubmVjdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlY29ubmVjdDIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBpbnRlcnZhbCxcbiAgICAgICAgICAgIF9hcmdzNiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNi5sZW5ndGggPiAwICYmIF9hcmdzNlswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M2WzBdIDoge307XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEluaXRpYXRpbmcgdGhlIHJlY29ubmVjdCcpOyAvLyBvbmx5IGFsbG93IDEgY29ubmVjdGlvbiBhdCB0aGUgdGltZVxuXG5cbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmlzQ29ubmVjdGluZyB8fCB0aGlzLmlzSGVhbHRoeSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gQWJvcnQgKDEpIHNpbmNlIGFscmVhZHkgY29ubmVjdGluZyBvciBoZWFsdGh5Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiKTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgLy8gcmVjb25uZWN0IGluIGNhc2Ugb2Ygb24gZXJyb3Igb3Igb24gY2xvc2VcbiAgICAgICAgICAgICAgICAvLyBhbHNvIHJlY29ubmVjdCBpZiB0aGUgaGVhbHRoIGNoZWNrIGN5Y2xlIGZhaWxzXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSBvcHRpb25zLmludGVydmFsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSByZXRyeUludGVydmFsKHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyk7XG4gICAgICAgICAgICAgICAgfSAvLyByZWNvbm5lY3QsIG9yIHRyeSBhZ2FpbiBhZnRlciBhIGxpdHRsZSB3aGlsZS4uLlxuXG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNsZWVwKGludGVydmFsKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5pc0Nvbm5lY3RpbmcgfHwgdGhpcy5pc0hlYWx0aHkpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMikgc2luY2UgYWxyZWFkeSBjb25uZWN0aW5nIG9yIGhlYWx0aHknKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5pc0Rpc2Nvbm5lY3RlZCAmJiB0aGlzLmNsaWVudC5vcHRpb25zLmVuYWJsZVdTRmFsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMykgc2luY2UgZGlzY29ubmVjdCgpIGlzIGNhbGxlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIERlc3Ryb3lpbmcgY3VycmVudCBXUyBjb25uZWN0aW9uJyk7IC8vIGNsZWFudXAgdGhlIG9sZCBjb25uZWN0aW9uXG5cblxuICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMucmVmcmVzaFRva2VuKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIwO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAyMDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0KCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIFdhaXRpbmcgZm9yIHJlY292ZXJDYWxsQmFjaycpO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQucmVjb3ZlclN0YXRlKCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEZpbmlzaGVkIHJlY292ZXJDYWxsQmFjaycpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAzMDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDZbXCJjYXRjaFwiXSgyMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0Ni50MC5jb2RlID09PSBjaGF0Q29kZXMuVE9LRU5fRVhQSVJFRCAmJiAhdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmlzU3RhdGljKCkpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDM3O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBXUyBmYWlsdXJlIGR1ZSB0byBleHBpcmVkIHRva2VuLCBzbyBnb2luZyB0byB0cnkgdG8gcmVsb2FkIHRva2VuIGFuZCByZWNvbm5lY3QnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuX3JlY29ubmVjdCh7XG4gICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHRydWVcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICAgICAgICAvLyByZWNvbm5lY3Qgb24gV1MgZmFpbHVyZXMsIGRvbid0IHJlY29ubmVjdCBpZiB0aGVyZSBpcyBhIGNvZGUgYnVnXG4gICAgICAgICAgICAgICAgaWYgKF9jb250ZXh0Ni50MC5pc1dTRmFpbHVyZSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBXUyBmYWlsdXJlLCBzbyBnb2luZyB0byB0cnkgdG8gcmVjb25uZWN0Jyk7XG5cbiAgICAgICAgICAgICAgICAgIHRoaXMuX3JlY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gPT0gRU5EID09Jyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMsIFtbMjAsIDMwXV0pO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfcmVjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gX3JlY29ubmVjdDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWNvbm5lY3Q7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogb25saW5lU3RhdHVzQ2hhbmdlZCAtIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gdGhlIGJyb3dzZXIgY29ubmVjdHMgb3IgZGlzY29ubmVjdHMgZnJvbSB0aGUgaW50ZXJuZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudCB3aXRoIHR5cGUgb25saW5lIG9yIG9mZmxpbmVcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uIC0gUmVtb3ZlcyB0aGUgY3VycmVudCBXUyBjb25uZWN0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24oKSB7XG4gICAgICAvLyBpbmNyZW1lbnQgdGhlIElELCBtZWFuaW5nIHdlIHdpbGwgaWdub3JlIGFsbCBtZXNzYWdlcyBmcm9tIHRoZSBvbGRcbiAgICAgIC8vIHdzIGNvbm5lY3Rpb24gZnJvbSBub3cgb24uXG4gICAgICB0aGlzLndzSUQgKz0gMTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIF90aGlzJHdzMiwgX3RoaXMkd3MzO1xuXG4gICAgICAgIHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJHdzMiA9IHRoaXMud3MpID09PSBudWxsIHx8IF90aGlzJHdzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkd3MyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzID09PSBudWxsIHx8IHRoaXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyR3czMgPSB0aGlzLndzKSA9PT0gbnVsbCB8fCBfdGhpcyR3czMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHdzMy5jbG9zZSgpO1xuICAgICAgfSBjYXRjaCAoZSkgey8vIHdlIGRvbid0IGNhcmVcbiAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogX3NldHVwUHJvbWlzZSAtIHNldHMgdXAgdGhlIHRoaXMuY29ubmVjdE9wZW4gcHJvbWlzZVxuICAgICAqL1xuXG4gIH1dKTtcblxuICByZXR1cm4gU3RhYmxlV1NDb25uZWN0aW9uO1xufSgpO1xuXG5mdW5jdGlvbiBvd25LZXlzJDMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDModGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkMyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBKV1QgdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCBmb3IgYSBVc2VyU2Vzc2lvblxuICogQG1ldGhvZCBKV1RVc2VyVG9rZW5cbiAqIEBtZW1iZXJvZiBzaWduaW5nXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtTZWNyZXR9IGFwaVNlY3JldCAtIEFQSSBTZWNyZXQga2V5XG4gKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVGhlIHVzZXJfaWQga2V5IGluIHRoZSBKV1QgcGF5bG9hZFxuICogQHBhcmFtIHtVUn0gW2V4dHJhRGF0YV0gLSBFeHRyYSB0aGF0IHNob3VsZCBiZSBwYXJ0IG9mIHRoZSBKV1QgdG9rZW5cbiAqIEBwYXJhbSB7U2lnbk9wdGlvbnN9IFtqd3RPcHRpb25zXSAtIE9wdGlvbnMgdGhhdCBjYW4gYmUgcGFzdCB0byBqd3Quc2lnblxuICogQHJldHVybiB7c3RyaW5nfSBKV1QgVG9rZW5cbiAqL1xuZnVuY3Rpb24gSldUVXNlclRva2VuKGFwaVNlY3JldCwgdXNlcklkKSB7XG4gIHZhciBleHRyYURhdGEgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICB2YXIgand0T3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG5cbiAgaWYgKHR5cGVvZiB1c2VySWQgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndXNlcklkIHNob3VsZCBiZSBhIHN0cmluZycpO1xuICB9XG5cbiAgdmFyIHBheWxvYWQgPSBfb2JqZWN0U3ByZWFkJDMoe1xuICAgIHVzZXJfaWQ6IHVzZXJJZFxuICB9LCBleHRyYURhdGEpOyAvLyBtYWtlIHN1cmUgd2UgcmV0dXJuIGEgY2xlYXIgZXJyb3Igd2hlbiBqd3QgaXMgc2hpbW1lZCAoaWUuIGJyb3dzZXIgYnVpbGQpXG5cblxuICBpZiAoand0ID09IG51bGwgfHwgand0LnNpZ24gPT0gbnVsbCkge1xuICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgand0IGNyeXB0bywgaWYgeW91IGFyZSBnZXR0aW5nIHRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB5b3UgYXJlIHRyeWluZyB0byBnZW5lcmF0ZSB0b2tlbnMgb24gYnJvd3NlciBvciBSZWFjdCBOYXRpdmUgKG9yIG90aGVyIGVudmlyb25tZW50IHdoZXJlIGNyeXB0byBmdW5jdGlvbnMgYXJlIG5vdCBhdmFpbGFibGUpLiBQbGVhc2UgTm90ZTogdG9rZW4gc2hvdWxkIG9ubHkgYmUgZ2VuZXJhdGVkIHNlcnZlci1zaWRlLlwiKTtcbiAgfVxuXG4gIHZhciBvcHRzID0gX2V4dGVuZHMoe1xuICAgIGFsZ29yaXRobTogJ0hTMjU2JyxcbiAgICBub1RpbWVzdGFtcDogdHJ1ZVxuICB9LCBqd3RPcHRpb25zKTtcblxuICBpZiAocGF5bG9hZC5pYXQpIHtcbiAgICBvcHRzLm5vVGltZXN0YW1wID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgYXBpU2VjcmV0LCBvcHRzKTtcbn1cbmZ1bmN0aW9uIEpXVFNlcnZlclRva2VuKGFwaVNlY3JldCkge1xuICB2YXIgand0T3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHZhciBwYXlsb2FkID0ge1xuICAgIHNlcnZlcjogdHJ1ZVxuICB9O1xuXG4gIHZhciBvcHRzID0gX2V4dGVuZHMoe1xuICAgIGFsZ29yaXRobTogJ0hTMjU2JyxcbiAgICBub1RpbWVzdGFtcDogdHJ1ZVxuICB9LCBqd3RPcHRpb25zKTtcblxuICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgYXBpU2VjcmV0LCBvcHRzKTtcbn1cbmZ1bmN0aW9uIFVzZXJGcm9tVG9rZW4odG9rZW4pIHtcbiAgdmFyIGZyYWdtZW50cyA9IHRva2VuLnNwbGl0KCcuJyk7XG5cbiAgaWYgKGZyYWdtZW50cy5sZW5ndGggIT09IDMpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICB2YXIgYjY0UGF5bG9hZCA9IGZyYWdtZW50c1sxXTtcbiAgdmFyIHBheWxvYWQgPSBkZWNvZGVCYXNlNjQoYjY0UGF5bG9hZCk7XG4gIHZhciBkYXRhID0gSlNPTi5wYXJzZShwYXlsb2FkKTtcbiAgcmV0dXJuIGRhdGEudXNlcl9pZDtcbn1cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblxuZnVuY3Rpb24gRGV2VG9rZW4odXNlcklkKSB7XG4gIHJldHVybiBbJ2V5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOScsIC8ve1wiYWxnXCI6IFwiSFMyNTZcIiwgXCJ0eXBcIjogXCJKV1RcIn1cbiAgZW5jb2RlQmFzZTY0KEpTT04uc3RyaW5naWZ5KHtcbiAgICB1c2VyX2lkOiB1c2VySWRcbiAgfSkpLCAnZGV2dG9rZW4nIC8vIGhhcmRjb2RlZCBzaWduYXR1cmVcbiAgXS5qb2luKCcuJyk7XG59XG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8IEJ1ZmZlcn0gYm9keSB0aGUgc2lnbmVkIG1lc3NhZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWNyZXQgdGhlIHNoYXJlZCBzZWNyZXQgdXNlZCB0byBnZW5lcmF0ZSB0aGUgc2lnbmF0dXJlIChTdHJlYW0gQVBJIHNlY3JldClcbiAqIEBwYXJhbSB7c3RyaW5nfSBzaWduYXR1cmUgdGhlIHNpZ25hdHVyZSB0byB2YWxpZGF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBDaGVja1NpZ25hdHVyZShib2R5LCBzZWNyZXQsIHNpZ25hdHVyZSkge1xuICB2YXIga2V5ID0gQnVmZmVyLmZyb20oc2VjcmV0LCAndXRmOCcpO1xuICB2YXIgaGFzaCA9IGNyeXB0byQxLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIGtleSkudXBkYXRlKGJvZHkpLmRpZ2VzdCgnaGV4Jyk7XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gY3J5cHRvJDEudGltaW5nU2FmZUVxdWFsKEJ1ZmZlci5mcm9tKGhhc2gpLCBCdWZmZXIuZnJvbShzaWduYXR1cmUpKTtcbiAgfSBjYXRjaCAoX3VudXNlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIFRva2VuTWFuYWdlclxuICpcbiAqIEhhbmRsZXMgYWxsIHRoZSBvcGVyYXRpb25zIGFyb3VuZCB1c2VyIHRva2VuLlxuICovXG52YXIgVG9rZW5NYW5hZ2VyID1cbi8qKlxuICogQ29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge1NlY3JldH0gc2VjcmV0XG4gKi9cbmZ1bmN0aW9uIFRva2VuTWFuYWdlcihzZWNyZXQpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG9rZW5NYW5hZ2VyKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsb2FkVG9rZW5Qcm9taXNlXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidHlwZVwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlY3JldFwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRva2VuXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG9rZW5Qcm92aWRlclwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZXJcIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXRUb2tlbk9yUHJvdmlkZXJcIiwgLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG9rZW5PclByb3ZpZGVyLCB1c2VyKSB7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfdGhpcy52YWxpZGF0ZVRva2VuKHRva2VuT3JQcm92aWRlciwgdXNlcik7XG5cbiAgICAgICAgICAgICAgX3RoaXMudXNlciA9IHVzZXI7XG5cbiAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odG9rZW5PclByb3ZpZGVyKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnRva2VuUHJvdmlkZXIgPSB0b2tlbk9yUHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgX3RoaXMudHlwZSA9ICdwcm92aWRlcic7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHRva2VuT3JQcm92aWRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy50b2tlbiA9IHRva2VuT3JQcm92aWRlcjtcbiAgICAgICAgICAgICAgICBfdGhpcy50eXBlID0gJ3N0YXRpYyc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoIXRva2VuT3JQcm92aWRlciAmJiBfdGhpcy51c2VyICYmIF90aGlzLnNlY3JldCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnRva2VuID0gSldUVXNlclRva2VuKF90aGlzLnNlY3JldCwgdXNlci5pZCwge30sIHt9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy50eXBlID0gJ3N0YXRpYyc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmxvYWRUb2tlbigpO1xuXG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlKTtcbiAgICB9KSk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHtcbiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfSgpKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNldFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMudG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgX3RoaXMudXNlciA9IHVuZGVmaW5lZDtcbiAgICBfdGhpcy5sb2FkVG9rZW5Qcm9taXNlID0gbnVsbDtcbiAgfSk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsaWRhdGVUb2tlblwiLCBmdW5jdGlvbiAodG9rZW5PclByb3ZpZGVyLCB1c2VyKSB7XG4gICAgLy8gYWxsb3cgZW1wdHkgdG9rZW4gZm9yIGFub24gdXNlclxuICAgIGlmICh1c2VyICYmIHVzZXIuYW5vbiAmJiAhdG9rZW5PclByb3ZpZGVyKSByZXR1cm47IC8vIERvbid0IGFsbG93IGVtcHR5IHRva2VuIGZvciBub24tc2VydmVyIHNpZGUgY2xpZW50LlxuXG4gICAgaWYgKCFfdGhpcy5zZWNyZXQgJiYgIXRva2VuT3JQcm92aWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIHRva2VuIGNhbiBub3QgYmUgZW1wdHknKTtcbiAgICB9XG5cbiAgICBpZiAodG9rZW5PclByb3ZpZGVyICYmIHR5cGVvZiB0b2tlbk9yUHJvdmlkZXIgIT09ICdzdHJpbmcnICYmICFpc0Z1bmN0aW9uKHRva2VuT3JQcm92aWRlcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXNlciB0b2tlbiBzaG91bGQgZWl0aGVyIGJlIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRva2VuT3JQcm92aWRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEFsbG93IGVtcHR5IHRva2VuIGZvciBhbm9ueW1vdXMgdXNlcnNcbiAgICAgIGlmICh1c2VyLmFub24gJiYgdG9rZW5PclByb3ZpZGVyID09PSAnJykgcmV0dXJuO1xuICAgICAgdmFyIHRva2VuVXNlcklkID0gVXNlckZyb21Ub2tlbih0b2tlbk9yUHJvdmlkZXIpO1xuXG4gICAgICBpZiAodG9rZW5PclByb3ZpZGVyICE9IG51bGwgJiYgKHRva2VuVXNlcklkID09IG51bGwgfHwgdG9rZW5Vc2VySWQgPT09ICcnIHx8IHRva2VuVXNlcklkICE9PSB1c2VyLmlkKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZXJUb2tlbiBkb2VzIG5vdCBoYXZlIGEgdXNlcl9pZCBvciBpcyBub3QgbWF0Y2hpbmcgd2l0aCB1c2VyLmlkJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b2tlblJlYWR5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXMubG9hZFRva2VuUHJvbWlzZTtcbiAgfSk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibG9hZFRva2VuXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXN5bmMtcHJvbWlzZS1leGVjdXRvclxuICAgIF90aGlzLmxvYWRUb2tlblByb21pc2UgPSBuZXcgUHJvbWlzZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy50eXBlID09PSAnc3RhdGljJykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIsIHJlc29sdmUoX3RoaXMudG9rZW4pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMudG9rZW5Qcm92aWRlciAmJiB0eXBlb2YgX3RoaXMudG9rZW5Qcm92aWRlciAhPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudG9rZW5Qcm92aWRlcigpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBfdGhpcy50b2tlbiA9IF9jb250ZXh0Mi5zZW50O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbXCJjYXRjaFwiXSgzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCByZWplY3QobmV3IEVycm9yKFwiQ2FsbCB0byB0b2tlblByb3ZpZGVyIGZhaWxlZCB3aXRoIG1lc3NhZ2U6IFwiLmNvbmNhdChfY29udGV4dDIudDApKSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShfdGhpcy50b2tlbik7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMywgOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMsIF94NCkge1xuICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcbiAgICByZXR1cm4gX3RoaXMubG9hZFRva2VuUHJvbWlzZTtcbiAgfSk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0VG9rZW5cIiwgZnVuY3Rpb24gKCkge1xuICAgIGlmIChfdGhpcy50b2tlbikge1xuICAgICAgcmV0dXJuIF90aGlzLnRva2VuO1xuICAgIH1cblxuICAgIGlmIChfdGhpcy51c2VyICYmIF90aGlzLnVzZXIuYW5vbiAmJiAhX3RoaXMudG9rZW4pIHtcbiAgICAgIHJldHVybiBfdGhpcy50b2tlbjtcbiAgICB9XG5cbiAgICBpZiAoX3RoaXMuc2VjcmV0KSB7XG4gICAgICByZXR1cm4gSldUU2VydmVyVG9rZW4oX3RoaXMuc2VjcmV0KTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCb3RoIHNlY3JldCBhbmQgdXNlciB0b2tlbnMgYXJlIG5vdCBzZXQuIEVpdGhlciBjbGllbnQuY29ubmVjdFVzZXIgd2Fzbid0IGNhbGxlZCBvciBjbGllbnQuZGlzY29ubmVjdCB3YXMgY2FsbGVkXCIpO1xuICB9KTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc1N0YXRpY1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF90aGlzLnR5cGUgPT09ICdzdGF0aWMnO1xuICB9KTtcblxuICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBudWxsO1xuXG4gIGlmIChzZWNyZXQpIHtcbiAgICB0aGlzLnNlY3JldCA9IHNlY3JldDtcbiAgfVxuXG4gIHRoaXMudHlwZSA9ICdzdGF0aWMnO1xuXG4gIGlmICh0aGlzLnNlY3JldCkge1xuICAgIHRoaXMudG9rZW4gPSBKV1RTZXJ2ZXJUb2tlbih0aGlzLnNlY3JldCk7XG4gIH1cbn1cbi8qKlxuICogU2V0IHRoZSBzdGF0aWMgc3RyaW5nIHRva2VuIG9yIHRva2VuIHByb3ZpZGVyLlxuICogVG9rZW4gcHJvdmlkZXIgc2hvdWxkIHJldHVybiBhIHRva2VuIHN0cmluZyBvciBhIHByb21pc2Ugd2hpY2ggcmVzb2x2ZXMgdG8gc3RyaW5nIHRva2VuLlxuICpcbiAqIEBwYXJhbSB7VG9rZW5PclByb3ZpZGVyfSB0b2tlbk9yUHJvdmlkZXJcbiAqIEBwYXJhbSB7VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IHVzZXJcbiAqL1xuO1xuXG52YXIgQVBJRXJyb3JDb2RlcyA9IHtcbiAgJy0xJzoge1xuICAgIG5hbWU6ICdJbnRlcm5hbFN5c3RlbUVycm9yJyxcbiAgICByZXRyeWFibGU6IHRydWVcbiAgfSxcbiAgJzInOiB7XG4gICAgbmFtZTogJ0FjY2Vzc0tleUVycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICczJzoge1xuICAgIG5hbWU6ICdBdXRoZW50aWNhdGlvbkZhaWxlZEVycm9yJyxcbiAgICByZXRyeWFibGU6IHRydWVcbiAgfSxcbiAgJzQnOiB7XG4gICAgbmFtZTogJ0lucHV0RXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzYnOiB7XG4gICAgbmFtZTogJ0R1cGxpY2F0ZVVzZXJuYW1lRXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzknOiB7XG4gICAgbmFtZTogJ1JhdGVMaW1pdEVycm9yJyxcbiAgICByZXRyeWFibGU6IHRydWVcbiAgfSxcbiAgJzE2Jzoge1xuICAgIG5hbWU6ICdEb2VzTm90RXhpc3RFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnMTcnOiB7XG4gICAgbmFtZTogJ05vdEFsbG93ZWRFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnMTgnOiB7XG4gICAgbmFtZTogJ0V2ZW50Tm90U3VwcG9ydGVkRXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzE5Jzoge1xuICAgIG5hbWU6ICdDaGFubmVsRmVhdHVyZU5vdFN1cHBvcnRlZEVycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICcyMCc6IHtcbiAgICBuYW1lOiAnTWVzc2FnZVRvb0xvbmdFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnMjEnOiB7XG4gICAgbmFtZTogJ011bHRpcGxlTmVzdGluZ0xldmVsRXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzIyJzoge1xuICAgIG5hbWU6ICdQYXlsb2FkVG9vQmlnRXJyb3InLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzIzJzoge1xuICAgIG5hbWU6ICdSZXF1ZXN0VGltZW91dEVycm9yJyxcbiAgICByZXRyeWFibGU6IHRydWVcbiAgfSxcbiAgJzI0Jzoge1xuICAgIG5hbWU6ICdNYXhIZWFkZXJTaXplRXhjZWVkZWRFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDAnOiB7XG4gICAgbmFtZTogJ0F1dGhFcnJvclRva2VuRXhwaXJlZCcsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDEnOiB7XG4gICAgbmFtZTogJ0F1dGhFcnJvclRva2VuTm90VmFsaWRZZXQnLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzQyJzoge1xuICAgIG5hbWU6ICdBdXRoRXJyb3JUb2tlblVzZWRCZWZvcmVJc3N1ZWRBdCcsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDMnOiB7XG4gICAgbmFtZTogJ0F1dGhFcnJvclRva2VuU2lnbmF0dXJlSW52YWxpZCcsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDQnOiB7XG4gICAgbmFtZTogJ0N1c3RvbUNvbW1hbmRFbmRwb2ludE1pc3NpbmdFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNDUnOiB7XG4gICAgbmFtZTogJ0N1c3RvbUNvbW1hbmRFbmRwb2ludENhbGxFcnJvcicsXG4gICAgcmV0cnlhYmxlOiB0cnVlXG4gIH0sXG4gICc0Nic6IHtcbiAgICBuYW1lOiAnQ29ubmVjdGlvbklETm90Rm91bmRFcnJvcicsXG4gICAgcmV0cnlhYmxlOiBmYWxzZVxuICB9LFxuICAnNjAnOiB7XG4gICAgbmFtZTogJ0Nvb2xEb3duRXJyb3InLFxuICAgIHJldHJ5YWJsZTogdHJ1ZVxuICB9LFxuICAnNjknOiB7XG4gICAgbmFtZTogJ0Vycldyb25nUmVnaW9uJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH0sXG4gICc3MCc6IHtcbiAgICBuYW1lOiAnRXJyUXVlcnlDaGFubmVsUGVybWlzc2lvbnMnLFxuICAgIHJldHJ5YWJsZTogZmFsc2VcbiAgfSxcbiAgJzcxJzoge1xuICAgIG5hbWU6ICdFcnJUb29NYW55Q29ubmVjdGlvbnMnLFxuICAgIHJldHJ5YWJsZTogdHJ1ZVxuICB9LFxuICAnOTknOiB7XG4gICAgbmFtZTogJ0FwcFN1c3BlbmRlZEVycm9yJyxcbiAgICByZXRyeWFibGU6IGZhbHNlXG4gIH1cbn07XG5mdW5jdGlvbiBpc0FQSUVycm9yKGVycm9yKSB7XG4gIHJldHVybiBlcnJvci5jb2RlICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBpc0Vycm9yUmV0cnlhYmxlKGVycm9yKSB7XG4gIGlmICghZXJyb3IuY29kZSkgcmV0dXJuIGZhbHNlO1xuICB2YXIgZXJyID0gQVBJRXJyb3JDb2Rlc1tcIlwiLmNvbmNhdChlcnJvci5jb2RlKV07XG4gIGlmICghZXJyKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBlcnIucmV0cnlhYmxlO1xufVxuZnVuY3Rpb24gaXNDb25uZWN0aW9uSURFcnJvcihlcnJvcikge1xuICByZXR1cm4gZXJyb3IuY29kZSA9PT0gNDY7IC8vIENvbm5lY3Rpb25JRE5vdEZvdW5kRXJyb3Jcbn1cbmZ1bmN0aW9uIGlzV1NGYWlsdXJlKGVycikge1xuICBpZiAodHlwZW9mIGVyci5pc1dTRmFpbHVyZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIGVyci5pc1dTRmFpbHVyZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZXJyLm1lc3NhZ2UpLmlzV1NGYWlsdXJlO1xuICB9IGNhdGNoIChfKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBpc0Vycm9yUmVzcG9uc2UocmVzKSB7XG4gIHJldHVybiAhcmVzLnN0YXR1cyB8fCByZXMuc3RhdHVzIDwgMjAwIHx8IDMwMCA8PSByZXMuc3RhdHVzO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzJDIob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDIodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQyKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkMihPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBDb25uZWN0aW9uU3RhdGU7XG5cbihmdW5jdGlvbiAoQ29ubmVjdGlvblN0YXRlKSB7XG4gIENvbm5lY3Rpb25TdGF0ZVtcIkNsb3NlZFwiXSA9IFwiQ0xPU0VEXCI7XG4gIENvbm5lY3Rpb25TdGF0ZVtcIkNvbm5lY3RlZFwiXSA9IFwiQ09OTkVDVEVEXCI7XG4gIENvbm5lY3Rpb25TdGF0ZVtcIkNvbm5lY3RpbmdcIl0gPSBcIkNPTk5FQ1RJTkdcIjtcbiAgQ29ubmVjdGlvblN0YXRlW1wiRGlzY29ubmVjdGVkXCJdID0gXCJESVNDT05ORUNURURcIjtcbiAgQ29ubmVjdGlvblN0YXRlW1wiSW5pdFwiXSA9IFwiSU5JVFwiO1xufSkoQ29ubmVjdGlvblN0YXRlIHx8IChDb25uZWN0aW9uU3RhdGUgPSB7fSkpO1xuXG52YXIgV1NDb25uZWN0aW9uRmFsbGJhY2sgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBXU0Nvbm5lY3Rpb25GYWxsYmFjayhfcmVmKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBjbGllbnQgPSBfcmVmLmNsaWVudDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXU0Nvbm5lY3Rpb25GYWxsYmFjayk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXRlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25zZWN1dGl2ZUZhaWx1cmVzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25uZWN0aW9uSURcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNhbmNlbFRva2VuXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfb25saW5lU3RhdHVzQ2hhbmdlZFwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIF90aGlzLl9sb2coXCJfb25saW5lU3RhdHVzQ2hhbmdlZCgpIC0gXCIuY29uY2F0KGV2ZW50LnR5cGUpKTtcblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdvZmZsaW5lJykge1xuICAgICAgICB2YXIgX3RoaXMkY2FuY2VsVG9rZW47XG5cbiAgICAgICAgX3RoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQpO1xuXG4gICAgICAgIChfdGhpcyRjYW5jZWxUb2tlbiA9IF90aGlzLmNhbmNlbFRva2VuKSA9PT0gbnVsbCB8fCBfdGhpcyRjYW5jZWxUb2tlbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2FuY2VsVG9rZW4uY2FuY2VsKCdkaXNjb25uZWN0KCkgaXMgY2FsbGVkJyk7XG4gICAgICAgIF90aGlzLmNhbmNlbFRva2VuID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAnb25saW5lJyAmJiBfdGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNsb3NlZCkge1xuICAgICAgICBfdGhpcy5jb25uZWN0KHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3JlcVwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbXMsIGNvbmZpZywgcmV0cnkpIHtcbiAgICAgICAgdmFyIF90aGlzJGNhbmNlbFRva2VuMiwgcmVzO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5jYW5jZWxUb2tlbiAmJiAhcGFyYW1zLmNsb3NlKSB7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5jYW5jZWxUb2tlbiA9IGF4aW9zLkNhbmNlbFRva2VuLnNvdXJjZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jbGllbnQuZG9BeGlvc1JlcXVlc3QoJ2dldCcsIF90aGlzLmNsaWVudC5iYXNlVVJMLnJlcGxhY2UoJzozMDMwJywgJzo4OTAwJykgKyAnL2xvbmdwb2xsJywgLy8gcmVwbGFjZSBwb3J0IGlmIHByZXNlbnQgZm9yIHRlc3Rpbmcgd2l0aCBsb2NhbCBBUElcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICAgICAgIGNvbmZpZzogX29iamVjdFNwcmVhZCQyKF9vYmplY3RTcHJlYWQkMih7fSwgY29uZmlnKSwge30sIHtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsVG9rZW46IChfdGhpcyRjYW5jZWxUb2tlbjIgPSBfdGhpcy5jYW5jZWxUb2tlbikgPT09IG51bGwgfHwgX3RoaXMkY2FuY2VsVG9rZW4yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjYW5jZWxUb2tlbjIudG9rZW5cbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDsgLy8gYWx3YXlzIHJlc2V0IGluIGNhc2Ugb2Ygbm8gZXJyb3JcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgcmVzKTtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFtcImNhdGNoXCJdKDEpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmICghKHJldHJ5ICYmIGlzRXJyb3JSZXRyeWFibGUoX2NvbnRleHQudDApKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3RoaXMuX2xvZyhcIl9yZXEoKSAtIFJldHJ5YWJsZSBlcnJvciwgcmV0cnlpbmcgcmVxdWVzdFwiKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xlZXAocmV0cnlJbnRlcnZhbChfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIF90aGlzLl9yZXEocGFyYW1zLCBjb25maWcsIHJldHJ5KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dC50MDtcblxuICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyLCBfeDMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfcG9sbFwiLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7XG4gICAgICB2YXIgX2RhdGEkZXZlbnRzLCBkYXRhLCBpO1xuXG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0O1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3JlcSh7fSwge1xuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAwXG4gICAgICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIuc2VudDtcblxuICAgICAgICAgICAgICAvLyAzMHMgPT4gQVBJIHJlc3BvbmRzIGluIDIwcyBpZiB0aGVyZSBpcyBubyBldmVudFxuICAgICAgICAgICAgICBpZiAoKF9kYXRhJGV2ZW50cyA9IGRhdGEuZXZlbnRzKSAhPT0gbnVsbCAmJiBfZGF0YSRldmVudHMgIT09IHZvaWQgMCAmJiBfZGF0YSRldmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRhdGEuZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBfdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudChkYXRhLmV2ZW50c1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMztcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA4O1xuICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbXCJjYXRjaFwiXSgxKTtcblxuICAgICAgICAgICAgICBpZiAoIWF4aW9zLmlzQ2FuY2VsKF9jb250ZXh0Mi50MCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3RoaXMuX2xvZyhcIl9wb2xsKCkgLSBheGlvcyBjYW5jZWxlZCByZXF1ZXN0XCIpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBpZiAoIWlzQ29ubmVjdGlvbklERXJyb3IoX2NvbnRleHQyLnQwKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBfdGhpcy5fbG9nKFwiX3BvbGwoKSAtIENvbm5lY3Rpb25JRCBlcnJvciwgY29ubmVjdGluZyB3aXRob3V0IElELi4uXCIpO1xuXG4gICAgICAgICAgICAgIF90aGlzLl9zZXRTdGF0ZShDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkKTtcblxuICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0KHRydWUpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICBpZiAoIShpc0FQSUVycm9yKF9jb250ZXh0Mi50MCkgJiYgIWlzRXJyb3JSZXRyeWFibGUoX2NvbnRleHQyLnQwKSkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3RoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIzO1xuICAgICAgICAgICAgICByZXR1cm4gc2xlZXAocmV0cnlJbnRlcnZhbChfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKSk7XG5cbiAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMDtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgOF1dKTtcbiAgICB9KSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29ubmVjdFwiLCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7XG4gICAgICB2YXIgcmVjb25uZWN0LFxuICAgICAgICAgIF95aWVsZCRfdGhpcyRfcmVxLFxuICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgIF9hcmdzMyA9IGFyZ3VtZW50cztcblxuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIHJlY29ubmVjdCA9IF9hcmdzMy5sZW5ndGggPiAwICYmIF9hcmdzM1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MzWzBdIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0aW5nKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLl9sb2coJ2Nvbm5lY3QoKSAtIGNvbm5lY3RpbmcgYWxyZWFkeSBpbiBwcm9ncmVzcycsIHtcbiAgICAgICAgICAgICAgICByZWNvbm5lY3Q6IHJlY29ubmVjdFxuICAgICAgICAgICAgICB9LCAnd2FybicpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIpO1xuXG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGlmICghKF90aGlzLnN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLl9sb2coJ2Nvbm5lY3QoKSAtIGFscmVhZHkgY29ubmVjdGVkIGFuZCBwb2xsaW5nJywge1xuICAgICAgICAgICAgICAgIHJlY29ubmVjdDogcmVjb25uZWN0XG4gICAgICAgICAgICAgIH0sICd3YXJuJyk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIik7XG5cbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgX3RoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0aW5nKTtcblxuICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0aW9uSUQgPSB1bmRlZmluZWQ7IC8vIGNvbm5lY3Qgc2hvdWxkIGJlIHNlbnQgd2l0aCBlbXB0eSBjb25uZWN0aW9uX2lkIHNvIEFQSSBjcmVhdGVzIG9uZVxuXG4gICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gOTtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjtcbiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9yZXEoe1xuICAgICAgICAgICAgICAgIGpzb246IF90aGlzLmNsaWVudC5fYnVpbGRXU1BheWxvYWQoKVxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGltZW91dDogODAwMFxuICAgICAgICAgICAgICB9LCAvLyA4c1xuICAgICAgICAgICAgICByZWNvbm5lY3QpO1xuXG4gICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkX3JlcSA9IF9jb250ZXh0My5zZW50O1xuICAgICAgICAgICAgICBldmVudCA9IF95aWVsZCRfdGhpcyRfcmVxLmV2ZW50O1xuXG4gICAgICAgICAgICAgIF90aGlzLl9zZXRTdGF0ZShDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkKTtcblxuICAgICAgICAgICAgICBfdGhpcy5jb25uZWN0aW9uSUQgPSBldmVudC5jb25uZWN0aW9uX2lkOyAvLyBAdHMtZXhwZWN0LWVycm9yXG5cbiAgICAgICAgICAgICAgX3RoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gICAgICAgICAgICAgIF90aGlzLl9wb2xsKCk7XG5cbiAgICAgICAgICAgICAgaWYgKHJlY29ubmVjdCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNsaWVudC5yZWNvdmVyU3RhdGUoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIGV2ZW50KTtcblxuICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyMjtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzW1wiY2F0Y2hcIl0oOSk7XG5cbiAgICAgICAgICAgICAgX3RoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQpO1xuXG4gICAgICAgICAgICAgIHRocm93IF9jb250ZXh0My50MDtcblxuICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1s5LCAyMl1dKTtcbiAgICB9KSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaXNIZWFsdGh5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAhIV90aGlzLmNvbm5lY3Rpb25JRCAmJiBfdGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZDtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRpc2Nvbm5lY3RcIiwgLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkge1xuICAgICAgdmFyIF90aGlzJGNhbmNlbFRva2VuMztcblxuICAgICAgdmFyIHRpbWVvdXQsXG4gICAgICAgICAgY29ubmVjdGlvbl9pZCxcbiAgICAgICAgICBfYXJnczQgPSBhcmd1bWVudHM7XG4gICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgdGltZW91dCA9IF9hcmdzNC5sZW5ndGggPiAwICYmIF9hcmdzNFswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0WzBdIDogMjAwMDtcbiAgICAgICAgICAgICAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKF90aGlzLl9vbmxpbmVTdGF0dXNDaGFuZ2VkKTtcblxuICAgICAgICAgICAgICBfdGhpcy5fc2V0U3RhdGUoQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZCk7XG5cbiAgICAgICAgICAgICAgKF90aGlzJGNhbmNlbFRva2VuMyA9IF90aGlzLmNhbmNlbFRva2VuKSA9PT0gbnVsbCB8fCBfdGhpcyRjYW5jZWxUb2tlbjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGNhbmNlbFRva2VuMy5jYW5jZWwoJ2Rpc2Nvbm5lY3QoKSBpcyBjYWxsZWQnKTtcbiAgICAgICAgICAgICAgX3RoaXMuY2FuY2VsVG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIGNvbm5lY3Rpb25faWQgPSBfdGhpcy5jb25uZWN0aW9uSUQ7XG4gICAgICAgICAgICAgIF90aGlzLmNvbm5lY3Rpb25JRCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSA3O1xuICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEwO1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3JlcSh7XG4gICAgICAgICAgICAgICAgY2xvc2U6IHRydWUsXG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbl9pZDogY29ubmVjdGlvbl9pZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGltZW91dDogdGltZW91dFxuICAgICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgIF90aGlzLl9sb2coXCJkaXNjb25uZWN0KCkgLSBDbG9zZWQgY29ubmVjdGlvbklEXCIpO1xuXG4gICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTY7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDEzO1xuICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbXCJjYXRjaFwiXSg3KTtcblxuICAgICAgICAgICAgICBfdGhpcy5fbG9nKFwiZGlzY29ubmVjdCgpIC0gRmFpbGVkXCIsIHtcbiAgICAgICAgICAgICAgICBlcnI6IF9jb250ZXh0NC50MFxuICAgICAgICAgICAgICB9LCAnZXJyb3InKTtcblxuICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1s3LCAxM11dKTtcbiAgICB9KSkpO1xuXG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IENvbm5lY3Rpb25TdGF0ZS5Jbml0O1xuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMuX29ubGluZVN0YXR1c0NoYW5nZWQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFdTQ29ubmVjdGlvbkZhbGxiYWNrLCBbe1xuICAgIGtleTogXCJfbG9nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2cobXNnKSB7XG4gICAgICB2YXIgZXh0cmEgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIGxldmVsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnaW5mbyc7XG4gICAgICB0aGlzLmNsaWVudC5sb2dnZXIobGV2ZWwsICdXU0Nvbm5lY3Rpb25GYWxsYmFjazonICsgbXNnLCBfb2JqZWN0U3ByZWFkJDIoe1xuICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb25fZmFsbGJhY2snLCAnY29ubmVjdGlvbiddXG4gICAgICB9LCBleHRyYSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2V0U3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFN0YXRlKHN0YXRlKSB7XG4gICAgICB0aGlzLl9sb2coXCJfc2V0U3RhdGUoKSAtIFwiLmNvbmNhdChzdGF0ZSkpOyAvLyB0cmFuc2l0aW9uIGZyb20gY29ubmVjdGluZyA9PiBjb25uZWN0ZWRcblxuXG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RpbmcgJiYgc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgICAgb25saW5lOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5DbG9zZWQgfHwgc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgICAgb25saW5lOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cblxuICB9XSk7XG5cbiAgcmV0dXJuIFdTQ29ubmVjdGlvbkZhbGxiYWNrO1xufSgpO1xuXG52YXIgQ2FtcGFpZ24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDYW1wYWlnbihjbGllbnQsIGlkLCBkYXRhKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbXBhaWduKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkYXRhXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwgdm9pZCAwKTtcblxuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhbXBhaWduLCBbe1xuICAgIGtleTogXCJjcmVhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9jcmVhdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICB2YXIgX3RoaXMkZGF0YSwgX3RoaXMkZGF0YTIsIF90aGlzJGRhdGEzLCBfdGhpcyRkYXRhNCwgX3RoaXMkZGF0YTUsIF90aGlzJGRhdGE2LCBfdGhpcyRkYXRhNywgX3RoaXMkZGF0YTg7XG5cbiAgICAgICAgdmFyIGJvZHksIHJlc3VsdDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlX3RlbXBsYXRlOiAoX3RoaXMkZGF0YSA9IHRoaXMuZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZGF0YS5tZXNzYWdlX3RlbXBsYXRlLFxuICAgICAgICAgICAgICAgICAgc2VnbWVudF9pZHM6IChfdGhpcyRkYXRhMiA9IHRoaXMuZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkZGF0YTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGRhdGEyLnNlZ21lbnRfaWRzLFxuICAgICAgICAgICAgICAgICAgc2VuZGVyX2lkOiAoX3RoaXMkZGF0YTMgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhMy5zZW5kZXJfaWQsXG4gICAgICAgICAgICAgICAgICBjaGFubmVsX3RlbXBsYXRlOiAoX3RoaXMkZGF0YTQgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhNC5jaGFubmVsX3RlbXBsYXRlLFxuICAgICAgICAgICAgICAgICAgY3JlYXRlX2NoYW5uZWxzOiAoX3RoaXMkZGF0YTUgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGE1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhNS5jcmVhdGVfY2hhbm5lbHMsXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogKF90aGlzJGRhdGE2ID0gdGhpcy5kYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRkYXRhNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZGF0YTYuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICBuYW1lOiAoX3RoaXMkZGF0YTcgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGE3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhNy5uYW1lLFxuICAgICAgICAgICAgICAgICAgdXNlcl9pZHM6IChfdGhpcyRkYXRhOCA9IHRoaXMuZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkZGF0YTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGRhdGE4LnVzZXJfaWRzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQuY3JlYXRlQ2FtcGFpZ24oYm9keSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9IHJlc3VsdC5jYW1wYWlnbi5pZDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSByZXN1bHQuY2FtcGFpZ247XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCByZXN1bHQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gX2NyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3JlYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInZlcmlmeUNhbXBhaWduSWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmVyaWZ5Q2FtcGFpZ25JZCgpIHtcbiAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbXBhaWduIGlkIGlzIG1pc3NpbmcuIEVpdGhlciBjcmVhdGUgdGhlIGNhbXBhaWduIHVzaW5nIGNhbXBhaWduLmNyZWF0ZSgpIG9yIHNldCB0aGUgaWQgZHVyaW5nIGluc3RhbnRpYXRpb24gLSBjb25zdCBjYW1wYWlnbiA9IGNsaWVudC5jYW1wYWlnbihpZCknKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zdGFydCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJpZnlDYW1wYWlnbklkKCk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudC5zdGFydENhbXBhaWduKHRoaXMuaWQsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHN0YXJ0KF94KSB7XG4gICAgICAgIHJldHVybiBfc3RhcnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXJ0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJpZnlDYW1wYWlnbklkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQudXBkYXRlQ2FtcGFpZ24odGhpcy5pZCwgZGF0YSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cGRhdGUoX3gyKSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRhdGU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsZXRlMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZlcmlmeUNhbXBhaWduSWQoKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmRlbGV0ZUNhbXBhaWduKHRoaXMuaWQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9kZWxldGUoKSB7XG4gICAgICAgIHJldHVybiBfZGVsZXRlMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2RlbGV0ZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJzdG9wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc3RvcCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZlcmlmeUNhbXBhaWduSWQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcInJldHVyblwiLCB0aGlzLmNsaWVudC5zdG9wQ2FtcGFpZ24odGhpcy5pZCkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICByZXR1cm4gX3N0b3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0b3A7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0Nikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMudmVyaWZ5Q2FtcGFpZ25JZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmdldENhbXBhaWduKHRoaXMuaWQpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gX2dldC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0O1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIENhbXBhaWduO1xufSgpO1xuXG52YXIgU2VnbWVudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFNlZ21lbnQoY2xpZW50LCB0eXBlLCBpZCwgZGF0YSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWdtZW50KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInR5cGVcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRhdGFcIiwgdm9pZCAwKTtcblxuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2VnbWVudCwgW3tcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY3JlYXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHtcbiAgICAgICAgdmFyIF90aGlzJGRhdGEsIF90aGlzJGRhdGEyLCBfdGhpcyRkYXRhMywgX3RoaXMkZGF0YTQsIF90aGlzJGRhdGE1O1xuXG4gICAgICAgIHZhciBib2R5O1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiAoX3RoaXMkZGF0YSA9IHRoaXMuZGF0YSkgPT09IG51bGwgfHwgX3RoaXMkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgZmlsdGVyOiAoX3RoaXMkZGF0YTIgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhMi5maWx0ZXIsXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogKF90aGlzJGRhdGEzID0gdGhpcy5kYXRhKSA9PT0gbnVsbCB8fCBfdGhpcyRkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZGF0YTMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICBhbGxfc2VuZGVyX2NoYW5uZWxzOiAoX3RoaXMkZGF0YTQgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhNC5hbGxfc2VuZGVyX2NoYW5uZWxzLFxuICAgICAgICAgICAgICAgICAgYWxsX3VzZXJzOiAoX3RoaXMkZGF0YTUgPSB0aGlzLmRhdGEpID09PSBudWxsIHx8IF90aGlzJGRhdGE1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRkYXRhNS5hbGxfdXNlcnNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuY3JlYXRlU2VnbWVudCh0aGlzLnR5cGUsIHRoaXMuaWQsIGJvZHkpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNyZWF0ZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJ2ZXJpZnlTZWdtZW50SWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmVyaWZ5U2VnbWVudElkKCkge1xuICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2VnbWVudCBpZCBpcyBtaXNzaW5nLiBFaXRoZXIgY3JlYXRlIHRoZSBzZWdtZW50IHVzaW5nIHNlZ21lbnQuY3JlYXRlKCkgb3Igc2V0IHRoZSBpZCBkdXJpbmcgaW5zdGFudGlhdGlvbiAtIGNvbnN0IHNlZ21lbnQgPSBjbGllbnQuc2VnbWVudChpZCknKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMudmVyaWZ5U2VnbWVudElkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuZ2V0U2VnbWVudCh0aGlzLmlkKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIF9nZXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91cGRhdGUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhkYXRhKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMudmVyaWZ5U2VnbWVudElkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQudXBkYXRlU2VnbWVudCh0aGlzLmlkLCBkYXRhKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZShfeCkge1xuICAgICAgICByZXR1cm4gX3VwZGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImFkZFRhcmdldHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hZGRUYXJnZXRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQodGFyZ2V0cykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZlcmlmeVNlZ21lbnRJZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LmFkZFNlZ21lbnRUYXJnZXRzKHRoaXMuaWQsIHRhcmdldHMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYWRkVGFyZ2V0cyhfeDIpIHtcbiAgICAgICAgcmV0dXJuIF9hZGRUYXJnZXRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRUYXJnZXRzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVRhcmdldHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZW1vdmVUYXJnZXRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUodGFyZ2V0cykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZlcmlmeVNlZ21lbnRJZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LnJlbW92ZVNlZ21lbnRUYXJnZXRzKHRoaXMuaWQsIHRhcmdldHMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0cyhfeDMpIHtcbiAgICAgICAgcmV0dXJuIF9yZW1vdmVUYXJnZXRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVUYXJnZXRzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbGV0ZTIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy52ZXJpZnlTZWdtZW50SWQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdChcInJldHVyblwiLCB0aGlzLmNsaWVudC5kZWxldGVTZWdtZW50KHRoaXMuaWQpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX2RlbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGUyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfZGVsZXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInRhcmdldEV4aXN0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RhcmdldEV4aXN0cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0Nykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMudmVyaWZ5U2VnbWVudElkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jbGllbnQuc2VnbWVudFRhcmdldEV4aXN0cyh0aGlzLmlkLCB0YXJnZXRJZCkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB0YXJnZXRFeGlzdHMoX3g0KSB7XG4gICAgICAgIHJldHVybiBfdGFyZ2V0RXhpc3RzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXRFeGlzdHM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwicXVlcnlUYXJnZXRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlUYXJnZXRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7XG4gICAgICAgIHZhciBmaWx0ZXIsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzOCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZmlsdGVyID0gX2FyZ3M4Lmxlbmd0aCA+IDAgJiYgX2FyZ3M4WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczhbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBzb3J0ID0gX2FyZ3M4Lmxlbmd0aCA+IDEgJiYgX2FyZ3M4WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczhbMV0gOiBbXTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M4Lmxlbmd0aCA+IDIgJiYgX2FyZ3M4WzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczhbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlcmlmeVNlZ21lbnRJZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuY2xpZW50LnF1ZXJ5U2VnbWVudFRhcmdldHModGhpcy5pZCwgZmlsdGVyLCBzb3J0LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5VGFyZ2V0cygpIHtcbiAgICAgICAgcmV0dXJuIF9xdWVyeVRhcmdldHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5VGFyZ2V0cztcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBTZWdtZW50O1xufSgpO1xuXG5mdW5jdGlvbiBfY3JlYXRlU3VwZXIoRGVyaXZlZCkgeyB2YXIgaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7IGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7IGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7IHRyeSB7IEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cblxuLyoqXG4gKiBVdGlsaXR5IFR5cGVzXG4gKi9cblxuLyogVW5rbm93biBSZWNvcmQgKi9cbi8vYWxpYXMgdG8gYXZvaWQgYnJlYWtpbmcgY2hhbmdlXG5cbi8qKlxuICogUmVzcG9uc2UgVHlwZXNcbiAqL1xuLy8gVE9ETzogRmlndXJlIG91dCBhIHdheSB0byBzdHJvbmdseSB0eXBlIHNldCBhbmQgdW5zZXQuXG4vLyBUaHVtYiBVUkwodGh1bWJfdXJsKSBpcyBhZGRlZCBjb25zaWRlcmluZyB2aWRlbyBhdHRhY2htZW50cyBhcyB0aGUgYmFja2VuZCB3aWxsIHJldHVybiB0aGUgdGh1bWJuYWlsIGluIHRoZSByZXNwb25zZS5cblxuLyoqXG4gKiBPcHRpb24gVHlwZXNcbiAqL1xuLy8gVE9ETzogcmVuYW1lIHRvIFVwZGF0ZUNoYW5uZWxPcHRpb25zIGluIHRoZSBuZXh0IG1ham9yIHVwZGF0ZSBhbmQgdXNlIGl0IGluIGNoYW5uZWwuX3VwZGF0ZSBhbmQvb3IgY2hhbm5lbC51cGRhdGVcblxuLyoqIEBkZXByZWNhdGVkIHVzZSBNYXJrQ2hhbm5lbHNSZWFkT3B0aW9ucyBpbnN0ZWFkICovXG4vLyBUT0RPOiByZW5hbWUgdG8gVXBkYXRlQ2hhbm5lbFR5cGVPcHRpb25zIGluIHRoZSBuZXh0IG1ham9yIHVwZGF0ZVxuXG4vKipcbiAqIEV2ZW50IFR5cGVzXG4gKi9cblxuLyoqXG4gKiBGaWx0ZXIgVHlwZXNcbiAqL1xuXG4vKipcbiAqIFNvcnQgVHlwZXNcbiAqL1xuXG4vKipcbiAqIEJhc2UgVHlwZXNcbiAqL1xuXG4vKlxuICBEZWxldGVVc2VyT3B0aW9ucyBzcGVjaWZpZXMgYSBjb2xsZWN0aW9uIG9mIG9uZSBvciBtb3JlIGB1c2VyX2lkc2AgdG8gYmUgZGVsZXRlZC5cblxuICBgdXNlcmA6XG4gICAgLSBzb2Z0OiBtYXJrcyB1c2VyIGFzIGRlbGV0ZWQgYW5kIHJldGFpbnMgYWxsIHVzZXIgZGF0YSBcbiAgICAtIHBydW5pbmc6IG1hcmtzIHVzZXIgYXMgZGVsZXRlZCBhbmQgbnVsbGlmaWVzIHVzZXIgaW5mb3JtYXRpb24gXG4gICAgLSBoYXJkOiBkZWxldGVzIHVzZXIgY29tcGxldGVseSAtIHRoaXMgcmVxdWlyZXMgaGFyZCBvcHRpb24gZm9yIG1lc3NhZ2VzIGFuZCBjb252ZXJzYXRpb24gYXMgd2VsbFxuICBgY29udmVyc2F0aW9uc2A6XG4gICAgLSBzb2Z0OiBtYXJrcyBhbGwgY29udmVyc2F0aW9uIGNoYW5uZWxzIGFzIGRlbGV0ZWQgKHNhbWUgZWZmZWN0IGFzIERlbGV0ZSBDaGFubmVscyB3aXRoICdoYXJkJyBvcHRpb24gZGlzYWJsZWQpXG4gICAgLSBoYXJkOiBkZWxldGVzIGNoYW5uZWwgYW5kIGFsbCBpdHMgZGF0YSBjb21wbGV0ZWx5IGluY2x1ZGluZyBtZXNzYWdlcyAoc2FtZSBlZmZlY3QgYXMgRGVsZXRlIENoYW5uZWxzIHdpdGggJ2hhcmQnIG9wdGlvbiBlbmFibGVkKVxuICBgbWVzc2FnZXNgOlxuICAgIC0gc29mdDogbWFya3MgYWxsIHVzZXIgbWVzc2FnZXMgYXMgZGVsZXRlZCB3aXRob3V0IHJlbW92aW5nIGFueSByZWxhdGVkIG1lc3NhZ2UgZGF0YVxuICAgIC0gcHJ1bmluZzogbWFya3MgYWxsIHVzZXIgbWVzc2FnZXMgYXMgZGVsZXRlZCwgbnVsbGlmaWVzIG1lc3NhZ2UgaW5mb3JtYXRpb24gYW5kIHJlbW92ZXMgc29tZSBtZXNzYWdlIGRhdGEgc3VjaCBhcyByZWFjdGlvbnMgYW5kIGZsYWdzXG4gICAgLSBoYXJkOiBkZWxldGVzIG1lc3NhZ2VzIGNvbXBsZXRlbHkgd2l0aCBhbGwgcmVsYXRlZCBpbmZvcm1hdGlvblxuICBgbmV3X2NoYW5uZWxfb3duZXJfaWRgOiBhbnkgY2hhbm5lbHMgb3duZWQgYnkgdGhlIGhhcmQtZGVsZXRlZCB1c2VyIHdpbGwgYmUgdHJhbnNmZXJyZWQgdG8gdGhpcyB1c2VyIElEXG4gKi9cbi8vIFRPRE86IGFkZCBiZXR0ZXIgdHlwaW5nXG52YXIgRXJyb3JGcm9tUmVzcG9uc2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FcnJvcikge1xuICBfaW5oZXJpdHMoRXJyb3JGcm9tUmVzcG9uc2UsIF9FcnJvcik7XG5cbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihFcnJvckZyb21SZXNwb25zZSk7XG5cbiAgZnVuY3Rpb24gRXJyb3JGcm9tUmVzcG9uc2UoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVycm9yRnJvbVJlc3BvbnNlKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBfdGhpcyA9IF9zdXBlci5jYWxsLmFwcGx5KF9zdXBlciwgW3RoaXNdLmNvbmNhdChhcmdzKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiY29kZVwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJlc3BvbnNlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwic3RhdHVzXCIsIHZvaWQgMCk7XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICByZXR1cm4gRXJyb3JGcm9tUmVzcG9uc2U7XG59KCAvKiNfX1BVUkVfXyovX3dyYXBOYXRpdmVTdXBlcihFcnJvcikpO1xuXG5mdW5jdGlvbiBvd25LZXlzJDEob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDEodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQxKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkMShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMShvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQxKGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxudmFyIFRocmVhZCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRocmVhZChjbGllbnQsIHQpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGhyZWFkKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImlkXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsYXRlc3RSZXBsaWVzXCIsIFtdKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInBhcnRpY2lwYW50c1wiLCBbXSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXNzYWdlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjaGFubmVsXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2hhbm5lbFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVwbHlDb3VudFwiLCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jbGllbnRcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlYWRcIiwge30pO1xuXG4gICAgdGhpcy5pZCA9IHQucGFyZW50X21lc3NhZ2UuaWQ7XG4gICAgdGhpcy5tZXNzYWdlID0gZm9ybWF0TWVzc2FnZSh0LnBhcmVudF9tZXNzYWdlKTtcbiAgICB0aGlzLmxhdGVzdFJlcGxpZXMgPSB0LmxhdGVzdF9yZXBsaWVzLm1hcChmb3JtYXRNZXNzYWdlKTtcbiAgICB0aGlzLnBhcnRpY2lwYW50cyA9IHQudGhyZWFkX3BhcnRpY2lwYW50cztcbiAgICB0aGlzLnJlcGx5Q291bnQgPSB0LnJlcGx5X2NvdW50O1xuICAgIHRoaXMuY2hhbm5lbCA9IHQuY2hhbm5lbDtcbiAgICB0aGlzLl9jaGFubmVsID0gY2xpZW50LmNoYW5uZWwodC5jaGFubmVsLnR5cGUsIHQuY2hhbm5lbC5pZCk7XG4gICAgdGhpcy5fY2xpZW50ID0gY2xpZW50O1xuXG4gICAgaWYgKHQucmVhZCkge1xuICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEodC5yZWFkKSxcbiAgICAgICAgICBfc3RlcDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgciA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgIHRoaXMucmVhZFtyLnVzZXIuaWRdID0gX29iamVjdFNwcmVhZCQxKF9vYmplY3RTcHJlYWQkMSh7fSwgciksIHt9LCB7XG4gICAgICAgICAgICBsYXN0X3JlYWQ6IG5ldyBEYXRlKHIubGFzdF9yZWFkKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvci5mKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRocmVhZCwgW3tcbiAgICBrZXk6IFwiZ2V0Q2xpZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENsaWVudCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jbGllbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGFkZFJlcGx5IC0gQWRkcyBvciB1cGRhdGVzIGEgbGF0ZXN0UmVwbGllcyB0byB0aGUgdGhyZWFkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01lc3NhZ2VSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBtZXNzYWdlIHJlcGx5IG1lc3NhZ2UgdG8gYmUgYWRkZWQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRSZXBseVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRSZXBseShtZXNzYWdlKSB7XG4gICAgICBpZiAobWVzc2FnZS5wYXJlbnRfaWQgIT09IHRoaXMubWVzc2FnZS5pZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01lc3NhZ2UgZG9lcyBub3QgYmVsb25nIHRvIHRoaXMgdGhyZWFkJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubGF0ZXN0UmVwbGllcyA9IGFkZFRvTWVzc2FnZUxpc3QodGhpcy5sYXRlc3RSZXBsaWVzLCBmb3JtYXRNZXNzYWdlKG1lc3NhZ2UpLCB0cnVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUmVwbHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUmVwbHkobWVzc2FnZSkge1xuICAgICAgdGhpcy5sYXRlc3RSZXBsaWVzID0gdGhpcy5sYXRlc3RSZXBsaWVzLm1hcChmdW5jdGlvbiAobSkge1xuICAgICAgICBpZiAobS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgIHJldHVybiBmb3JtYXRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlTWVzc2FnZU9yUmVwbHlJZkV4aXN0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVNZXNzYWdlT3JSZXBseUlmRXhpc3RzKG1lc3NhZ2UpIHtcbiAgICAgIGlmICghbWVzc2FnZS5wYXJlbnRfaWQgJiYgbWVzc2FnZS5pZCAhPT0gdGhpcy5tZXNzYWdlLmlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lc3NhZ2UucGFyZW50X2lkICYmIG1lc3NhZ2UucGFyZW50X2lkICE9PSB0aGlzLm1lc3NhZ2UuaWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVzc2FnZS5wYXJlbnRfaWQgJiYgbWVzc2FnZS5wYXJlbnRfaWQgPT09IHRoaXMubWVzc2FnZS5pZCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVJlcGx5KG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghbWVzc2FnZS5wYXJlbnRfaWQgJiYgbWVzc2FnZS5pZCA9PT0gdGhpcy5tZXNzYWdlLmlkKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGZvcm1hdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFkZFJlYWN0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFJlYWN0aW9uKHJlYWN0aW9uLCBtZXNzYWdlLCBlbmZvcmNlX3VuaXF1ZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCFtZXNzYWdlKSByZXR1cm47XG4gICAgICB0aGlzLmxhdGVzdFJlcGxpZXMgPSB0aGlzLmxhdGVzdFJlcGxpZXMubWFwKGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIGlmIChtLmlkID09PSBtZXNzYWdlLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdE1lc3NhZ2UoX3RoaXMuX2NoYW5uZWwuc3RhdGUuYWRkUmVhY3Rpb24ocmVhY3Rpb24sIG1lc3NhZ2UsIGVuZm9yY2VfdW5pcXVlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVSZWFjdGlvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVSZWFjdGlvbihyZWFjdGlvbiwgbWVzc2FnZSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICghbWVzc2FnZSkgcmV0dXJuO1xuICAgICAgdGhpcy5sYXRlc3RSZXBsaWVzID0gdGhpcy5sYXRlc3RSZXBsaWVzLm1hcChmdW5jdGlvbiAobSkge1xuICAgICAgICBpZiAobS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgIHJldHVybiBmb3JtYXRNZXNzYWdlKF90aGlzMi5fY2hhbm5lbC5zdGF0ZS5yZW1vdmVSZWFjdGlvbihyZWFjdGlvbiwgbWVzc2FnZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGhyZWFkO1xufSgpO1xuXG52YXIgX2V4Y2x1ZGVkID0gW1wiY3JlYXRlZF9hdFwiLCBcInVwZGF0ZWRfYXRcIiwgXCJsYXN0X2FjdGl2ZVwiLCBcIm9ubGluZVwiXSxcbiAgICBfZXhjbHVkZWQyID0gW1wicGFyYW1zXCIsIFwiaGVhZGVyc1wiXTtcblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0gfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKEFycmF5LmlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnc3RyaW5nJyB8fCB4IGluc3RhbmNlb2YgU3RyaW5nO1xufVxuXG52YXIgU3RyZWFtQ2hhdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0cmVhbUNoYXQoX2tleSwgc2VjcmV0T3JPcHRpb25zLCBfb3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgIF90aGlzJG9wdGlvbnM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RyZWFtQ2hhdCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdXNlclwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiYWN0aXZlQ2hhbm5lbHNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFub255bW91c1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJheGlvc0luc3RhbmNlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJiYXNlVVJMXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJicm93c2VyXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGVhbmluZ0ludGVydmFsUmVmXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjbGllbnRJRFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29uZmlnc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwia2V5XCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsaXN0ZW5lcnNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImxvZ2dlclwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVjb3ZlclN0YXRlT25SZWNvbm5lY3RcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm11dGVkQ2hhbm5lbHNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm11dGVkVXNlcnNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5vZGVcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wdGlvbnNcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNlY3JldFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwic2V0VXNlclByb21pc2VcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXRlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0b2tlbk1hbmFnZXJcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZXJcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVzZXJBZ2VudFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlcklEXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ3c0Jhc2VVUkxcIiwgdm9pZCAwKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIndzQ29ubmVjdGlvblwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid3NGYWxsYmFja1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid3NQcm9taXNlXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25zZWN1dGl2ZUZhaWx1cmVzXCIsIHZvaWQgMCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpbnNpZ2h0TWV0cmljc1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGVmYXVsdFdTVGltZW91dFdpdGhGYWxsYmFja1wiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZGVmYXVsdFdTVGltZW91dFwiLCB2b2lkIDApO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXJcIiwgbnVsbCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZ2V0Q29ubmVjdGlvbklEXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyR3c0Nvbm5lY3Rpb24sIF90aGlzJHdzRmFsbGJhY2s7XG5cbiAgICAgIHJldHVybiAoKF90aGlzJHdzQ29ubmVjdGlvbiA9IF90aGlzLndzQ29ubmVjdGlvbikgPT09IG51bGwgfHwgX3RoaXMkd3NDb25uZWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR3c0Nvbm5lY3Rpb24uY29ubmVjdGlvbklEKSB8fCAoKF90aGlzJHdzRmFsbGJhY2sgPSBfdGhpcy53c0ZhbGxiYWNrKSA9PT0gbnVsbCB8fCBfdGhpcyR3c0ZhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR3c0ZhbGxiYWNrLmNvbm5lY3Rpb25JRCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaGFzQ29ubmVjdGlvbklEXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKF90aGlzLl9nZXRDb25uZWN0aW9uSUQoKSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJjb25uZWN0VXNlclwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVzZXIsIHVzZXJUb2tlbk9yUHJvdmlkZXIpIHtcbiAgICAgICAgdmFyIHNldFRva2VuUHJvbWlzZSwgd3NQcm9taXNlO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGlmICh1c2VyLmlkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFwiaWRcIiBmaWVsZCBvbiB0aGUgdXNlciBpcyBtaXNzaW5nJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnVzZXJJRCA9PT0gdXNlci5pZCAmJiBfdGhpcy5zZXRVc2VyUHJvbWlzZSkpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb25zZWN1dGl2ZSBjYWxscyB0byBjb25uZWN0VXNlciBpcyBkZXRlY3RlZCwgaWRlYWxseSB5b3Ugc2hvdWxkIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uIG9uY2UgaW4geW91ciBhcHAuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdChcInJldHVyblwiLCBfdGhpcy5zZXRVc2VyUHJvbWlzZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMudXNlcklEKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlIGNsaWVudC5kaXNjb25uZWN0KCkgYmVmb3JlIHRyeWluZyB0byBjb25uZWN0IGFzIGEgZGlmZmVyZW50IHVzZXIuIGNvbm5lY3RVc2VyIHdhcyBjYWxsZWQgdHdpY2UuJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIGlmICgoX3RoaXMuX2lzVXNpbmdTZXJ2ZXJBdXRoKCkgfHwgX3RoaXMubm9kZSkgJiYgIV90aGlzLm9wdGlvbnMuYWxsb3dTZXJ2ZXJTaWRlQ29ubmVjdCkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdQbGVhc2UgZG8gbm90IHVzZSBjb25uZWN0VXNlciBzZXJ2ZXIgc2lkZS4gY29ubmVjdFVzZXIgaW1wYWN0cyBNQVUgYW5kIGNvbmN1cnJlbnQgY29ubmVjdGlvbiB1c2FnZSBhbmQgdGh1cyB5b3VyIGJpbGwuIElmIHlvdSBoYXZlIGEgdmFsaWQgdXNlLWNhc2UsIGFkZCBcImFsbG93U2VydmVyU2lkZUNvbm5lY3Q6IHRydWVcIiB0byB0aGUgY2xpZW50IG9wdGlvbnMgdG8gZGlzYWJsZSB0aGlzIHdhcm5pbmcuJyk7XG4gICAgICAgICAgICAgICAgfSAvLyB3ZSBnZW5lcmF0ZSB0aGUgY2xpZW50IGlkIGNsaWVudCBzaWRlXG5cblxuICAgICAgICAgICAgICAgIF90aGlzLnVzZXJJRCA9IHVzZXIuaWQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2V0VG9rZW5Qcm9taXNlID0gX3RoaXMuX3NldFRva2VuKHVzZXIsIHVzZXJUb2tlbk9yUHJvdmlkZXIpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuX3NldFVzZXIodXNlcik7XG5cbiAgICAgICAgICAgICAgICB3c1Byb21pc2UgPSBfdGhpcy5vcGVuQ29ubmVjdGlvbigpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFVzZXJQcm9taXNlID0gUHJvbWlzZS5hbGwoW3NldFRva2VuUHJvbWlzZSwgd3NQcm9taXNlXSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0WzFdO1xuICAgICAgICAgICAgICAgIH0gLy8gV2Ugb25seSByZXR1cm4gY29ubmVjdGlvbiBwcm9taXNlO1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE0O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuc2V0VXNlclByb21pc2U7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDIwO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgxNCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIGNsaWVudCB0byBhbGxvdyB0aGUgdXNlciB0byByZXRyeSBjb25uZWN0VXNlciBhZ2FpblxuICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VDb25uZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzLmRpc2Nvbm5lY3RVc2VyKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQudDA7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzE0LCAyMF1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCwgX3gyKSB7XG4gICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJzZXRVc2VyXCIsIHRoaXMuY29ubmVjdFVzZXIpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3NldFRva2VuXCIsIGZ1bmN0aW9uICh1c2VyLCB1c2VyVG9rZW5PclByb3ZpZGVyKSB7XG4gICAgICByZXR1cm4gX3RoaXMudG9rZW5NYW5hZ2VyLnNldFRva2VuT3JQcm92aWRlcih1c2VyVG9rZW5PclByb3ZpZGVyLCB1c2VyKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNsb3NlQ29ubmVjdGlvblwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodGltZW91dCkge1xuICAgICAgICB2YXIgX3RoaXMkd3NDb25uZWN0aW9uMiwgX3RoaXMkd3NGYWxsYmFjazI7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNsZWFuaW5nSW50ZXJ2YWxSZWYgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpcy5jbGVhbmluZ0ludGVydmFsUmVmKTtcbiAgICAgICAgICAgICAgICAgIF90aGlzLmNsZWFuaW5nSW50ZXJ2YWxSZWYgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbKF90aGlzJHdzQ29ubmVjdGlvbjIgPSBfdGhpcy53c0Nvbm5lY3Rpb24pID09PSBudWxsIHx8IF90aGlzJHdzQ29ubmVjdGlvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHdzQ29ubmVjdGlvbjIuZGlzY29ubmVjdCh0aW1lb3V0KSwgKF90aGlzJHdzRmFsbGJhY2syID0gX3RoaXMud3NGYWxsYmFjaykgPT09IG51bGwgfHwgX3RoaXMkd3NGYWxsYmFjazIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHdzRmFsbGJhY2syLmRpc2Nvbm5lY3QodGltZW91dCldKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIpO1xuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKF94Mykge1xuICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm9wZW5Db25uZWN0aW9uXCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHtcbiAgICAgIHZhciBfdGhpcyR3c0Nvbm5lY3Rpb24zLCBfdGhpcyR3c0Nvbm5lY3Rpb240LCBfdGhpcyR3c0ZhbGxiYWNrMztcblxuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGlmIChfdGhpcy51c2VySUQpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcignVXNlciBpcyBub3Qgc2V0IG9uIGNsaWVudCwgdXNlIGNsaWVudC5jb25uZWN0VXNlciBvciBjbGllbnQuY29ubmVjdEFub255bW91c1VzZXIgaW5zdGVhZCcpO1xuXG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGlmICghKChfdGhpcyR3c0Nvbm5lY3Rpb24zID0gX3RoaXMud3NDb25uZWN0aW9uKSAhPT0gbnVsbCAmJiBfdGhpcyR3c0Nvbm5lY3Rpb24zICE9PSB2b2lkIDAgJiYgX3RoaXMkd3NDb25uZWN0aW9uMy5pc0Nvbm5lY3RpbmcgJiYgX3RoaXMud3NQcm9taXNlKSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIF90aGlzLmxvZ2dlcignaW5mbycsICdjbGllbnQ6b3BlbkNvbm5lY3Rpb24oKSAtIGNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcycsIHtcbiAgICAgICAgICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nLCAnY2xpZW50J11cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoXCJyZXR1cm5cIiwgX3RoaXMud3NQcm9taXNlKTtcblxuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBpZiAoISgoKF90aGlzJHdzQ29ubmVjdGlvbjQgPSBfdGhpcy53c0Nvbm5lY3Rpb24pICE9PSBudWxsICYmIF90aGlzJHdzQ29ubmVjdGlvbjQgIT09IHZvaWQgMCAmJiBfdGhpcyR3c0Nvbm5lY3Rpb240LmlzSGVhbHRoeSB8fCAoX3RoaXMkd3NGYWxsYmFjazMgPSBfdGhpcy53c0ZhbGxiYWNrKSAhPT0gbnVsbCAmJiBfdGhpcyR3c0ZhbGxiYWNrMyAhPT0gdm9pZCAwICYmIF90aGlzJHdzRmFsbGJhY2szLmlzSGVhbHRoeSgpKSAmJiBfdGhpcy5faGFzQ29ubmVjdGlvbklEKCkpKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyKCdpbmZvJywgJ2NsaWVudDpvcGVuQ29ubmVjdGlvbigpIC0gb3BlbkNvbm5lY3Rpb24gY2FsbGVkIHR3aWNlLCBoZWFsdGh5IGNvbm5lY3Rpb24gYWxyZWFkeSBleGlzdHMnLCB7XG4gICAgICAgICAgICAgICAgdGFnczogWydjb25uZWN0aW9uJywgJ2NsaWVudCddXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIFByb21pc2UucmVzb2x2ZSgpKTtcblxuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICBfdGhpcy5jbGllbnRJRCA9IFwiXCIuY29uY2F0KF90aGlzLnVzZXJJRCwgXCItLVwiKS5jb25jYXQocmFuZG9tSWQoKSk7XG4gICAgICAgICAgICAgIF90aGlzLndzUHJvbWlzZSA9IF90aGlzLmNvbm5lY3QoKTtcblxuICAgICAgICAgICAgICBfdGhpcy5fc3RhcnRDbGVhbmluZygpO1xuXG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KFwicmV0dXJuXCIsIF90aGlzLndzUHJvbWlzZSk7XG5cbiAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgX2NhbGxlZTMpO1xuICAgIH0pKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc2V0dXBDb25uZWN0aW9uXCIsIHRoaXMub3BlbkNvbm5lY3Rpb24pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX25vcm1hbGl6ZURhdGVcIiwgZnVuY3Rpb24gKGJlZm9yZSkge1xuICAgICAgaWYgKGJlZm9yZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgYmVmb3JlID0gYmVmb3JlLnRvSVNPU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChiZWZvcmUgPT09ICcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRvbid0IHBhc3MgYmxhbmsgc3RyaW5nIGZvciBzaW5jZSwgdXNlIG51bGwgaW5zdGVhZCBpZiByZXNldHRpbmcgdGhlIHRva2VuIHJldm9rZVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJlZm9yZTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRpc2Nvbm5lY3RVc2VyXCIsIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBjbG9zZVByb21pc2UsIF9pLCBfT2JqZWN0JHZhbHVlcywgX2NoYW5uZWw7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyKCdpbmZvJywgJ2NsaWVudDpkaXNjb25uZWN0KCkgLSBEaXNjb25uZWN0aW5nIHRoZSBjbGllbnQnLCB7XG4gICAgICAgICAgICAgICAgICB0YWdzOiBbJ2Nvbm5lY3Rpb24nLCAnY2xpZW50J11cbiAgICAgICAgICAgICAgICB9KTsgLy8gcmVtb3ZlIHRoZSB1c2VyIHNwZWNpZmljIGZpZWxkc1xuXG5cbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXMudXNlcjtcbiAgICAgICAgICAgICAgICBkZWxldGUgX3RoaXMuX3VzZXI7XG4gICAgICAgICAgICAgICAgZGVsZXRlIF90aGlzLnVzZXJJRDtcbiAgICAgICAgICAgICAgICBfdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjbG9zZVByb21pc2UgPSBfdGhpcy5jbG9zZUNvbm5lY3Rpb24odGltZW91dCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKF9pID0gMCwgX09iamVjdCR2YWx1ZXMgPSBPYmplY3QudmFsdWVzKF90aGlzLmFjdGl2ZUNoYW5uZWxzKTsgX2kgPCBfT2JqZWN0JHZhbHVlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgIF9jaGFubmVsID0gX09iamVjdCR2YWx1ZXNbX2ldO1xuXG4gICAgICAgICAgICAgICAgICBfY2hhbm5lbC5fZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIH0gLy8gZW5zdXJlIHdlIG5vIGxvbmdlciByZXR1cm4gaW5hY3RpdmUgY2hhbm5lbHNcblxuXG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlQ2hhbm5lbHMgPSB7fTsgLy8gcmVzZXQgY2xpZW50IHN0YXRlXG5cbiAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZSA9IG5ldyBDbGllbnRTdGF0ZSgpOyAvLyByZXNldCB0b2tlbiBtYW5hZ2VyXG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KF90aGlzLnRva2VuTWFuYWdlci5yZXNldCk7IC8vIGRlbGF5IHJlc2V0aW5nIHRvIHVzZSB0b2tlbiBmb3IgZGlzY29ubmVjdCBjYWxsc1xuICAgICAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBXUyBjb25uZWN0aW9uXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdChcInJldHVyblwiLCBjbG9zZVByb21pc2UpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0KTtcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkaXNjb25uZWN0XCIsIHRoaXMuZGlzY29ubmVjdFVzZXIpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiY29ubmVjdEFub255bW91c1VzZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKChfdGhpcy5faXNVc2luZ1NlcnZlckF1dGgoKSB8fCBfdGhpcy5ub2RlKSAmJiAhX3RoaXMub3B0aW9ucy5hbGxvd1NlcnZlclNpZGVDb25uZWN0KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGxlYXNlIGRvIG5vdCB1c2UgY29ubmVjdFVzZXIgc2VydmVyIHNpZGUuIGNvbm5lY3RVc2VyIGltcGFjdHMgTUFVIGFuZCBjb25jdXJyZW50IGNvbm5lY3Rpb24gdXNhZ2UgYW5kIHRodXMgeW91ciBiaWxsLiBJZiB5b3UgaGF2ZSBhIHZhbGlkIHVzZS1jYXNlLCBhZGQgXCJhbGxvd1NlcnZlclNpZGVDb25uZWN0OiB0cnVlXCIgdG8gdGhlIGNsaWVudCBvcHRpb25zIHRvIGRpc2FibGUgdGhpcyB3YXJuaW5nLicpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5hbm9ueW1vdXMgPSB0cnVlO1xuICAgICAgX3RoaXMudXNlcklEID0gcmFuZG9tSWQoKTtcbiAgICAgIHZhciBhbm9ueW1vdXNVc2VyID0ge1xuICAgICAgICBpZDogX3RoaXMudXNlcklELFxuICAgICAgICBhbm9uOiB0cnVlXG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5fc2V0VG9rZW4oYW5vbnltb3VzVXNlciwgJycpO1xuXG4gICAgICBfdGhpcy5fc2V0VXNlcihhbm9ueW1vdXNVc2VyKTtcblxuICAgICAgcmV0dXJuIF90aGlzLl9zZXR1cENvbm5lY3Rpb24oKTtcbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNldEFub255bW91c1VzZXJcIiwgdGhpcy5jb25uZWN0QW5vbnltb3VzVXNlcik7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJkb0F4aW9zUmVxdWVzdFwiLCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUodHlwZSwgdXJsLCBkYXRhKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgcmVxdWVzdENvbmZpZyxcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgX3JlcXVlc3RDb25maWckaGVhZGVyLFxuICAgICAgICAgICAgX2FyZ3M1ID0gYXJndW1lbnRzO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczUubGVuZ3RoID4gMyAmJiBfYXJnczVbM10gIT09IHVuZGVmaW5lZCA/IF9hcmdzNVszXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudG9rZW5NYW5hZ2VyLnRva2VuUmVhZHkoKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmVxdWVzdENvbmZpZyA9IF90aGlzLl9lbnJpY2hBeGlvc09wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSA0O1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuX2xvZ0FwaVJlcXVlc3QodHlwZSwgdXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MCA9IHR5cGU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSBfY29udGV4dDUudDAgPT09ICdnZXQnID8gOSA6IF9jb250ZXh0NS50MCA9PT0gJ2RlbGV0ZScgPyAxMyA6IF9jb250ZXh0NS50MCA9PT0gJ3Bvc3QnID8gMTcgOiBfY29udGV4dDUudDAgPT09ICdwb3N0Rm9ybScgPyAyMSA6IF9jb250ZXh0NS50MCA9PT0gJ3B1dCcgPyAyNSA6IF9jb250ZXh0NS50MCA9PT0gJ3BhdGNoJyA/IDI5IDogX2NvbnRleHQ1LnQwID09PSAnb3B0aW9ucycgPyAzMyA6IDM3O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5heGlvc0luc3RhbmNlLmdldCh1cmwsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zSW5zdGFuY2UuZGVsZXRlKHVybCwgcmVxdWVzdENvbmZpZyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwiYnJlYWtcIiwgMzgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxOTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3NJbnN0YW5jZS5wb3N0KHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwiYnJlYWtcIiwgMzgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMztcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3NJbnN0YW5jZS5wb3N0Rm9ybSh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zSW5zdGFuY2UucHV0KHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NS5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwiYnJlYWtcIiwgMzgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAzMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3NJbnN0YW5jZS5wYXRjaCh1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzE6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmF4aW9zSW5zdGFuY2Uub3B0aW9ucyh1cmwsIHJlcXVlc3RDb25maWcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzU6XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdChcImJyZWFrXCIsIDM4KTtcblxuICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXF1ZXN0IHR5cGUnKTtcblxuICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgIF90aGlzLl9sb2dBcGlSZXNwb25zZSh0eXBlLCB1cmwsIHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgIF90aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KFwicmV0dXJuXCIsIF90aGlzLmhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0MzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDQzO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MSA9IF9jb250ZXh0NVtcImNhdGNoXCJdKDQpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NS50MS5jbGllbnRfcmVxdWVzdF9pZCA9IChfcmVxdWVzdENvbmZpZyRoZWFkZXIgPSByZXF1ZXN0Q29uZmlnLmhlYWRlcnMpID09PSBudWxsIHx8IF9yZXF1ZXN0Q29uZmlnJGhlYWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcXVlc3RDb25maWckaGVhZGVyWyd4LWNsaWVudC1yZXF1ZXN0LWlkJ107XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5fbG9nQXBpRXJyb3IodHlwZSwgdXJsLCBfY29udGV4dDUudDEpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFfY29udGV4dDUudDEucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjA7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDUudDEucmVzcG9uc2UuZGF0YS5jb2RlID09PSBjaGF0Q29kZXMuVE9LRU5fRVhQSVJFRCAmJiAhX3RoaXMudG9rZW5NYW5hZ2VyLmlzU3RhdGljKCkpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU3O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA+IDEpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDUzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA1MztcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xlZXAocmV0cnlJbnRlcnZhbChfdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1MzpcbiAgICAgICAgICAgICAgICBfdGhpcy50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDU2O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5kb0F4aW9zUmVxdWVzdCh0eXBlLCB1cmwsIGRhdGEsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoXCJyZXR1cm5cIiwgX3RoaXMuaGFuZGxlUmVzcG9uc2UoX2NvbnRleHQ1LnQxLnJlc3BvbnNlKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2MDpcbiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDUudDE7XG5cbiAgICAgICAgICAgICAgY2FzZSA2MTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUsIG51bGwsIFtbNCwgNDNdXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g1LCBfeDYsIF94Nykge1xuICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRpc3BhdGNoRXZlbnRcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoIWV2ZW50LnJlY2VpdmVkX2F0KSBldmVudC5yZWNlaXZlZF9hdCA9IG5ldyBEYXRlKCk7IC8vIGNsaWVudCBldmVudCBoYW5kbGVyc1xuXG4gICAgICB2YXIgcG9zdExpc3RlbmVyQ2FsbGJhY2tzID0gX3RoaXMuX2hhbmRsZUNsaWVudEV2ZW50KGV2ZW50KTsgLy8gY2hhbm5lbCBldmVudCBoYW5kbGVyc1xuXG5cbiAgICAgIHZhciBjaWQgPSBldmVudC5jaWQ7XG4gICAgICB2YXIgY2hhbm5lbCA9IGNpZCA/IF90aGlzLmFjdGl2ZUNoYW5uZWxzW2NpZF0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChjaGFubmVsKSB7XG4gICAgICAgIGNoYW5uZWwuX2hhbmRsZUNoYW5uZWxFdmVudChldmVudCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLl9jYWxsQ2xpZW50TGlzdGVuZXJzKGV2ZW50KTtcblxuICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgY2hhbm5lbC5fY2FsbENoYW5uZWxMaXN0ZW5lcnMoZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBwb3N0TGlzdGVuZXJDYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gYygpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJoYW5kbGVFdmVudFwiLCBmdW5jdGlvbiAobWVzc2FnZUV2ZW50KSB7XG4gICAgICAvLyBkaXNwYXRjaCB0aGUgZXZlbnQgdG8gdGhlIGNoYW5uZWwgbGlzdGVuZXJzXG4gICAgICB2YXIganNvblN0cmluZyA9IG1lc3NhZ2VFdmVudC5kYXRhO1xuICAgICAgdmFyIGV2ZW50ID0gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcblxuICAgICAgX3RoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdXBkYXRlTWVtYmVyV2F0Y2hlclJlZmVyZW5jZXNcIiwgZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHZhciByZWZNYXAgPSBfdGhpcy5zdGF0ZS51c2VyQ2hhbm5lbFJlZmVyZW5jZXNbdXNlci5pZF0gfHwge307XG5cbiAgICAgIGZvciAodmFyIF9jaGFubmVsSUQgaW4gcmVmTWFwKSB7XG4gICAgICAgIHZhciBfY2hhbm5lbDIgPSBfdGhpcy5hY3RpdmVDaGFubmVsc1tfY2hhbm5lbElEXTtcblxuICAgICAgICBpZiAoX2NoYW5uZWwyICE9PSBudWxsICYmIF9jaGFubmVsMiAhPT0gdm9pZCAwICYmIF9jaGFubmVsMi5zdGF0ZSkge1xuICAgICAgICAgIGlmIChfY2hhbm5lbDIuc3RhdGUubWVtYmVyc1t1c2VyLmlkXSkge1xuICAgICAgICAgICAgX2NoYW5uZWwyLnN0YXRlLm1lbWJlcnNbdXNlci5pZF0udXNlciA9IHVzZXI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKF9jaGFubmVsMi5zdGF0ZS53YXRjaGVyc1t1c2VyLmlkXSkge1xuICAgICAgICAgICAgX2NoYW5uZWwyLnN0YXRlLndhdGNoZXJzW3VzZXIuaWRdID0gdXNlcjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoX2NoYW5uZWwyLnN0YXRlLnJlYWRbdXNlci5pZF0pIHtcbiAgICAgICAgICAgIF9jaGFubmVsMi5zdGF0ZS5yZWFkW3VzZXIuaWRdLnVzZXIgPSB1c2VyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3VwZGF0ZVVzZXJSZWZlcmVuY2VzXCIsIHRoaXMuX3VwZGF0ZU1lbWJlcldhdGNoZXJSZWZlcmVuY2VzKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl91cGRhdGVVc2VyTWVzc2FnZVJlZmVyZW5jZXNcIiwgZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgIHZhciByZWZNYXAgPSBfdGhpcy5zdGF0ZS51c2VyQ2hhbm5lbFJlZmVyZW5jZXNbdXNlci5pZF0gfHwge307XG5cbiAgICAgIGZvciAodmFyIF9jaGFubmVsSUQyIGluIHJlZk1hcCkge1xuICAgICAgICB2YXIgX2NoYW5uZWwzID0gX3RoaXMuYWN0aXZlQ2hhbm5lbHNbX2NoYW5uZWxJRDJdO1xuICAgICAgICBpZiAoIV9jaGFubmVsMykgY29udGludWU7XG4gICAgICAgIHZhciBzdGF0ZSA9IF9jaGFubmVsMy5zdGF0ZTtcbiAgICAgICAgLyoqIHVwZGF0ZSB0aGUgbWVzc2FnZXMgZnJvbSB0aGlzIHVzZXIuICovXG5cbiAgICAgICAgc3RhdGUgPT09IG51bGwgfHwgc3RhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHN0YXRlLnVwZGF0ZVVzZXJNZXNzYWdlcyh1c2VyKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kZWxldGVVc2VyTWVzc2FnZVJlZmVyZW5jZVwiLCBmdW5jdGlvbiAodXNlcikge1xuICAgICAgdmFyIGhhcmREZWxldGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgICAgdmFyIHJlZk1hcCA9IF90aGlzLnN0YXRlLnVzZXJDaGFubmVsUmVmZXJlbmNlc1t1c2VyLmlkXSB8fCB7fTtcblxuICAgICAgZm9yICh2YXIgX2NoYW5uZWxJRDMgaW4gcmVmTWFwKSB7XG4gICAgICAgIHZhciBfY2hhbm5lbDQgPSBfdGhpcy5hY3RpdmVDaGFubmVsc1tfY2hhbm5lbElEM107XG4gICAgICAgIHZhciBzdGF0ZSA9IF9jaGFubmVsNC5zdGF0ZTtcbiAgICAgICAgLyoqIGRlbGV0ZWQgdGhlIG1lc3NhZ2VzIGZyb20gdGhpcyB1c2VyLiAqL1xuXG4gICAgICAgIHN0YXRlID09PSBudWxsIHx8IHN0YXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdGF0ZS5kZWxldGVVc2VyTWVzc2FnZXModXNlciwgaGFyZERlbGV0ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaGFuZGxlVXNlckV2ZW50XCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKCFldmVudC51c2VyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8qKiB1cGRhdGUgdGhlIGNsaWVudC5zdGF0ZSB3aXRoIGFueSBjaGFuZ2VzIHRvIHVzZXJzICovXG5cblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd1c2VyLnByZXNlbmNlLmNoYW5nZWQnIHx8IGV2ZW50LnR5cGUgPT09ICd1c2VyLnVwZGF0ZWQnKSB7XG4gICAgICAgIGlmIChldmVudC51c2VyLmlkID09PSBfdGhpcy51c2VySUQpIHtcbiAgICAgICAgICB2YXIgdXNlciA9IF9vYmplY3RTcHJlYWQoe30sIF90aGlzLnVzZXIgfHwge30pO1xuXG4gICAgICAgICAgdmFyIF91c2VyID0gX29iamVjdFNwcmVhZCh7fSwgX3RoaXMuX3VzZXIgfHwge30pOyAvLyBSZW1vdmUgZGVsZXRlZCBwcm9wZXJ0aWVzIGZyb20gdXNlciBvYmplY3RzLlxuXG5cbiAgICAgICAgICBmb3IgKHZhciBfa2V5MiBpbiBfdGhpcy51c2VyKSB7XG4gICAgICAgICAgICBpZiAoX2tleTIgaW4gZXZlbnQudXNlciB8fCBpc093blVzZXJCYXNlUHJvcGVydHkoX2tleTIpKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGUgdXNlcltfa2V5Ml07XG4gICAgICAgICAgICBkZWxldGUgX3VzZXJbX2tleTJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvKiogVXBkYXRpbmcgb25seSBhdmFpbGFibGUgcHJvcGVydGllcyBpbiBfdXNlciBvYmplY3QuICovXG5cblxuICAgICAgICAgIGZvciAodmFyIF9rZXkzIGluIGV2ZW50LnVzZXIpIHtcbiAgICAgICAgICAgIGlmIChfdXNlciAmJiBfa2V5MyBpbiBfdXNlcikge1xuICAgICAgICAgICAgICBfdXNlcltfa2V5M10gPSBldmVudC51c2VyW19rZXkzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIEB0cy1leHBlY3QtZXJyb3JcblxuXG4gICAgICAgICAgX3RoaXMuX3VzZXIgPSBfb2JqZWN0U3ByZWFkKHt9LCBfdXNlcik7XG4gICAgICAgICAgX3RoaXMudXNlciA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdXNlciksIGV2ZW50LnVzZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc3RhdGUudXBkYXRlVXNlcihldmVudC51c2VyKTtcblxuICAgICAgICBfdGhpcy5fdXBkYXRlTWVtYmVyV2F0Y2hlclJlZmVyZW5jZXMoZXZlbnQudXNlcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAndXNlci51cGRhdGVkJykge1xuICAgICAgICBfdGhpcy5fdXBkYXRlVXNlck1lc3NhZ2VSZWZlcmVuY2VzKGV2ZW50LnVzZXIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3VzZXIuZGVsZXRlZCcgJiYgZXZlbnQudXNlci5kZWxldGVkX2F0ICYmIChldmVudC5tYXJrX21lc3NhZ2VzX2RlbGV0ZWQgfHwgZXZlbnQuaGFyZF9kZWxldGUpKSB7XG4gICAgICAgIF90aGlzLl9kZWxldGVVc2VyTWVzc2FnZVJlZmVyZW5jZShldmVudC51c2VyLCBldmVudC5oYXJkX2RlbGV0ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2FsbENsaWVudExpc3RlbmVyc1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjbGllbnQgPSBfdGhpczsgLy8gZ2F0aGVyIGFuZCBjYWxsIHRoZSBsaXN0ZW5lcnNcblxuICAgICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gICAgICBpZiAoY2xpZW50Lmxpc3RlbmVycy5hbGwpIHtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2guYXBwbHkobGlzdGVuZXJzLCBfdG9Db25zdW1hYmxlQXJyYXkoY2xpZW50Lmxpc3RlbmVycy5hbGwpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNsaWVudC5saXN0ZW5lcnNbZXZlbnQudHlwZV0pIHtcbiAgICAgICAgbGlzdGVuZXJzLnB1c2guYXBwbHkobGlzdGVuZXJzLCBfdG9Db25zdW1hYmxlQXJyYXkoY2xpZW50Lmxpc3RlbmVyc1tldmVudC50eXBlXSkpO1xuICAgICAgfSAvLyBjYWxsIHRoZSBldmVudCBhbmQgc2VuZCBpdCB0byB0aGUgbGlzdGVuZXJzXG5cblxuICAgICAgZm9yICh2YXIgX2kyID0gMCwgX2xpc3RlbmVycyA9IGxpc3RlbmVyczsgX2kyIDwgX2xpc3RlbmVycy5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IF9saXN0ZW5lcnNbX2kyXTtcbiAgICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVjb3ZlclN0YXRlXCIsIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHtcbiAgICAgIHZhciBjaWRzO1xuICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7XG4gICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIF90aGlzLmxvZ2dlcignaW5mbycsIFwiY2xpZW50OnJlY292ZXJTdGF0ZSgpIC0gU3RhcnQgb2YgcmVjb3ZlclN0YXRlIHdpdGggY29ubmVjdGlvbklEIFwiLmNvbmNhdChfdGhpcy5fZ2V0Q29ubmVjdGlvbklEKCkpLCB7XG4gICAgICAgICAgICAgICAgdGFnczogWydjb25uZWN0aW9uJ11cbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2lkcyA9IE9iamVjdC5rZXlzKF90aGlzLmFjdGl2ZUNoYW5uZWxzKTtcblxuICAgICAgICAgICAgICBpZiAoIShjaWRzLmxlbmd0aCAmJiBfdGhpcy5yZWNvdmVyU3RhdGVPblJlY29ubmVjdCkpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgX3RoaXMubG9nZ2VyKCdpbmZvJywgXCJjbGllbnQ6cmVjb3ZlclN0YXRlKCkgLSBTdGFydCB0aGUgcXVlcnlpbmcgb2YgXCIuY29uY2F0KGNpZHMubGVuZ3RoLCBcIiBjaGFubmVsc1wiKSwge1xuICAgICAgICAgICAgICAgIHRhZ3M6IFsnY29ubmVjdGlvbicsICdjbGllbnQnXVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7XG4gICAgICAgICAgICAgIHJldHVybiBfdGhpcy5xdWVyeUNoYW5uZWxzKHtcbiAgICAgICAgICAgICAgICBjaWQ6IHtcbiAgICAgICAgICAgICAgICAgICRpbjogY2lkc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGxhc3RfbWVzc2FnZV9hdDogLTFcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGxpbWl0OiAzMFxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBfdGhpcy5sb2dnZXIoJ2luZm8nLCAnY2xpZW50OnJlY292ZXJTdGF0ZSgpIC0gUXVlcnlpbmcgY2hhbm5lbHMgZmluaXNoZWQnLCB7XG4gICAgICAgICAgICAgICAgdGFnczogWydjb25uZWN0aW9uJywgJ2NsaWVudCddXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLnJlY292ZXJlZCdcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLnJlY292ZXJlZCdcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgIF90aGlzLndzUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICBfdGhpcy5zZXRVc2VyUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuXG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIF9jYWxsZWU2KTtcbiAgICB9KSkpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiZ2V0Q2hhbm5lbEJ5TWVtYmVyc1wiLCBmdW5jdGlvbiAoY2hhbm5lbFR5cGUsIGN1c3RvbSkge1xuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNoYW5uZWwgYWxyZWFkeSBleGlzdHMuXG4gICAgICAvLyBPbmx5IGFsbG93IDEgY2hhbm5lbCBvYmplY3QgcGVyIGNpZFxuICAgICAgdmFyIG1lbWJlcnNTdHIgPSBfdG9Db25zdW1hYmxlQXJyYXkoY3VzdG9tLm1lbWJlcnMgfHwgW10pLnNvcnQoKS5qb2luKCcsJyk7XG5cbiAgICAgIHZhciB0ZW1wQ2lkID0gXCJcIi5jb25jYXQoY2hhbm5lbFR5cGUsIFwiOiFtZW1iZXJzLVwiKS5jb25jYXQobWVtYmVyc1N0cik7XG5cbiAgICAgIGlmICghbWVtYmVyc1N0cikge1xuICAgICAgICB0aHJvdyBFcnJvcignUGxlYXNlIHNwZWNpZnkgYXRsZWFzdCBvbmUgbWVtYmVyIHdoZW4gY3JlYXRpbmcgdW5pcXVlIGNvbnZlcnNhdGlvbicpO1xuICAgICAgfSAvLyBjaGFubmVsIGNvdWxkIGV4aXN0IGluIGBhY3RpdmVDaGFubmVsc2AgbGlzdCB3aXRoIGVpdGhlciBvbmUgb2YgdGhlIGZvbGxvd2luZyB0d28ga2V5czpcbiAgICAgIC8vIDEuIGNpZCAtIFdoaWNoIGdldHMgc2V0IG9uIGNoYW5uZWwgb25seSBhZnRlciBjYWxsaW5nIGNoYW5uZWwucXVlcnkgb3IgY2hhbm5lbC53YXRjaCBvciBjaGFubmVsLmNyZWF0ZVxuICAgICAgLy8gMi4gU29ydGVkIG1lbWJlcnNTdHIgLSBFLmcuLCBcIm1lc3NhZ2luZzphbWluLHZpc2hhbFwiIE9SIFwibWVzc2FnaW5nOmFtaW4samFhcCx0b21cIlxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGlzIHNldCB3aGVuIHlvdSBjcmVhdGUgYSBjaGFubmVsLCBidXQgaGF2ZW4ndCBxdWVyaWVkIHlldC4gQWZ0ZXIgcXVlcnksXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIHdlIHdpbGwgcmVwbGFjZSBpdCB3aXRoIGBjaWRgXG5cblxuICAgICAgZm9yICh2YXIgX2tleTQgaW4gX3RoaXMuYWN0aXZlQ2hhbm5lbHMpIHtcbiAgICAgICAgdmFyIF9jaGFubmVsNSA9IF90aGlzLmFjdGl2ZUNoYW5uZWxzW19rZXk0XTtcblxuICAgICAgICBpZiAoX2NoYW5uZWw1LmRpc2Nvbm5lY3RlZCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9rZXk0ID09PSB0ZW1wQ2lkKSB7XG4gICAgICAgICAgcmV0dXJuIF9jaGFubmVsNTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfa2V5NC5pbmRleE9mKFwiXCIuY29uY2F0KGNoYW5uZWxUeXBlLCBcIjohbWVtYmVycy1cIikpID09PSAwKSB7XG4gICAgICAgICAgdmFyIG1lbWJlcnNTdHJJbkV4aXN0aW5nQ2hhbm5lbCA9IE9iamVjdC5rZXlzKF9jaGFubmVsNS5zdGF0ZS5tZW1iZXJzKS5zb3J0KCkuam9pbignLCcpO1xuXG4gICAgICAgICAgaWYgKG1lbWJlcnNTdHJJbkV4aXN0aW5nQ2hhbm5lbCA9PT0gbWVtYmVyc1N0cikge1xuICAgICAgICAgICAgcmV0dXJuIF9jaGFubmVsNTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgQ2hhbm5lbChfdGhpcywgY2hhbm5lbFR5cGUsIHVuZGVmaW5lZCwgY3VzdG9tKTsgLy8gRm9yIHRoZSB0aW1lIGJlaW5nIHNldCB0aGUga2V5IGFzIG1lbWJlcnNTdHIsIHNpbmNlIHdlIGRvbid0IGtub3cgdGhlIGNpZCB5ZXQuXG4gICAgICAvLyBJbiBjaGFubmVsLnF1ZXJ5LCB3ZSB3aWxsIHJlcGxhY2UgaXQgd2l0aCAnY2lkJy5cblxuICAgICAgX3RoaXMuYWN0aXZlQ2hhbm5lbHNbdGVtcENpZF0gPSBjaGFubmVsO1xuICAgICAgcmV0dXJuIGNoYW5uZWw7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJnZXRDaGFubmVsQnlJZFwiLCBmdW5jdGlvbiAoY2hhbm5lbFR5cGUsIGNoYW5uZWxJRCwgY3VzdG9tKSB7XG4gICAgICBpZiAodHlwZW9mIGNoYW5uZWxJRCA9PT0gJ3N0cmluZycgJiYgfmNoYW5uZWxJRC5pbmRleE9mKCc6JykpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGNoYW5uZWwgaWQgXCIuY29uY2F0KGNoYW5uZWxJRCwgXCIsIGNhbid0IGNvbnRhaW4gdGhlIDogY2hhcmFjdGVyXCIpKTtcbiAgICAgIH0gLy8gb25seSBhbGxvdyAxIGNoYW5uZWwgb2JqZWN0IHBlciBjaWRcblxuXG4gICAgICB2YXIgY2lkID0gXCJcIi5jb25jYXQoY2hhbm5lbFR5cGUsIFwiOlwiKS5jb25jYXQoY2hhbm5lbElEKTtcblxuICAgICAgaWYgKGNpZCBpbiBfdGhpcy5hY3RpdmVDaGFubmVscyAmJiAhX3RoaXMuYWN0aXZlQ2hhbm5lbHNbY2lkXS5kaXNjb25uZWN0ZWQpIHtcbiAgICAgICAgdmFyIF9jaGFubmVsNiA9IF90aGlzLmFjdGl2ZUNoYW5uZWxzW2NpZF07XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGN1c3RvbSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgIF9jaGFubmVsNi5kYXRhID0gY3VzdG9tO1xuICAgICAgICAgIF9jaGFubmVsNi5fZGF0YSA9IGN1c3RvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfY2hhbm5lbDY7XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGFubmVsID0gbmV3IENoYW5uZWwoX3RoaXMsIGNoYW5uZWxUeXBlLCBjaGFubmVsSUQsIGN1c3RvbSk7XG4gICAgICBfdGhpcy5hY3RpdmVDaGFubmVsc1tjaGFubmVsLmNpZF0gPSBjaGFubmVsO1xuICAgICAgcmV0dXJuIGNoYW5uZWw7XG4gICAgfSk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJ1cGRhdGVVc2Vyc1wiLCB0aGlzLnVwc2VydFVzZXJzKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVwZGF0ZVVzZXJcIiwgdGhpcy51cHNlcnRVc2VyKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl91bmJsb2NrTWVzc2FnZVwiLCB0aGlzLnVuYmxvY2tNZXNzYWdlKTtcblxuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm1hcmtBbGxSZWFkXCIsIHRoaXMubWFya0NoYW5uZWxzUmVhZCk7XG5cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfaXNVc2luZ1NlcnZlckF1dGhcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICEhX3RoaXMuc2VjcmV0O1xuICAgIH0pO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2J1aWxkV1NQYXlsb2FkXCIsIGZ1bmN0aW9uIChjbGllbnRfcmVxdWVzdF9pZCkge1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdXNlcl9pZDogX3RoaXMudXNlcklELFxuICAgICAgICB1c2VyX2RldGFpbHM6IF90aGlzLl91c2VyLFxuICAgICAgICBkZXZpY2U6IF90aGlzLm9wdGlvbnMuZGV2aWNlLFxuICAgICAgICBjbGllbnRfcmVxdWVzdF9pZDogY2xpZW50X3JlcXVlc3RfaWRcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHRoZSBrZXlcbiAgICB0aGlzLmtleSA9IF9rZXk7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLnN0YXRlID0gbmV3IENsaWVudFN0YXRlKCk7IC8vIGEgbGlzdCBvZiBjaGFubmVscyB0byBoaWRlIHdzIGV2ZW50cyBmcm9tXG5cbiAgICB0aGlzLm11dGVkQ2hhbm5lbHMgPSBbXTtcbiAgICB0aGlzLm11dGVkVXNlcnMgPSBbXTsgLy8gc2V0IHRoZSBzZWNyZXRcblxuICAgIGlmIChzZWNyZXRPck9wdGlvbnMgJiYgaXNTdHJpbmcoc2VjcmV0T3JPcHRpb25zKSkge1xuICAgICAgdGhpcy5zZWNyZXQgPSBzZWNyZXRPck9wdGlvbnM7XG4gICAgfSAvLyBzZXQgdGhlIG9wdGlvbnMuLi4gYW5kIGZpZ3VyZSBvdXQgZGVmYXVsdHMuLi5cblxuXG4gICAgdmFyIGlucHV0T3B0aW9ucyA9IF9vcHRpb25zID8gX29wdGlvbnMgOiBzZWNyZXRPck9wdGlvbnMgJiYgIWlzU3RyaW5nKHNlY3JldE9yT3B0aW9ucykgPyBzZWNyZXRPck9wdGlvbnMgOiB7fTtcbiAgICB0aGlzLmJyb3dzZXIgPSB0eXBlb2YgaW5wdXRPcHRpb25zLmJyb3dzZXIgIT09ICd1bmRlZmluZWQnID8gaW5wdXRPcHRpb25zLmJyb3dzZXIgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbiAgICB0aGlzLm5vZGUgPSAhdGhpcy5icm93c2VyO1xuICAgIHRoaXMub3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoe1xuICAgICAgdGltZW91dDogMzAwMCxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAvLyBtYWtpbmcgc3VyZSBjb29raWVzIGFyZSBub3Qgc2VudFxuICAgICAgd2FybVVwOiBmYWxzZSxcbiAgICAgIHJlY292ZXJTdGF0ZU9uUmVjb25uZWN0OiB0cnVlXG4gICAgfSwgaW5wdXRPcHRpb25zKTtcblxuICAgIGlmICh0aGlzLm5vZGUgJiYgIXRoaXMub3B0aW9ucy5odHRwc0FnZW50KSB7XG4gICAgICB0aGlzLm9wdGlvbnMuaHR0cHNBZ2VudCA9IG5ldyBodHRwcy5BZ2VudCh7XG4gICAgICAgIGtlZXBBbGl2ZTogdHJ1ZSxcbiAgICAgICAga2VlcEFsaXZlTXNlY3M6IDMwMDBcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuYXhpb3NJbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh0aGlzLm9wdGlvbnMpO1xuICAgIHRoaXMuc2V0QmFzZVVSTCh0aGlzLm9wdGlvbnMuYmFzZVVSTCB8fCAnaHR0cHM6Ly9jaGF0LnN0cmVhbS1pby1hcGkuY29tJyk7XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52LlNUUkVBTV9MT0NBTF9URVNUX1JVTikge1xuICAgICAgdGhpcy5zZXRCYXNlVVJMKCdodHRwOi8vbG9jYWxob3N0OjMwMzAnKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52LlNUUkVBTV9MT0NBTF9URVNUX0hPU1QpIHtcbiAgICAgIHRoaXMuc2V0QmFzZVVSTCgnaHR0cDovLycgKyBwcm9jZXNzLmVudi5TVFJFQU1fTE9DQUxfVEVTVF9IT1NUKTtcbiAgICB9IC8vIFdTIGNvbm5lY3Rpb24gaXMgaW5pdGlhbGl6ZWQgd2hlbiBzZXRVc2VyIGlzIGNhbGxlZFxuXG5cbiAgICB0aGlzLndzQ29ubmVjdGlvbiA9IG51bGw7XG4gICAgdGhpcy53c1Byb21pc2UgPSBudWxsO1xuICAgIHRoaXMuc2V0VXNlclByb21pc2UgPSBudWxsOyAvLyBrZWVwcyBhIHJlZmVyZW5jZSB0byBhbGwgdGhlIGNoYW5uZWxzIHRoYXQgYXJlIGluIHVzZVxuXG4gICAgdGhpcy5hY3RpdmVDaGFubmVscyA9IHt9OyAvLyBtYXBwaW5nIGJldHdlZW4gY2hhbm5lbCBncm91cHMgYW5kIGNvbmZpZ3NcblxuICAgIHRoaXMuY29uZmlncyA9IHt9O1xuICAgIHRoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgdGhpcy5wZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmUgPSAoX3RoaXMkb3B0aW9ucyA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX3RoaXMkb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkb3B0aW9ucy5wZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmU7IC8vIElmIGl0cyBhIHNlcnZlci1zaWRlIGNsaWVudCwgdGhlbiBsZXRzIGluaXRpYWxpemUgdGhlIHRva2VuTWFuYWdlciwgc2luY2UgdG9rZW4gd2lsbCBiZVxuICAgIC8vIGdlbmVyYXRlZCBmcm9tIHNlY3JldC5cblxuICAgIHRoaXMudG9rZW5NYW5hZ2VyID0gbmV3IFRva2VuTWFuYWdlcih0aGlzLnNlY3JldCk7XG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcbiAgICB0aGlzLmluc2lnaHRNZXRyaWNzID0gbmV3IEluc2lnaHRNZXRyaWNzKCk7XG4gICAgdGhpcy5kZWZhdWx0V1NUaW1lb3V0V2l0aEZhbGxiYWNrID0gNjAwMDtcbiAgICB0aGlzLmRlZmF1bHRXU1RpbWVvdXQgPSAxNTAwMDtcbiAgICB0aGlzLmF4aW9zSW5zdGFuY2UuZGVmYXVsdHMucGFyYW1zU2VyaWFsaXplciA9IGF4aW9zUGFyYW1zU2VyaWFsaXplcjtcbiAgICAvKipcbiAgICAgKiBsb2dnZXIgZnVuY3Rpb24gc2hvdWxkIGFjY2VwdCAzIHBhcmFtZXRlcnM6XG4gICAgICogQHBhcmFtIGxvZ0xldmVsIHN0cmluZ1xuICAgICAqIEBwYXJhbSBtZXNzYWdlICAgc3RyaW5nXG4gICAgICogQHBhcmFtIGV4dHJhRGF0YSBvYmplY3RcbiAgICAgKlxuICAgICAqIGUuZy4sXG4gICAgICogY29uc3QgY2xpZW50ID0gbmV3IFN0cmVhbUNoYXQoJ2FwaV9rZXknLCB7fSwge1xuICAgICAqIFx0XHRsb2dnZXIgPSAobG9nTGV2ZWwsIG1lc3NhZ2UsIGV4dHJhRGF0YSkgPT4ge1xuICAgICAqIFx0XHRcdGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAqIFx0XHR9XG4gICAgICogfSlcbiAgICAgKlxuICAgICAqIGV4dHJhRGF0YSBjb250YWlucyB0YWdzIGFycmF5IGF0dGFjaGVkIHRvIGxvZyBtZXNzYWdlLiBUYWdzIGNhbiBoYXZlIG9uZS9tYW55IG9mIGZvbGxvd2luZyB2YWx1ZXM6XG4gICAgICogMS4gYXBpXG4gICAgICogMi4gYXBpX3JlcXVlc3RcbiAgICAgKiAzLiBhcGlfcmVzcG9uc2VcbiAgICAgKiA0LiBjbGllbnRcbiAgICAgKiA1LiBjaGFubmVsXG4gICAgICogNi4gY29ubmVjdGlvblxuICAgICAqIDcuIGV2ZW50XG4gICAgICpcbiAgICAgKiBJdCBtYXkgYWxzbyBjb250YWlucyBzb21lIGV4dHJhIGRhdGEsIHNvbWUgZXhhbXBsZXMgaGF2ZSBiZWVuIG1lbnRpb25lZCBiZWxvdzpcbiAgICAgKiAxLiB7XG4gICAgICogXHRcdHRhZ3M6IFsnYXBpJywgJ2FwaV9yZXF1ZXN0JywgJ2NsaWVudCddLFxuICAgICAqIFx0XHR1cmw6IHN0cmluZyxcbiAgICAgKiBcdFx0cGF5bG9hZDogb2JqZWN0LFxuICAgICAqIFx0XHRjb25maWc6IG9iamVjdFxuICAgICAqIH1cbiAgICAgKiAyLiB7XG4gICAgICogXHRcdHRhZ3M6IFsnYXBpJywgJ2FwaV9yZXNwb25zZScsICdjbGllbnQnXSxcbiAgICAgKiBcdFx0dXJsOiBzdHJpbmcsXG4gICAgICogXHRcdHJlc3BvbnNlOiBvYmplY3RcbiAgICAgKiB9XG4gICAgICogMy4ge1xuICAgICAqIFx0XHR0YWdzOiBbJ2FwaScsICdhcGlfcmVzcG9uc2UnLCAnY2xpZW50J10sXG4gICAgICogXHRcdHVybDogc3RyaW5nLFxuICAgICAqIFx0XHRlcnJvcjogb2JqZWN0XG4gICAgICogfVxuICAgICAqIDQuIHtcbiAgICAgKiBcdFx0dGFnczogWydldmVudCcsICdjbGllbnQnXSxcbiAgICAgKiBcdFx0ZXZlbnQ6IG9iamVjdFxuICAgICAqIH1cbiAgICAgKiA1LiB7XG4gICAgICogXHRcdHRhZ3M6IFsnY2hhbm5lbCddLFxuICAgICAqIFx0XHRjaGFubmVsOiBvYmplY3RcbiAgICAgKiB9XG4gICAgICovXG5cbiAgICB0aGlzLmxvZ2dlciA9IGlzRnVuY3Rpb24oaW5wdXRPcHRpb25zLmxvZ2dlcikgPyBpbnB1dE9wdGlvbnMubG9nZ2VyIDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICB0aGlzLnJlY292ZXJTdGF0ZU9uUmVjb25uZWN0ID0gdGhpcy5vcHRpb25zLnJlY292ZXJTdGF0ZU9uUmVjb25uZWN0O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBjbGllbnQgaW5zdGFuY2VcbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBhbHdheXMgcmV0dXJucyB0aGUgc2FtZSBDbGllbnQgaW5zdGFuY2UgdG8gYXZvaWQgaXNzdWVzIHJhaXNlZCBieSBtdWx0aXBsZSBDbGllbnQgYW5kIFdTIGNvbm5lY3Rpb25zXG4gICAqXG4gICAqICoqQWZ0ZXIgdGhlIGZpcnN0IGNhbGwsIHRoZSBjbGllbnQgY29uZmlndXJhdGlvbiB3aWxsIG5vdCBjaGFuZ2UgaWYgdGhlIGtleSBvciBvcHRpb25zIHBhcmFtZXRlcnMgY2hhbmdlKipcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIHRoZSBhcGkga2V5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VjcmV0XSAtIHRoZSBhcGkgc2VjcmV0XG4gICAqIEBwYXJhbSB7U3RyZWFtQ2hhdE9wdGlvbnN9IFtvcHRpb25zXSAtIGFkZGl0aW9uYWwgb3B0aW9ucywgaGVyZSB5b3UgY2FuIHBhc3MgY3VzdG9tIG9wdGlvbnMgdG8gYXhpb3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5icm93c2VyXSAtIGVuZm9yY2UgdGhlIGNsaWVudCB0byBiZSBpbiBicm93c2VyIG1vZGVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy53YXJtVXBdIC0gZGVmYXVsdCB0byBmYWxzZSwgaWYgdHJ1ZSwgY2xpZW50IHdpbGwgb3BlbiBhIGNvbm5lY3Rpb24gYXMgc29vbiBhcyBwb3NzaWJsZSB0byBzcGVlZCB1cCBmb2xsb3dpbmcgcmVxdWVzdHNcbiAgICogQHBhcmFtIHtMb2dnZXJ9IFtvcHRpb25zLkxvZ2dlcl0gLSBjdXN0b20gbG9nZ2VyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0XSAtIGRlZmF1bHQgdG8gMzAwMFxuICAgKiBAcGFyYW0ge2h0dHBzQWdlbnR9IFtvcHRpb25zLmh0dHBzQWdlbnRdIC0gY3VzdG9tIGh0dHBzQWdlbnQsIGluIG5vZGUgaXQncyBkZWZhdWx0IHRvIGh0dHBzLmFnZW50KClcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+aW5pdGlhbGl6ZSB0aGUgY2xpZW50IGluIHVzZXIgbW9kZTwvY2FwdGlvbj5cbiAgICogU3RyZWFtQ2hhdC5nZXRJbnN0YW5jZSgnYXBpX2tleScpXG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPmluaXRpYWxpemUgdGhlIGNsaWVudCBpbiB1c2VyIG1vZGUgd2l0aCBvcHRpb25zPC9jYXB0aW9uPlxuICAgKiBTdHJlYW1DaGF0LmdldEluc3RhbmNlKCdhcGlfa2V5JywgeyB0aW1lb3V0OjUwMDAgfSlcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+c2VjcmV0IGlzIG9wdGlvbmFsIGFuZCBvbmx5IHVzZWQgaW4gc2VydmVyIHNpZGUgbW9kZTwvY2FwdGlvbj5cbiAgICogU3RyZWFtQ2hhdC5nZXRJbnN0YW5jZSgnYXBpX2tleScsIFwic2VjcmV0XCIsIHsgaHR0cHNBZ2VudDogY3VzdG9tQWdlbnQgfSlcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU3RyZWFtQ2hhdCwgW3tcbiAgICBrZXk6IFwiZGV2VG9rZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV2VG9rZW4odXNlcklEKSB7XG4gICAgICByZXR1cm4gRGV2VG9rZW4odXNlcklEKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QXV0aFR5cGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXV0aFR5cGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbm9ueW1vdXMgPyAnYW5vbnltb3VzJyA6ICdqd3QnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRCYXNlVVJMXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEJhc2VVUkwoYmFzZVVSTCkge1xuICAgICAgdGhpcy5iYXNlVVJMID0gYmFzZVVSTDtcbiAgICAgIHRoaXMud3NCYXNlVVJMID0gdGhpcy5iYXNlVVJMLnJlcGxhY2UoJ2h0dHAnLCAnd3MnKS5yZXBsYWNlKCc6MzAzMCcsICc6ODgwMCcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2V0VXNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0VXNlcih1c2VyKSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoaXMgb25lIGlzIHVzZWQgYnkgdGhlIGZyb250ZW5kLiBUaGlzIGlzIGEgY29weSBvZiB0aGUgY3VycmVudCB1c2VyIG9iamVjdCBzdG9yZWQgb24gYmFja2VuZC5cbiAgICAgICAqIEl0IGNvbnRhaW5zIHJlc2VydmVkIHByb3BlcnRpZXMgYW5kIG93biB1c2VyIHByb3BlcnRpZXMgd2hpY2ggYXJlIG5vdCBwcmVzZW50IGluIGB0aGlzLl91c2VyYC5cbiAgICAgICAqL1xuICAgICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICAgIHRoaXMudXNlcklEID0gdXNlci5pZDsgLy8gdGhpcyBvbmUgaXMgYWN0dWFsbHkgdXNlZCBmb3IgcmVxdWVzdHMuIFRoaXMgaXMgYSBjb3B5IG9mIGN1cnJlbnQgdXNlciBwcm92aWRlZCB0byBgY29ubmVjdFVzZXJgIGZ1bmN0aW9uLlxuXG4gICAgICB0aGlzLl91c2VyID0gX29iamVjdFNwcmVhZCh7fSwgdXNlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3RzIHRoZSB3ZWJzb2NrZXQgY29ubmVjdGlvbiwgd2l0aG91dCByZW1vdmluZyB0aGUgdXNlciBzZXQgb24gY2xpZW50LlxuICAgICAqIGNsaWVudC5jbG9zZUNvbm5lY3Rpb24gd2lsbCBub3QgdHJpZ2dlciBkZWZhdWx0IGF1dG8tcmV0cnkgbWVjaGFuaXNtIGZvciByZWNvbm5lY3Rpb24uIFlvdSBuZWVkXG4gICAgICogdG8gY2FsbCBjbGllbnQub3BlbkNvbm5lY3Rpb24gdG8gcmVjb25uZWN0IHRvIHdlYnNvY2tldC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBvbiBtb2JpbGUgc2lkZS4gWW91IGNhbiBvbmx5IHJlY2VpdmUgcHVzaCBub3RpZmljYXRpb25zXG4gICAgICogaWYgeW91IGRvbid0IGhhdmUgYWN0aXZlIHdlYnNvY2tldCBjb25uZWN0aW9uLlxuICAgICAqIFNvIHdoZW4geW91ciBhcHAgZ29lcyB0byBiYWNrZ3JvdW5kLCB5b3UgY2FuIGNhbGwgYGNsaWVudC5jbG9zZUNvbm5lY3Rpb25gLlxuICAgICAqIEFuZCB3aGVuIGFwcCBjb21lcyBiYWNrIHRvIGZvcmVncm91bmQsIGNhbGwgYGNsaWVudC5vcGVuQ29ubmVjdGlvbmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGltZW91dCBNYXggbnVtYmVyIG9mIG1zLCB0byB3YWl0IGZvciBjbG9zZSBldmVudCBvZiB3ZWJzb2NrZXQsIGJlZm9yZSBmb3JjZWZ1bGx5IGFzc3VtaW5nIHN1Y2Nlc2Z1bCBkaXNjb25uZWN0aW9uLlxuICAgICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVBcHBTZXR0aW5nc1wiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIHVwZGF0ZUFwcFNldHRpbmdzIC0gdXBkYXRlcyBhcHBsaWNhdGlvbiBzZXR0aW5nc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtBcHBTZXR0aW5nc30gb3B0aW9ucyBBcHAgc2V0dGluZ3MuXG4gICAgICogSUU6IHtcbiAgICAgICAgJ2Fwbl9jb25maWcnOiB7XG4gICAgICAgICAgJ2F1dGhfdHlwZSc6ICd0b2tlbicsXG4gICAgICAgICAgJ2F1dGhfa2V5XCI6IGZzLnJlYWRGaWxlU3luYyhcbiAgICAgICAgICAgICcuL2Fwbi1wdXNoLWF1dGgta2V5LnA4JyxcbiAgICAgICAgICAgICd1dGYtOCcsXG4gICAgICAgICAgKSxcbiAgICAgICAgICAna2V5X2lkJzogJ2tleWlkJyxcbiAgICAgICAgICAndGVhbV9pZCc6ICd0ZWFtaWQnLFxuICAgICAgICAgICdub3RpZmljYXRpb25fdGVtcGxhdGVcIjogJ25vdGlmaWNhdGlvbiBoYW5kbGViYXJzIHRlbXBsYXRlJyxcbiAgICAgICAgICAnYnVuZGxlX2lkJzogJ2NvbS5hcHBsZS55b3VyLmFwcCcsXG4gICAgICAgICAgJ2RldmVsb3BtZW50JzogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICAnZmlyZWJhc2VfY29uZmlnJzoge1xuICAgICAgICAgICdzZXJ2ZXJfa2V5JzogJ3NlcnZlciBrZXkgZnJvbSBmY20nLFxuICAgICAgICAgICdub3RpZmljYXRpb25fdGVtcGxhdGUnOiAnbm90aWZpY2F0aW9uIGhhbmRsZWJhcnMgdGVtcGxhdGUnLFxuICAgICAgICAgICdkYXRhX3RlbXBsYXRlJzogJ2RhdGEgaGFuZGxlYmFycyB0ZW1wbGF0ZScsXG4gICAgICAgICAgJ2Fwbl90ZW1wbGF0ZSc6ICdhcG4gbm90aWZpY2F0aW9uIGhhbmRsZWJhcnMgdGVtcGxhdGUgdW5kZXIgdjInXG4gICAgICAgIH0sXG4gICAgICAgICd3ZWJob29rX3VybCc6ICdodHRwczovL2FjbWUuY29tL215L2F3ZXNvbWUvd2ViaG9vay8nXG4gICAgICB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91cGRhdGVBcHBTZXR0aW5ncyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGFwbl9jb25maWc7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0Nykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGFwbl9jb25maWcgPSBvcHRpb25zLmFwbl9jb25maWc7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXBuX2NvbmZpZyAhPT0gbnVsbCAmJiBhcG5fY29uZmlnICE9PSB2b2lkIDAgJiYgYXBuX2NvbmZpZy5wMTJfY2VydCkge1xuICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICAgIGFwbl9jb25maWc6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYXBuX2NvbmZpZyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgcDEyX2NlcnQ6IEJ1ZmZlci5mcm9tKGFwbl9jb25maWcucDEyX2NlcnQpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGNoKHRoaXMuYmFzZVVSTCArICcvYXBwJywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Ny5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU3LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBkYXRlQXBwU2V0dGluZ3MoX3g4KSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlQXBwU2V0dGluZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZUFwcFNldHRpbmdzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInJldm9rZVRva2Vuc1wiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIFJldm9rZXMgYWxsIHRva2VucyBvbiBhcHBsaWNhdGlvbiBsZXZlbCBpc3N1ZWQgYmVmb3JlIGdpdmVuIHRpbWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jldm9rZVRva2VucyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KGJlZm9yZSkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlQXBwU2V0dGluZ3Moe1xuICAgICAgICAgICAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiB0aGlzLl9ub3JtYWxpemVEYXRlKGJlZm9yZSlcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZXZva2VUb2tlbnMoX3g5KSB7XG4gICAgICAgIHJldHVybiBfcmV2b2tlVG9rZW5zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXZva2VUb2tlbnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogUmV2b2tlcyB0b2tlbiBmb3IgYSB1c2VyIGlzc3VlZCBiZWZvcmUgZ2l2ZW4gdGltZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmV2b2tlVXNlclRva2VuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmV2b2tlVXNlclRva2VuID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkodXNlcklELCBiZWZvcmUpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldm9rZVVzZXJzVG9rZW4oW3VzZXJJRF0sIGJlZm9yZSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0OS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmV2b2tlVXNlclRva2VuKF94MTAsIF94MTEpIHtcbiAgICAgICAgcmV0dXJuIF9yZXZva2VVc2VyVG9rZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldm9rZVVzZXJUb2tlbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBSZXZva2VzIHRva2VucyBmb3IgYSBsaXN0IG9mIHVzZXJzIGlzc3VlZCBiZWZvcmUgZ2l2ZW4gdGltZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmV2b2tlVXNlcnNUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Jldm9rZVVzZXJzVG9rZW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTAodXNlcklEcywgYmVmb3JlKSB7XG4gICAgICAgIHZhciB1c2VycywgX2l0ZXJhdG9yLCBfc3RlcCwgdXNlcklEO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoYmVmb3JlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgIGJlZm9yZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgYmVmb3JlID0gdGhpcy5fbm9ybWFsaXplRGF0ZShiZWZvcmUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHVzZXJzID0gW107XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodXNlcklEcyk7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcklEID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgIGlkOiB1c2VySUQsXG4gICAgICAgICAgICAgICAgICAgICAgc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IGJlZm9yZVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFydGlhbFVwZGF0ZVVzZXJzKHVzZXJzKTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTAuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTEwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmV2b2tlVXNlcnNUb2tlbihfeDEyLCBfeDEzKSB7XG4gICAgICAgIHJldHVybiBfcmV2b2tlVXNlcnNUb2tlbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV2b2tlVXNlcnNUb2tlbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBnZXRBcHBTZXR0aW5ncyAtIHJldHJpZXZlcyBhcHBsaWNhdGlvbiBzZXR0aW5nc1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QXBwU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRBcHBTZXR0aW5ncyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArICcvYXBwJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDExLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxMSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldEFwcFNldHRpbmdzKCkge1xuICAgICAgICByZXR1cm4gX2dldEFwcFNldHRpbmdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRBcHBTZXR0aW5ncztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB0ZXN0UHVzaFNldHRpbmdzIC0gVGVzdHMgdGhlIHB1c2ggc2V0dGluZ3MgZm9yIGEgdXNlciB3aXRoIGEgcmFuZG9tIGNoYXQgbWVzc2FnZSBhbmQgdGhlIGNvbmZpZ3VyZWQgcHVzaCB0ZW1wbGF0ZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySUQgVXNlciBJRC4gSWYgdXNlciBoYXMgbm8gZGV2aWNlcywgaXQgd2lsbCBlcnJvclxuICAgICAqIEBwYXJhbSB7VGVzdFB1c2hEYXRhSW5wdXR9IFtkYXRhXSBPdmVycmlkZXMgZm9yIHB1c2ggdGVtcGxhdGVzL21lc3NhZ2UgdXNlZFxuICAgICAqICBJRToge1xuICAgICAgICAgIG1lc3NhZ2VJRDogJ2lkLW9mLW1lc3NhZ2UnLCAvLyB3aWxsIGVycm9yIGlmIG1lc3NhZ2UgZG9lcyBub3QgZXhpc3RcbiAgICAgICAgICBhcG5UZW1wbGF0ZTogJ3t9JywgLy8gaWYgYXBwIGRvZXNuJ3QgaGF2ZSBhcG4gY29uZmlndXJlZCBpdCB3aWxsIGVycm9yXG4gICAgICAgICAgZmlyZWJhc2VUZW1wbGF0ZTogJ3t9JywgLy8gaWYgYXBwIGRvZXNuJ3QgaGF2ZSBmaXJlYmFzZSBjb25maWd1cmVkIGl0IHdpbGwgZXJyb3JcbiAgICAgICAgICBmaXJlYmFzZURhdGFUZW1wbGF0ZTogJ3t9JywgLy8gaWYgYXBwIGRvZXNuJ3QgaGF2ZSBmaXJlYmFzZSBjb25maWd1cmVkIGl0IHdpbGwgZXJyb3JcbiAgICAgICAgICBza2lwRGV2aWNlczogdHJ1ZSwgLy8gc2tpcCBjb25maWcvZGV2aWNlIGNoZWNrcyBhbmQgc2VuZGluZyB0byByZWFsIGRldmljZXNcbiAgICAgICAgICBwdXNoUHJvdmlkZXJOYW1lOiAnc3RhZ2luZycgLy8gb25lIG9mIHlvdXIgY29uZmlndXJlZCBwdXNoIHByb3ZpZGVyc1xuICAgICAgICAgIHB1c2hQcm92aWRlclR5cGU6ICdhcG4nIC8vIG9uZSBvZiBzdXBwb3J0ZWQgcHJvdmlkZXIgdHlwZXNcbiAgICAgICAgfVxuICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0ZXN0UHVzaFNldHRpbmdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGVzdFB1c2hTZXR0aW5ncyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMih1c2VySUQpIHtcbiAgICAgICAgdmFyIGRhdGEsXG4gICAgICAgICAgICBfYXJnczEyID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9hcmdzMTIubGVuZ3RoID4gMSAmJiBfYXJnczEyWzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczEyWzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvY2hlY2tfcHVzaCcsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklEXG4gICAgICAgICAgICAgICAgfSwgZGF0YS5tZXNzYWdlSUQgPyB7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiBkYXRhLm1lc3NhZ2VJRFxuICAgICAgICAgICAgICAgIH0gOiB7fSksIGRhdGEuYXBuVGVtcGxhdGUgPyB7XG4gICAgICAgICAgICAgICAgICBhcG5fdGVtcGxhdGU6IGRhdGEuYXBuVGVtcGxhdGVcbiAgICAgICAgICAgICAgICB9IDoge30pLCBkYXRhLmZpcmViYXNlVGVtcGxhdGUgPyB7XG4gICAgICAgICAgICAgICAgICBmaXJlYmFzZV90ZW1wbGF0ZTogZGF0YS5maXJlYmFzZVRlbXBsYXRlXG4gICAgICAgICAgICAgICAgfSA6IHt9KSwgZGF0YS5maXJlYmFzZURhdGFUZW1wbGF0ZSA/IHtcbiAgICAgICAgICAgICAgICAgIGZpcmViYXNlX2RhdGFfdGVtcGxhdGU6IGRhdGEuZmlyZWJhc2VEYXRhVGVtcGxhdGVcbiAgICAgICAgICAgICAgICB9IDoge30pLCBkYXRhLnNraXBEZXZpY2VzID8ge1xuICAgICAgICAgICAgICAgICAgc2tpcF9kZXZpY2VzOiB0cnVlXG4gICAgICAgICAgICAgICAgfSA6IHt9KSwgZGF0YS5wdXNoUHJvdmlkZXJOYW1lID8ge1xuICAgICAgICAgICAgICAgICAgcHVzaF9wcm92aWRlcl9uYW1lOiBkYXRhLnB1c2hQcm92aWRlck5hbWVcbiAgICAgICAgICAgICAgICB9IDoge30pLCBkYXRhLnB1c2hQcm92aWRlclR5cGUgPyB7XG4gICAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyX3R5cGU6IGRhdGEucHVzaFByb3ZpZGVyVHlwZVxuICAgICAgICAgICAgICAgIH0gOiB7fSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxMi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB0ZXN0UHVzaFNldHRpbmdzKF94MTQpIHtcbiAgICAgICAgcmV0dXJuIF90ZXN0UHVzaFNldHRpbmdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0ZXN0UHVzaFNldHRpbmdzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHRlc3RTUVNTZXR0aW5ncyAtIFRlc3RzIHRoYXQgdGhlIGdpdmVuIG9yIGNvbmZpZ3VyZWQgU1FTIGNvbmZpZ3VyYXRpb24gaXMgdmFsaWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGVzdFNRU0RhdGFJbnB1dH0gW2RhdGFdIE92ZXJyaWRlcyBTUVMgc2V0dGluZ3MgZm9yIHRlc3RpbmcgaWYgbmVlZGVkXG4gICAgICogIElFOiB7XG4gICAgICAgICAgc3FzX2tleTogJ2F1dGhfa2V5JyxcbiAgICAgICAgICBzcXNfc2VjcmV0OiAnYXV0aF9zZWNyZXQnLFxuICAgICAgICAgIHNxc191cmw6ICd1cmxfdG9fcXVldWUnLFxuICAgICAgICB9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0ZXN0U1FTU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90ZXN0U1FTU2V0dGluZ3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMoKSB7XG4gICAgICAgIHZhciBkYXRhLFxuICAgICAgICAgICAgX2FyZ3MxMyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTMkKF9jb250ZXh0MTMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfYXJnczEzLmxlbmd0aCA+IDAgJiYgX2FyZ3MxM1swXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxM1swXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL2NoZWNrX3NxcycsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxMy5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB0ZXN0U1FTU2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiBfdGVzdFNRU1NldHRpbmdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0ZXN0U1FTU2V0dGluZ3M7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdGVzdFNOU1NldHRpbmdzIC0gVGVzdHMgdGhhdCB0aGUgZ2l2ZW4gb3IgY29uZmlndXJlZCBTTlMgY29uZmlndXJhdGlvbiBpcyB2YWxpZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtUZXN0U05TRGF0YUlucHV0fSBbZGF0YV0gT3ZlcnJpZGVzIFNOUyBzZXR0aW5ncyBmb3IgdGVzdGluZyBpZiBuZWVkZWRcbiAgICAgKiAgSUU6IHtcbiAgICAgICAgICBzbnNfa2V5OiAnYXV0aF9rZXknLFxuICAgICAgICAgIHNuc19zZWNyZXQ6ICdhdXRoX3NlY3JldCcsXG4gICAgICAgICAgc25zX3RvcGljX2FybjogJ3RvcGljX3RvX3B1Ymxpc2hfdG8nLFxuICAgICAgICB9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ0ZXN0U05TU2V0dGluZ3NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90ZXN0U05TU2V0dGluZ3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7XG4gICAgICAgIHZhciBkYXRhLFxuICAgICAgICAgICAgX2FyZ3MxNCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfYXJnczE0Lmxlbmd0aCA+IDAgJiYgX2FyZ3MxNFswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxNFswXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL2NoZWNrX3NucycsIGRhdGEpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxNC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB0ZXN0U05TU2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiBfdGVzdFNOU1NldHRpbmdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0ZXN0U05TU2V0dGluZ3M7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBhbmQgcmVtb3ZlcyB0aGUgdXNlciBmcm9tIGNsaWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aW1lb3V0IE1heCBudW1iZXIgb2YgbXMsIHRvIHdhaXQgZm9yIGNsb3NlIGV2ZW50IG9mIHdlYnNvY2tldCwgYmVmb3JlIGZvcmNlZnVsbHkgYXNzdW1pbmcgc3VjY2Vzc2Z1bCBkaXNjb25uZWN0aW9uLlxuICAgICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRHdWVzdFVzZXJcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBzZXRHdWVzdFVzZXIgLSBTZXR1cCBhIHRlbXBvcmFyeSBndWVzdCB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1VzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSB1c2VyIERhdGEgYWJvdXQgdGhpcyB1c2VyLiBJRSB7bmFtZTogXCJqb2huXCJ9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDb25uZWN0QVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIHNldHVwXG4gICAgICovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZXRHdWVzdFVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUodXNlcikge1xuICAgICAgICB2YXIgcmVzcG9uc2UsIF9yZXNwb25zZSR1c2VyLCBndWVzdFVzZXI7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMuYW5vbnltb3VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE1LnByZXYgPSAxO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL2d1ZXN0Jywge1xuICAgICAgICAgICAgICAgICAgdXNlcjogdXNlclxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTUuc2VudDtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNS5wcmV2ID0gNztcbiAgICAgICAgICAgICAgICBfY29udGV4dDE1LnQwID0gX2NvbnRleHQxNVtcImNhdGNoXCJdKDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhyb3cgX2NvbnRleHQxNS50MDtcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIHRoaXMuYW5vbnltb3VzID0gZmFsc2U7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcblxuICAgICAgICAgICAgICAgIF9yZXNwb25zZSR1c2VyID0gcmVzcG9uc2UudXNlciwgX3Jlc3BvbnNlJHVzZXIuY3JlYXRlZF9hdCwgX3Jlc3BvbnNlJHVzZXIudXBkYXRlZF9hdCwgX3Jlc3BvbnNlJHVzZXIubGFzdF9hY3RpdmUsIF9yZXNwb25zZSR1c2VyLm9ubGluZSwgZ3Vlc3RVc2VyID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZXNwb25zZSR1c2VyLCBfZXhjbHVkZWQpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDE1O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3RVc2VyKGd1ZXN0VXNlciwgcmVzcG9uc2UuYWNjZXNzX3Rva2VuKTtcblxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTUsIHRoaXMsIFtbMSwgN11dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2V0R3Vlc3RVc2VyKF94MTUpIHtcbiAgICAgICAgcmV0dXJuIF9zZXRHdWVzdFVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldEd1ZXN0VXNlcjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBjcmVhdGVUb2tlbiAtIENyZWF0ZXMgYSB0b2tlbiB0byBhdXRoZW50aWNhdGUgdGhpcyB1c2VyLiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgc2VydmVyIHNpZGUuXG4gICAgICogVGhlIHJlc3VsdGluZyB0b2tlbiBzaG91bGQgYmUgcGFzc2VkIHRvIHRoZSBjbGllbnQgc2lkZSB3aGVuIHRoZSB1c2VycyByZWdpc3RlcnMgb3IgbG9ncyBpbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySUQgVGhlIFVzZXIgSURcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2V4cF0gVGhlIGV4cGlyYXRpb24gdGltZSBmb3IgdGhlIHRva2VuIGV4cHJlc3NlZCBpbiB0aGUgbnVtYmVyIG9mIHNlY29uZHMgc2luY2UgdGhlIGVwb2NoXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJldHVybnMgYSB0b2tlblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlVG9rZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVG9rZW4odXNlcklELCBleHAsIGlhdCkge1xuICAgICAgaWYgKHRoaXMuc2VjcmV0ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJ0b2tlbnMgY2FuIG9ubHkgYmUgY3JlYXRlZCBzZXJ2ZXItc2lkZSB1c2luZyB0aGUgQVBJIFNlY3JldFwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGV4dHJhID0ge307XG5cbiAgICAgIGlmIChleHApIHtcbiAgICAgICAgZXh0cmEuZXhwID0gZXhwO1xuICAgICAgfVxuXG4gICAgICBpZiAoaWF0KSB7XG4gICAgICAgIGV4dHJhLmlhdCA9IGlhdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIEpXVFVzZXJUb2tlbih0aGlzLnNlY3JldCwgdXNlcklELCBleHRyYSwge30pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBvbiAtIExpc3RlbiB0byBldmVudHMgb24gYWxsIGNoYW5uZWxzIGFuZCB1c2VycyB5b3VyIHdhdGNoaW5nXG4gICAgICpcbiAgICAgKiBjbGllbnQub24oJ21lc3NhZ2UubmV3JywgZXZlbnQgPT4ge2NvbnNvbGUubG9nKFwibXkgbmV3IG1lc3NhZ2VcIiwgZXZlbnQsIGNoYW5uZWwuc3RhdGUubWVzc2FnZXMpfSlcbiAgICAgKiBvclxuICAgICAqIGNsaWVudC5vbihldmVudCA9PiB7Y29uc29sZS5sb2coZXZlbnQudHlwZSl9KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudEhhbmRsZXI8U3RyZWFtQ2hhdEdlbmVyaWNzPiB8IHN0cmluZ30gY2FsbGJhY2tPclN0cmluZyAgVGhlIGV2ZW50IHR5cGUgdG8gbGlzdGVuIGZvciAob3B0aW9uYWwpXG4gICAgICogQHBhcmFtIHtFdmVudEhhbmRsZXI8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW2NhbGxiYWNrT3JOb3RoaW5nXSBUaGUgY2FsbGJhY2sgdG8gY2FsbFxuICAgICAqXG4gICAgICogQHJldHVybiB7eyB1bnN1YnNjcmliZTogKCkgPT4gdm9pZCB9fSBEZXNjcmlwdGlvblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb24oY2FsbGJhY2tPclN0cmluZywgY2FsbGJhY2tPck5vdGhpbmcpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIga2V5ID0gY2FsbGJhY2tPck5vdGhpbmcgPyBjYWxsYmFja09yU3RyaW5nIDogJ2FsbCc7XG4gICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja09yTm90aGluZyA/IGNhbGxiYWNrT3JOb3RoaW5nIDogY2FsbGJhY2tPclN0cmluZztcblxuICAgICAgaWYgKCEoa2V5IGluIHRoaXMubGlzdGVuZXJzKSkge1xuICAgICAgICB0aGlzLmxpc3RlbmVyc1trZXldID0gW107XG4gICAgICB9XG5cbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgXCJBdHRhY2hpbmcgbGlzdGVuZXIgZm9yIFwiLmNvbmNhdChrZXksIFwiIGV2ZW50XCIpLCB7XG4gICAgICAgIHRhZ3M6IFsnZXZlbnQnLCAnY2xpZW50J11cbiAgICAgIH0pO1xuICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgICAgICBfdGhpczIubG9nZ2VyKCdpbmZvJywgXCJSZW1vdmluZyBsaXN0ZW5lciBmb3IgXCIuY29uY2F0KGtleSwgXCIgZXZlbnRcIiksIHtcbiAgICAgICAgICAgIHRhZ3M6IFsnZXZlbnQnLCAnY2xpZW50J11cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzMi5saXN0ZW5lcnNba2V5XSA9IF90aGlzMi5saXN0ZW5lcnNba2V5XS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gZWwgIT09IGNhbGxiYWNrO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBvZmYgLSBSZW1vdmUgdGhlIGV2ZW50IGhhbmRsZXJcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwib2ZmXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZihjYWxsYmFja09yU3RyaW5nLCBjYWxsYmFja09yTm90aGluZykge1xuICAgICAgdmFyIGtleSA9IGNhbGxiYWNrT3JOb3RoaW5nID8gY2FsbGJhY2tPclN0cmluZyA6ICdhbGwnO1xuICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tPck5vdGhpbmcgPyBjYWxsYmFja09yTm90aGluZyA6IGNhbGxiYWNrT3JTdHJpbmc7XG5cbiAgICAgIGlmICghKGtleSBpbiB0aGlzLmxpc3RlbmVycykpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XSA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIFwiUmVtb3ZpbmcgbGlzdGVuZXIgZm9yIFwiLmNvbmNhdChrZXksIFwiIGV2ZW50XCIpLCB7XG4gICAgICAgIHRhZ3M6IFsnZXZlbnQnLCAnY2xpZW50J11cbiAgICAgIH0pO1xuICAgICAgdGhpcy5saXN0ZW5lcnNba2V5XSA9IHRoaXMubGlzdGVuZXJzW2tleV0uZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IGNhbGxiYWNrO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9sb2dBcGlSZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2dBcGlSZXF1ZXN0KHR5cGUsIHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIFwiY2xpZW50OiBcIi5jb25jYXQodHlwZSwgXCIgLSBSZXF1ZXN0IC0gXCIpLmNvbmNhdCh1cmwpLCB7XG4gICAgICAgIHRhZ3M6IFsnYXBpJywgJ2FwaV9yZXF1ZXN0JywgJ2NsaWVudCddLFxuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgcGF5bG9hZDogZGF0YSxcbiAgICAgICAgY29uZmlnOiBjb25maWdcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfbG9nQXBpUmVzcG9uc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2xvZ0FwaVJlc3BvbnNlKHR5cGUsIHVybCwgcmVzcG9uc2UpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgXCJjbGllbnQ6XCIuY29uY2F0KHR5cGUsIFwiIC0gUmVzcG9uc2UgLSB1cmw6IFwiKS5jb25jYXQodXJsLCBcIiA+IHN0YXR1cyBcIikuY29uY2F0KHJlc3BvbnNlLnN0YXR1cyksIHtcbiAgICAgICAgdGFnczogWydhcGknLCAnYXBpX3Jlc3BvbnNlJywgJ2NsaWVudCddLFxuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2xvZ0FwaUVycm9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2dBcGlFcnJvcih0eXBlLCB1cmwsIGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBcImNsaWVudDpcIi5jb25jYXQodHlwZSwgXCIgLSBFcnJvciAtIHVybDogXCIpLmNvbmNhdCh1cmwpLCB7XG4gICAgICAgIHRhZ3M6IFsnYXBpJywgJ2FwaV9yZXNwb25zZScsICdjbGllbnQnXSxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQodXJsLCBwYXJhbXMpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0KCdnZXQnLCB1cmwsIG51bGwsIHtcbiAgICAgICAgcGFyYW1zOiBwYXJhbXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJwdXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHV0KHVybCwgZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3QoJ3B1dCcsIHVybCwgZGF0YSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInBvc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcG9zdCh1cmwsIGRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0KCdwb3N0JywgdXJsLCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicGF0Y2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGF0Y2godXJsLCBkYXRhKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdCgncGF0Y2gnLCB1cmwsIGRhdGEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZSh1cmwsIHBhcmFtcykge1xuICAgICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3QoJ2RlbGV0ZScsIHVybCwgbnVsbCwge1xuICAgICAgICBwYXJhbXM6IHBhcmFtc1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNlbmRGaWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRGaWxlKHVybCwgdXJpLCBuYW1lLCBjb250ZW50VHlwZSwgdXNlcikge1xuICAgICAgdmFyIGRhdGEgPSBhZGRGaWxlVG9Gb3JtRGF0YSh1cmksIG5hbWUsIGNvbnRlbnRUeXBlIHx8ICdtdWx0aXBhcnQvZm9ybS1kYXRhJyk7XG4gICAgICBpZiAodXNlciAhPSBudWxsKSBkYXRhLmFwcGVuZCgndXNlcicsIEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcbiAgICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0KCdwb3N0Rm9ybScsIHVybCwgZGF0YSwge1xuICAgICAgICBoZWFkZXJzOiBkYXRhLmdldEhlYWRlcnMgPyBkYXRhLmdldEhlYWRlcnMoKSA6IHt9LFxuICAgICAgICAvLyBub2RlIHZzIGJyb3dzZXJcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgdGltZW91dDogMCxcbiAgICAgICAgICBtYXhDb250ZW50TGVuZ3RoOiBJbmZpbml0eSxcbiAgICAgICAgICBtYXhCb2R5TGVuZ3RoOiBJbmZpbml0eVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXJyb3JGcm9tUmVzcG9uc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXJyb3JGcm9tUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICAgIHZhciBlcnI7XG4gICAgICBlcnIgPSBuZXcgRXJyb3JGcm9tUmVzcG9uc2UoXCJTdHJlYW1DaGF0IGVycm9yIEhUVFAgY29kZTogXCIuY29uY2F0KHJlc3BvbnNlLnN0YXR1cykpO1xuXG4gICAgICBpZiAocmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmNvZGUpIHtcbiAgICAgICAgZXJyID0gbmV3IEVycm9yKFwiU3RyZWFtQ2hhdCBlcnJvciBjb2RlIFwiLmNvbmNhdChyZXNwb25zZS5kYXRhLmNvZGUsIFwiOiBcIikuY29uY2F0KHJlc3BvbnNlLmRhdGEubWVzc2FnZSkpO1xuICAgICAgICBlcnIuY29kZSA9IHJlc3BvbnNlLmRhdGEuY29kZTtcbiAgICAgIH1cblxuICAgICAgZXJyLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICBlcnIuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFuZGxlUmVzcG9uc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTtcblxuICAgICAgaWYgKGlzRXJyb3JSZXNwb25zZShyZXNwb25zZSkpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5lcnJvckZyb21SZXNwb25zZShyZXNwb25zZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfaGFuZGxlQ2xpZW50RXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUNsaWVudEV2ZW50KGV2ZW50KSB7XG4gICAgICB2YXIgX2V2ZW50JG1lLFxuICAgICAgICAgIF9ldmVudCRtZTIsXG4gICAgICAgICAgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIGNsaWVudCA9IHRoaXM7XG4gICAgICB2YXIgcG9zdExpc3RlbmVyQ2FsbGJhY2tzID0gW107XG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIFwiY2xpZW50Ol9oYW5kbGVDbGllbnRFdmVudCAtIFJlY2VpdmVkIGV2ZW50IG9mIHR5cGUgeyBcIi5jb25jYXQoZXZlbnQudHlwZSwgXCIgfVwiKSwge1xuICAgICAgICB0YWdzOiBbJ2V2ZW50JywgJ2NsaWVudCddLFxuICAgICAgICBldmVudDogZXZlbnRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ3VzZXIucHJlc2VuY2UuY2hhbmdlZCcgfHwgZXZlbnQudHlwZSA9PT0gJ3VzZXIudXBkYXRlZCcgfHwgZXZlbnQudHlwZSA9PT0gJ3VzZXIuZGVsZXRlZCcpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlVXNlckV2ZW50KGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdoZWFsdGguY2hlY2snICYmIGV2ZW50Lm1lKSB7XG4gICAgICAgIGNsaWVudC51c2VyID0gZXZlbnQubWU7XG4gICAgICAgIGNsaWVudC5zdGF0ZS51cGRhdGVVc2VyKGV2ZW50Lm1lKTtcbiAgICAgICAgY2xpZW50Lm11dGVkQ2hhbm5lbHMgPSBldmVudC5tZS5jaGFubmVsX211dGVzO1xuICAgICAgICBjbGllbnQubXV0ZWRVc2VycyA9IGV2ZW50Lm1lLm11dGVzO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQuY2hhbm5lbCAmJiBldmVudC50eXBlID09PSAnbm90aWZpY2F0aW9uLm1lc3NhZ2VfbmV3Jykge1xuICAgICAgICB0aGlzLl9hZGRDaGFubmVsQ29uZmlnKGV2ZW50LmNoYW5uZWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ25vdGlmaWNhdGlvbi5jaGFubmVsX211dGVzX3VwZGF0ZWQnICYmIChfZXZlbnQkbWUgPSBldmVudC5tZSkgIT09IG51bGwgJiYgX2V2ZW50JG1lICE9PSB2b2lkIDAgJiYgX2V2ZW50JG1lLmNoYW5uZWxfbXV0ZXMpIHtcbiAgICAgICAgdGhpcy5tdXRlZENoYW5uZWxzID0gZXZlbnQubWUuY2hhbm5lbF9tdXRlcztcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdub3RpZmljYXRpb24ubXV0ZXNfdXBkYXRlZCcgJiYgKF9ldmVudCRtZTIgPSBldmVudC5tZSkgIT09IG51bGwgJiYgX2V2ZW50JG1lMiAhPT0gdm9pZCAwICYmIF9ldmVudCRtZTIubXV0ZXMpIHtcbiAgICAgICAgdGhpcy5tdXRlZFVzZXJzID0gZXZlbnQubWUubXV0ZXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC50eXBlID09PSAnbm90aWZpY2F0aW9uLm1hcmtfcmVhZCcgJiYgZXZlbnQudW5yZWFkX2NoYW5uZWxzID09PSAwKSB7XG4gICAgICAgIHZhciBhY3RpdmVDaGFubmVsS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuYWN0aXZlQ2hhbm5lbHMpO1xuICAgICAgICBhY3RpdmVDaGFubmVsS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChhY3RpdmVDaGFubmVsS2V5KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMy5hY3RpdmVDaGFubmVsc1thY3RpdmVDaGFubmVsS2V5XS5zdGF0ZS51bnJlYWRDb3VudCA9IDA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoKGV2ZW50LnR5cGUgPT09ICdjaGFubmVsLmRlbGV0ZWQnIHx8IGV2ZW50LnR5cGUgPT09ICdub3RpZmljYXRpb24uY2hhbm5lbF9kZWxldGVkJykgJiYgZXZlbnQuY2lkKSB7XG4gICAgICAgIHZhciBfdGhpcyRhY3RpdmVDaGFubmVscyQ7XG5cbiAgICAgICAgY2xpZW50LnN0YXRlLmRlbGV0ZUFsbENoYW5uZWxSZWZlcmVuY2UoZXZlbnQuY2lkKTtcbiAgICAgICAgKF90aGlzJGFjdGl2ZUNoYW5uZWxzJCA9IHRoaXMuYWN0aXZlQ2hhbm5lbHNbZXZlbnQuY2lkXSkgPT09IG51bGwgfHwgX3RoaXMkYWN0aXZlQ2hhbm5lbHMkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRhY3RpdmVDaGFubmVscyQuX2Rpc2Nvbm5lY3QoKTtcbiAgICAgICAgcG9zdExpc3RlbmVyQ2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghZXZlbnQuY2lkKSByZXR1cm47XG4gICAgICAgICAgZGVsZXRlIF90aGlzMy5hY3RpdmVDaGFubmVsc1tldmVudC5jaWRdO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBvc3RMaXN0ZW5lckNhbGxiYWNrcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX211dGVTdGF0dXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX211dGVTdGF0dXMoY2lkKSB7XG4gICAgICB2YXIgbXV0ZVN0YXR1cztcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm11dGVkQ2hhbm5lbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIF9tdXRlJGNoYW5uZWw7XG5cbiAgICAgICAgdmFyIG11dGUgPSB0aGlzLm11dGVkQ2hhbm5lbHNbaV07XG5cbiAgICAgICAgaWYgKCgoX211dGUkY2hhbm5lbCA9IG11dGUuY2hhbm5lbCkgPT09IG51bGwgfHwgX211dGUkY2hhbm5lbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX211dGUkY2hhbm5lbC5jaWQpID09PSBjaWQpIHtcbiAgICAgICAgICBtdXRlU3RhdHVzID0ge1xuICAgICAgICAgICAgbXV0ZWQ6IG11dGUuZXhwaXJlcyA/IG5ldyBEYXRlKG11dGUuZXhwaXJlcykuZ2V0VGltZSgpID4gbmV3IERhdGUoKS5nZXRUaW1lKCkgOiB0cnVlLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBtdXRlLmNyZWF0ZWRfYXQgPyBuZXcgRGF0ZShtdXRlLmNyZWF0ZWRfYXQpIDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIGV4cGlyZXNBdDogbXV0ZS5leHBpcmVzID8gbmV3IERhdGUobXV0ZS5leHBpcmVzKSA6IG51bGxcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtdXRlU3RhdHVzKSB7XG4gICAgICAgIHJldHVybiBtdXRlU3RhdHVzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBtdXRlZDogZmFsc2UsXG4gICAgICAgIGNyZWF0ZWRBdDogbnVsbCxcbiAgICAgICAgZXhwaXJlc0F0OiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjb25uZWN0XCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2Nvbm5lY3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTYoKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE2JChfY29udGV4dDE2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBpZiAoISghdGhpcy51c2VySUQgfHwgIXRoaXMuX3VzZXIpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0NhbGwgY29ubmVjdFVzZXIgb3IgY29ubmVjdEFub255bW91c1VzZXIgYmVmb3JlIHN0YXJ0aW5nIHRoZSBjb25uZWN0aW9uJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzQmFzZVVSTCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdXZWJzb2NrZXQgYmFzZSB1cmwgbm90IHNldCcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGllbnRJRCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdjbGllbnRJRCBpcyBub3Qgc2V0Jyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy53c0Nvbm5lY3Rpb24gJiYgKHRoaXMub3B0aW9ucy53YXJtVXAgfHwgdGhpcy5vcHRpb25zLmVuYWJsZUluc2lnaHRzKSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5fc2F5SGkoKTtcbiAgICAgICAgICAgICAgICB9IC8vIFRoZSBTdGFibGVXU0Nvbm5lY3Rpb24gaGFuZGxlcyBhbGwgdGhlIHJlY29ubmVjdGlvbiBsb2dpYy5cblxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy53c0Nvbm5lY3Rpb24gJiYgdGhpcy5ub2RlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBJbnRlbnRpb25hbGx5IGF2b2lkaW5nIGFkZGluZyB0cyBnZW5lcmljcyBvbiB3c0Nvbm5lY3Rpb24gaW4gb3B0aW9ucyBzaW5jZSBpdHMgb25seSB1c2VmdWwgZm9yIHVuaXQgdGVzdCBwdXJwb3NlLlxuICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLndzQ29ubmVjdGlvbi5zZXRDbGllbnQodGhpcyk7XG4gICAgICAgICAgICAgICAgICB0aGlzLndzQ29ubmVjdGlvbiA9IHRoaXMub3B0aW9ucy53c0Nvbm5lY3Rpb247XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMud3NDb25uZWN0aW9uID0gbmV3IFN0YWJsZVdTQ29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudDogdGhpc1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNi5wcmV2ID0gODtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy53c0ZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxMztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndzRmFsbGJhY2suY29ubmVjdCgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTYuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53c0Nvbm5lY3Rpb24uY29ubmVjdCh0aGlzLm9wdGlvbnMuZW5hYmxlV1NGYWxsYmFjayA/IHRoaXMuZGVmYXVsdFdTVGltZW91dFdpdGhGYWxsYmFjayA6IHRoaXMuZGVmYXVsdFdTVGltZW91dCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQxNi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTYucHJldiA9IDE4O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTYudDAgPSBfY29udGV4dDE2W1wiY2F0Y2hcIl0oOCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLm9wdGlvbnMuZW5hYmxlV1NGYWxsYmFjayAmJiBpc1dTRmFpbHVyZShfY29udGV4dDE2LnQwKSAmJiBpc09ubGluZSgpKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMjk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignaW5mbycsICdjbGllbnQ6Y29ubmVjdCgpIC0gV1MgZmFpbGVkLCBmYWxsYmFjayB0byBsb25ncG9sbCcsIHtcbiAgICAgICAgICAgICAgICAgIHRhZ3M6IFsnY29ubmVjdGlvbicsICdjbGllbnQnXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiAndHJhbnNwb3J0LmNoYW5nZWQnLFxuICAgICAgICAgICAgICAgICAgbW9kZTogJ2xvbmdwb2xsJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy53c0Nvbm5lY3Rpb24uX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLndzQ29ubmVjdGlvbi5kaXNjb25uZWN0KCkudGhlbigpOyAvLyBjbG9zZSBXUyBzbyBubyByZXRyeVxuXG4gICAgICAgICAgICAgICAgdGhpcy53c0ZhbGxiYWNrID0gbmV3IFdTQ29ubmVjdGlvbkZhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgIGNsaWVudDogdGhpc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDI4O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndzRmFsbGJhY2suY29ubmVjdCgpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjg6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTYuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDE2LnQwO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzA6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMTYsIHRoaXMsIFtbOCwgMThdXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBfY29ubmVjdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29ubmVjdDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgY29ubmVjdGl2aXR5IHdpdGggc2VydmVyIGZvciB3YXJtdXAgcHVycG9zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfc2F5SGlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NheUhpKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBjbGllbnRfcmVxdWVzdF9pZCA9IHJhbmRvbUlkKCk7XG4gICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICd4LWNsaWVudC1yZXF1ZXN0LWlkJzogY2xpZW50X3JlcXVlc3RfaWRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRoaXMuZG9BeGlvc1JlcXVlc3QoJ2dldCcsIHRoaXMuYmFzZVVSTCArICcvaGknLCBudWxsLCBvcHRzKS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoX3RoaXM0Lm9wdGlvbnMuZW5hYmxlSW5zaWdodHMpIHtcbiAgICAgICAgICBwb3N0SW5zaWdodHMoJ2h0dHBfaGlfZmFpbGVkJywge1xuICAgICAgICAgICAgYXBpX2tleTogX3RoaXM0LmtleSxcbiAgICAgICAgICAgIGVycjogZSxcbiAgICAgICAgICAgIGNsaWVudF9yZXF1ZXN0X2lkOiBjbGllbnRfcmVxdWVzdF9pZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogcXVlcnlVc2VycyAtIFF1ZXJ5IHVzZXJzIGFuZCB3YXRjaCB1c2VyIHByZXNlbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1VzZXJGaWx0ZXJzPFN0cmVhbUNoYXRHZW5lcmljcz59IGZpbHRlckNvbmRpdGlvbnMgTW9uZ29EQiBzdHlsZSBmaWx0ZXIgY29uZGl0aW9uc1xuICAgICAqIEBwYXJhbSB7VXNlclNvcnQ8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gc29ydCBTb3J0IG9wdGlvbnMsIGZvciBpbnN0YW5jZSBbe2xhc3RfYWN0aXZlOiAtMX1dLlxuICAgICAqIFdoZW4gdXNpbmcgbXVsdGlwbGUgZmllbGRzLCBtYWtlIHN1cmUgeW91IHVzZSBhcnJheSBvZiBvYmplY3RzIHRvIGd1YXJhbnRlZSBmaWVsZCBvcmRlciwgZm9yIGluc3RhbmNlIFt7bGFzdF9hY3RpdmU6IC0xfSwge2NyZWF0ZWRfYXQ6IDF9XVxuICAgICAqIEBwYXJhbSB7VXNlck9wdGlvbnN9IG9wdGlvbnMgT3B0aW9uIG9iamVjdCwge3ByZXNlbmNlOiB0cnVlfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx7IHVzZXJzOiBBcnJheTxVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj4gfT59IFVzZXIgUXVlcnkgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5VXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeVVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KGZpbHRlckNvbmRpdGlvbnMpIHtcbiAgICAgICAgdmFyIHNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgX2FyZ3MxNyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHNvcnQgPSBfYXJnczE3Lmxlbmd0aCA+IDEgJiYgX2FyZ3MxN1sxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxN1sxXSA6IFtdO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczE3Lmxlbmd0aCA+IDIgJiYgX2FyZ3MxN1syXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxN1syXSA6IHt9O1xuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgcHJlc2VuY2U6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTsgLy8gTWFrZSBzdXJlIHdlIHdhaXQgZm9yIHRoZSBjb25uZWN0IHByb21pc2UgaWYgdGhlcmUgaXMgYSBwZW5kaW5nIG9uZVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53c1Byb21pc2U7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faGFzQ29ubmVjdGlvbklEKCkpIHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zLnByZXNlbmNlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSAvLyBSZXR1cm4gYSBsaXN0IG9mIHVzZXJzXG5cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArICcvdXNlcnMnLCB7XG4gICAgICAgICAgICAgICAgICBwYXlsb2FkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyQ29uZGl0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgc29ydDogbm9ybWFsaXplUXVlcnlTb3J0KHNvcnQpXG4gICAgICAgICAgICAgICAgICB9LCBkZWZhdWx0T3B0aW9ucyksIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDE3LnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS51cGRhdGVVc2VycyhkYXRhLnVzZXJzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5hYnJ1cHQoXCJyZXR1cm5cIiwgZGF0YSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5VXNlcnMoX3gxNikge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5VXNlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5VXNlcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcXVlcnlCYW5uZWRVc2VycyAtIFF1ZXJ5IHVzZXIgYmFuc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtCYW5uZWRVc2Vyc0ZpbHRlcnN9IGZpbHRlckNvbmRpdGlvbnMgTW9uZ29EQiBzdHlsZSBmaWx0ZXIgY29uZGl0aW9uc1xuICAgICAqIEBwYXJhbSB7QmFubmVkVXNlcnNTb3J0fSBzb3J0IFNvcnQgb3B0aW9ucyBbe2NyZWF0ZWRfYXQ6IDF9XS5cbiAgICAgKiBAcGFyYW0ge0Jhbm5lZFVzZXJzUGFnaW5hdGlvbk9wdGlvbnN9IG9wdGlvbnMgT3B0aW9uIG9iamVjdCwge2xpbWl0OiAxMCwgb2Zmc2V0OjAsIGV4Y2x1ZGVfZXhwaXJlZF9iYW5zOiB0cnVlfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxCYW5uZWRVc2Vyc1Jlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBCYW4gUXVlcnkgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5QmFubmVkVXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeUJhbm5lZFVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KCkge1xuICAgICAgICB2YXIgZmlsdGVyQ29uZGl0aW9ucyxcbiAgICAgICAgICAgIHNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3MxOCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGZpbHRlckNvbmRpdGlvbnMgPSBfYXJnczE4Lmxlbmd0aCA+IDAgJiYgX2FyZ3MxOFswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxOFswXSA6IHt9O1xuICAgICAgICAgICAgICAgIHNvcnQgPSBfYXJnczE4Lmxlbmd0aCA+IDEgJiYgX2FyZ3MxOFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxOFsxXSA6IFtdO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczE4Lmxlbmd0aCA+IDIgJiYgX2FyZ3MxOFsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MxOFsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArICcvcXVlcnlfYmFubmVkX3VzZXJzJywge1xuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiBmaWx0ZXJDb25kaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICBzb3J0OiBub3JtYWxpemVRdWVyeVNvcnQoc29ydClcbiAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDE4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUxOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5QmFubmVkVXNlcnMoKSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlCYW5uZWRVc2Vycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcXVlcnlCYW5uZWRVc2VycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBxdWVyeU1lc3NhZ2VGbGFncyAtIFF1ZXJ5IG1lc3NhZ2UgZmxhZ3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TWVzc2FnZUZsYWdzRmlsdGVyc30gZmlsdGVyQ29uZGl0aW9ucyBNb25nb0RCIHN0eWxlIGZpbHRlciBjb25kaXRpb25zXG4gICAgICogQHBhcmFtIHtNZXNzYWdlRmxhZ3NQYWdpbmF0aW9uT3B0aW9uc30gb3B0aW9ucyBPcHRpb24gb2JqZWN0LCB7bGltaXQ6IDEwLCBvZmZzZXQ6MH1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8TWVzc2FnZUZsYWdzUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IE1lc3NhZ2UgRmxhZ3MgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5TWVzc2FnZUZsYWdzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlNZXNzYWdlRmxhZ3MgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkoKSB7XG4gICAgICAgIHZhciBmaWx0ZXJDb25kaXRpb25zLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzMTkgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBmaWx0ZXJDb25kaXRpb25zID0gX2FyZ3MxOS5sZW5ndGggPiAwICYmIF9hcmdzMTlbMF0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTlbMF0gOiB7fTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MxOS5sZW5ndGggPiAxICYmIF9hcmdzMTlbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMTlbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vZmxhZ3MvbWVzc2FnZScsIHtcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogZmlsdGVyQ29uZGl0aW9uc1xuICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MTkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTE5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnlNZXNzYWdlRmxhZ3MoKSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlNZXNzYWdlRmxhZ3MuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5TWVzc2FnZUZsYWdzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHF1ZXJ5Q2hhbm5lbHMgLSBRdWVyeSBjaGFubmVsc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtDaGFubmVsRmlsdGVyczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBmaWx0ZXJDb25kaXRpb25zIG9iamVjdCBNb25nb0RCIHN0eWxlIGZpbHRlcnNcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxTb3J0PFN0cmVhbUNoYXRHZW5lcmljcz59IFtzb3J0XSBTb3J0IG9wdGlvbnMsIGZvciBpbnN0YW5jZSB7Y3JlYXRlZF9hdDogLTF9LlxuICAgICAqIFdoZW4gdXNpbmcgbXVsdGlwbGUgZmllbGRzLCBtYWtlIHN1cmUgeW91IHVzZSBhcnJheSBvZiBvYmplY3RzIHRvIGd1YXJhbnRlZSBmaWVsZCBvcmRlciwgZm9yIGluc3RhbmNlIFt7bGFzdF91cGRhdGVkOiAtMX0sIHtjcmVhdGVkX2F0OiAxfV1cbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxTdGF0ZU9wdGlvbnN9IFtzdGF0ZU9wdGlvbnNdIFN0YXRlIG9wdGlvbnMgb2JqZWN0LiBUaGVzZSBvcHRpb25zIHdpbGwgb25seSBiZSB1c2VkIGZvciBzdGF0ZSBtYW5hZ2VtZW50IGFuZCB3b24ndCBiZSBzZW50IGluIHRoZSByZXF1ZXN0LlxuICAgICAqIC0gc3RhdGVPcHRpb25zLnNraXBJbml0aWFsaXphdGlvbiAtIFNraXBzIHRoZSBpbml0aWFsaXphdGlvbiBvZiB0aGUgc3RhdGUgZm9yIHRoZSBjaGFubmVscyBtYXRjaGluZyB0aGUgaWRzIGluIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx7IGNoYW5uZWxzOiBBcnJheTxDaGFubmVsQVBJUmVzcG9uc2U8QVN0cmVhbUNoYXRHZW5lcmljcz4+fT4gfSBzZWFyY2ggY2hhbm5lbHMgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5Q2hhbm5lbHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeUNoYW5uZWxzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIwKGZpbHRlckNvbmRpdGlvbnMpIHtcbiAgICAgICAgdmFyIHNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgc3RhdGVPcHRpb25zLFxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIF9hcmdzMjAgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzb3J0ID0gX2FyZ3MyMC5sZW5ndGggPiAxICYmIF9hcmdzMjBbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMjBbMV0gOiBbXTtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3MyMC5sZW5ndGggPiAyICYmIF9hcmdzMjBbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzMjBbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBzdGF0ZU9wdGlvbnMgPSBfYXJnczIwLmxlbmd0aCA+IDMgJiYgX2FyZ3MyMFszXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3MyMFszXSA6IHt9O1xuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgc3RhdGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICB3YXRjaDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIHByZXNlbmNlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07IC8vIE1ha2Ugc3VyZSB3ZSB3YWl0IGZvciB0aGUgY29ubmVjdCBwcm9taXNlIGlmIHRoZXJlIGlzIGEgcGVuZGluZyBvbmVcblxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDY7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3NQcm9taXNlO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucy53YXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gLy8gUmV0dXJuIGEgbGlzdCBvZiBjaGFubmVsc1xuXG5cbiAgICAgICAgICAgICAgICBwYXlsb2FkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiBmaWx0ZXJDb25kaXRpb25zLFxuICAgICAgICAgICAgICAgICAgc29ydDogbm9ybWFsaXplUXVlcnlTb3J0KHNvcnQpXG4gICAgICAgICAgICAgICAgfSwgZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvY2hhbm5lbHMnLCBwYXlsb2FkKTtcblxuICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIwLnNlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6ICdjaGFubmVscy5xdWVyaWVkJyxcbiAgICAgICAgICAgICAgICAgIHF1ZXJpZWRDaGFubmVsczoge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsczogZGF0YS5jaGFubmVscyxcbiAgICAgICAgICAgICAgICAgICAgaXNMYXRlc3RNZXNzYWdlU2V0OiB0cnVlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuaHlkcmF0ZUFjdGl2ZUNoYW5uZWxzKGRhdGEuY2hhbm5lbHMsIHN0YXRlT3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjAsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBxdWVyeUNoYW5uZWxzKF94MTcpIHtcbiAgICAgICAgcmV0dXJuIF9xdWVyeUNoYW5uZWxzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBxdWVyeUNoYW5uZWxzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImh5ZHJhdGVBY3RpdmVDaGFubmVsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoeWRyYXRlQWN0aXZlQ2hhbm5lbHMoKSB7XG4gICAgICB2YXIgY2hhbm5lbHNGcm9tQXBpID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgICAgIHZhciBzdGF0ZU9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdmFyIHNraXBJbml0aWFsaXphdGlvbiA9IHN0YXRlT3B0aW9ucy5za2lwSW5pdGlhbGl6YXRpb24sXG4gICAgICAgICAgX3N0YXRlT3B0aW9ucyRvZmZsaW5lID0gc3RhdGVPcHRpb25zLm9mZmxpbmVNb2RlLFxuICAgICAgICAgIG9mZmxpbmVNb2RlID0gX3N0YXRlT3B0aW9ucyRvZmZsaW5lID09PSB2b2lkIDAgPyBmYWxzZSA6IF9zdGF0ZU9wdGlvbnMkb2ZmbGluZTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjaGFubmVsc0Zyb21BcGkpLFxuICAgICAgICAgIF9zdGVwMjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgY2hhbm5lbFN0YXRlID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgdGhpcy5fYWRkQ2hhbm5lbENvbmZpZyhjaGFubmVsU3RhdGUuY2hhbm5lbCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjIuZigpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hhbm5lbHMgPSBbXTtcblxuICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihjaGFubmVsc0Zyb21BcGkpLFxuICAgICAgICAgIF9zdGVwMztcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICB2YXIgX2NoYW5uZWxTdGF0ZSA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgICB2YXIgYyA9IHRoaXMuY2hhbm5lbChfY2hhbm5lbFN0YXRlLmNoYW5uZWwudHlwZSwgX2NoYW5uZWxTdGF0ZS5jaGFubmVsLmlkKTtcbiAgICAgICAgICBjLmRhdGEgPSBfY2hhbm5lbFN0YXRlLmNoYW5uZWw7XG4gICAgICAgICAgYy5vZmZsaW5lTW9kZSA9IG9mZmxpbmVNb2RlO1xuICAgICAgICAgIGMuaW5pdGlhbGl6ZWQgPSAhb2ZmbGluZU1vZGU7XG5cbiAgICAgICAgICBpZiAoc2tpcEluaXRpYWxpemF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGMuX2luaXRpYWxpemVTdGF0ZShfY2hhbm5lbFN0YXRlLCAnbGF0ZXN0Jyk7XG4gICAgICAgICAgfSBlbHNlIGlmICghc2tpcEluaXRpYWxpemF0aW9uLmluY2x1ZGVzKF9jaGFubmVsU3RhdGUuY2hhbm5lbC5pZCkpIHtcbiAgICAgICAgICAgIGMuc3RhdGUuY2xlYXJNZXNzYWdlcygpO1xuXG4gICAgICAgICAgICBjLl9pbml0aWFsaXplU3RhdGUoX2NoYW5uZWxTdGF0ZSwgJ2xhdGVzdCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNoYW5uZWxzLnB1c2goYyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfaXRlcmF0b3IzLmUoZXJyKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIF9pdGVyYXRvcjMuZigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2hhbm5lbHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHNlYXJjaCAtIFF1ZXJ5IG1lc3NhZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NoYW5uZWxGaWx0ZXJzPFN0cmVhbUNoYXRHZW5lcmljcz59IGZpbHRlckNvbmRpdGlvbnMgTW9uZ29EQiBzdHlsZSBmaWx0ZXIgY29uZGl0aW9uc1xuICAgICAqIEBwYXJhbSB7TWVzc2FnZUZpbHRlcnM8U3RyZWFtQ2hhdEdlbmVyaWNzPiB8IHN0cmluZ30gcXVlcnkgc2VhcmNoIHF1ZXJ5IG9yIG9iamVjdCBNb25nb0RCIHN0eWxlIGZpbHRlcnNcbiAgICAgKiBAcGFyYW0ge1NlYXJjaE9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW29wdGlvbnNdIE9wdGlvbiBvYmplY3QsIHt1c2VyX2lkOiAndG9tbWFzbyd9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFNlYXJjaEFQSVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4+fSBzZWFyY2ggbWVzc2FnZXMgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlYXJjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3NlYXJjaCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMShmaWx0ZXJDb25kaXRpb25zLCBxdWVyeSkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICBfYXJnczIxID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzMjEubGVuZ3RoID4gMiAmJiBfYXJnczIxWzJdICE9PSB1bmRlZmluZWQgPyBfYXJnczIxWzJdIDoge307XG5cbiAgICAgICAgICAgICAgICBpZiAoIShvcHRpb25zLm9mZnNldCAmJiBvcHRpb25zLm5leHQpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc3BlY2lmeSBvZmZzZXQgd2l0aCBuZXh0XCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBwYXlsb2FkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiBmaWx0ZXJDb25kaXRpb25zXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICBzb3J0OiBvcHRpb25zLnNvcnQgPyBub3JtYWxpemVRdWVyeVNvcnQob3B0aW9ucy5zb3J0KSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIHF1ZXJ5ID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwYXlsb2FkLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIGlmICghKF90eXBlb2YocXVlcnkpID09PSAnb2JqZWN0JykpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDEyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGF5bG9hZC5tZXNzYWdlX2ZpbHRlcl9jb25kaXRpb25zID0gcXVlcnk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgdHlwZSBcIi5jb25jYXQoX3R5cGVvZihxdWVyeSksIFwiIGZvciBxdWVyeSBwYXJhbWV0ZXJcIikpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3NQcm9taXNlO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArICcvc2VhcmNoJywge1xuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogcGF5bG9hZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjEuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyMSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlYXJjaChfeDE4LCBfeDE5KSB7XG4gICAgICAgIHJldHVybiBfc2VhcmNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWFyY2g7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogc2V0TG9jYWxEZXZpY2UgLSBTZXQgdGhlIGRldmljZSBpbmZvIGZvciB0aGUgY3VycmVudCBjbGllbnQoZGV2aWNlKSB0aGF0IHdpbGwgYmUgc2VudCB2aWEgV1MgY29ubmVjdGlvbiBhdXRvbWF0aWNhbGx5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jhc2VEZXZpY2VGaWVsZHN9IGRldmljZSB0aGUgZGV2aWNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2UuaWQgZGV2aWNlIGlkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZS5wdXNoX3Byb3ZpZGVyIHRoZSBwdXNoIHByb3ZpZGVyXG4gICAgICpcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldExvY2FsRGV2aWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldExvY2FsRGV2aWNlKGRldmljZSkge1xuICAgICAgdmFyIF90aGlzJHdzQ29ubmVjdGlvbjUsIF90aGlzJHdzQ29ubmVjdGlvbjYsIF90aGlzJHdzRmFsbGJhY2s0O1xuXG4gICAgICBpZiAoKF90aGlzJHdzQ29ubmVjdGlvbjUgPSB0aGlzLndzQ29ubmVjdGlvbikgIT09IG51bGwgJiYgX3RoaXMkd3NDb25uZWN0aW9uNSAhPT0gdm9pZCAwICYmIF90aGlzJHdzQ29ubmVjdGlvbjUuaXNDb25uZWN0aW5nICYmIHRoaXMud3NQcm9taXNlIHx8ICgoX3RoaXMkd3NDb25uZWN0aW9uNiA9IHRoaXMud3NDb25uZWN0aW9uKSAhPT0gbnVsbCAmJiBfdGhpcyR3c0Nvbm5lY3Rpb242ICE9PSB2b2lkIDAgJiYgX3RoaXMkd3NDb25uZWN0aW9uNi5pc0hlYWx0aHkgfHwgKF90aGlzJHdzRmFsbGJhY2s0ID0gdGhpcy53c0ZhbGxiYWNrKSAhPT0gbnVsbCAmJiBfdGhpcyR3c0ZhbGxiYWNrNCAhPT0gdm9pZCAwICYmIF90aGlzJHdzRmFsbGJhY2s0LmlzSGVhbHRoeSgpKSAmJiB0aGlzLl9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3lvdSBjYW4gb25seSBzZXQgZGV2aWNlIGJlZm9yZSBvcGVuaW5nIGEgd2Vic29ja2V0IGNvbm5lY3Rpb24nKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vcHRpb25zLmRldmljZSA9IGRldmljZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogYWRkRGV2aWNlIC0gQWRkcyBhIHB1c2ggZGV2aWNlIGZvciBhIHVzZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgdGhlIGRldmljZSBpZFxuICAgICAqIEBwYXJhbSB7UHVzaFByb3ZpZGVyfSBwdXNoX3Byb3ZpZGVyIHRoZSBwdXNoIHByb3ZpZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIHRoZSB1c2VyIGlkIChkZWZhdWx0cyB0byBjdXJyZW50IHVzZXIpXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtwdXNoX3Byb3ZpZGVyX25hbWVdIHVzZXIgcHJvdmlkZWQgcHVzaCBwcm92aWRlciBuYW1lIGZvciBtdWx0aSBidW5kbGUgc3VwcG9ydFxuICAgICAqXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGREZXZpY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9hZGREZXZpY2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjIoaWQsIHB1c2hfcHJvdmlkZXIsIHVzZXJJRCwgcHVzaF9wcm92aWRlcl9uYW1lKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9kZXZpY2VzJywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXI6IHB1c2hfcHJvdmlkZXJcbiAgICAgICAgICAgICAgICB9LCB1c2VySUQgIT0gbnVsbCA/IHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJRFxuICAgICAgICAgICAgICAgIH0gOiB7fSksIHB1c2hfcHJvdmlkZXJfbmFtZSAhPSBudWxsID8ge1xuICAgICAgICAgICAgICAgICAgcHVzaF9wcm92aWRlcl9uYW1lOiBwdXNoX3Byb3ZpZGVyX25hbWVcbiAgICAgICAgICAgICAgICB9IDoge30pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYWRkRGV2aWNlKF94MjAsIF94MjEsIF94MjIsIF94MjMpIHtcbiAgICAgICAgcmV0dXJuIF9hZGREZXZpY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZERldmljZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBnZXREZXZpY2VzIC0gUmV0dXJucyB0aGUgZGV2aWNlcyBhc3NvY2lhdGVkIHdpdGggYSBjdXJyZW50IHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSBVc2VyIElELiBPbmx5IHdvcmtzIG9uIHNlcnZlcnNpZGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0RldmljZTxTdHJlYW1DaGF0R2VuZXJpY3M+W119IEFycmF5IG9mIGRldmljZXNcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldERldmljZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXREZXZpY2VzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIzKHVzZXJJRCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjMucHJldiA9IF9jb250ZXh0MjMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgJy9kZXZpY2VzJywgdXNlcklEID8ge1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklEXG4gICAgICAgICAgICAgICAgfSA6IHt9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjMuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTIzLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0RGV2aWNlcyhfeDI0KSB7XG4gICAgICAgIHJldHVybiBfZ2V0RGV2aWNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RGV2aWNlcztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBnZXRVbnJlYWRDb3VudCAtIFJldHVybnMgdW5yZWFkIGNvdW50cyBmb3IgYSBzaW5nbGUgdXNlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIFVzZXIgSUQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHs8R2V0VW5yZWFkQ291bnRBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRVbnJlYWRDb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldFVucmVhZENvdW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI0KHVzZXJJRCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNCQoX2NvbnRleHQyNCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgJy91bnJlYWQnLCB1c2VySUQgPyB7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySURcbiAgICAgICAgICAgICAgICB9IDoge30pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQyNC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRVbnJlYWRDb3VudChfeDI1KSB7XG4gICAgICAgIHJldHVybiBfZ2V0VW5yZWFkQ291bnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFVucmVhZENvdW50O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGdldFVucmVhZENvdW50QmF0Y2ggLSBSZXR1cm5zIHVucmVhZCBjb3VudHMgZm9yIG11bHRpcGxlIHVzZXJzIGF0IG9uY2UuIE9ubHkgd29ya3Mgc2VydmVyIHNpZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBbdXNlcklEc10gTGlzdCBvZiB1c2VyIElEcyB0byBmZXRjaCB1bnJlYWQgY291bnRzIGZvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gezxHZXRVbnJlYWRDb3VudEJhdGNoQVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VW5yZWFkQ291bnRCYXRjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldFVucmVhZENvdW50QmF0Y2ggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjUodXNlcklEcykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNSQoX2NvbnRleHQyNSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjUucHJldiA9IF9jb250ZXh0MjUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvdW5yZWFkX2JhdGNoJywge1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZHM6IHVzZXJJRHNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MjUuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTI1LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0VW5yZWFkQ291bnRCYXRjaChfeDI2KSB7XG4gICAgICAgIHJldHVybiBfZ2V0VW5yZWFkQ291bnRCYXRjaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0VW5yZWFkQ291bnRCYXRjaDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiByZW1vdmVEZXZpY2UgLSBSZW1vdmVzIHRoZSBkZXZpY2Ugd2l0aCB0aGUgZ2l2ZW4gaWQuIENsaWVudHNpZGUgdXNlcnMgY2FuIG9ubHkgZGVsZXRlIHRoZWlyIG93biBkZXZpY2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGRldmljZSBpZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSBUaGUgdXNlciBpZC4gT25seSBzcGVjaWZ5IHRoaXMgZm9yIHNlcnZlcnNpZGUgcmVxdWVzdHNcbiAgICAgKlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlRGV2aWNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVtb3ZlRGV2aWNlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI2KGlkLCB1c2VySUQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjYkKF9jb250ZXh0MjYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI2LnByZXYgPSBfY29udGV4dDI2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKHRoaXMuYmFzZVVSTCArICcvZGV2aWNlcycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgaWQ6IGlkXG4gICAgICAgICAgICAgICAgfSwgdXNlcklEID8ge1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklEXG4gICAgICAgICAgICAgICAgfSA6IHt9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDI2LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyNiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZURldmljZShfeDI3LCBfeDI4KSB7XG4gICAgICAgIHJldHVybiBfcmVtb3ZlRGV2aWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVEZXZpY2U7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZ2V0UmF0ZUxpbWl0cyAtIFJldHVybnMgdGhlIHJhdGUgbGltaXRzIHF1b3RhIGFuZCB1c2FnZSBmb3IgdGhlIGN1cnJlbnQgYXBwLCBwb3NzaWJseSBmaWx0ZXIgZm9yIGEgc3BlY2lmaWMgcGxhdGZvcm0gYW5kL29yIGVuZHBvaW50cy5cbiAgICAgKiBPbmx5IGF2YWlsYWJsZSBzZXJ2ZXItc2lkZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIGZvciB0aGUgY2FsbC4gSWYgbm9uZSBvZiB0aGUgcGFyYW1zIGFyZSBzZXQsIGFsbCBsaW1pdHMgZm9yIGFsbCBwbGF0Zm9ybXMgYXJlIHJldHVybmVkLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEdldFJhdGVMaW1pdHNSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRSYXRlTGltaXRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0UmF0ZUxpbWl0cyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNyhwYXJhbXMpIHtcbiAgICAgICAgdmFyIF9yZWY3LCBzZXJ2ZXJTaWRlLCB3ZWIsIGFuZHJvaWQsIGlvcywgZW5kcG9pbnRzO1xuXG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI3JChfY29udGV4dDI3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNy5wcmV2ID0gX2NvbnRleHQyNy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfcmVmNyA9IHBhcmFtcyB8fCB7fSwgc2VydmVyU2lkZSA9IF9yZWY3LnNlcnZlclNpZGUsIHdlYiA9IF9yZWY3LndlYiwgYW5kcm9pZCA9IF9yZWY3LmFuZHJvaWQsIGlvcyA9IF9yZWY3LmlvcywgZW5kcG9pbnRzID0gX3JlZjcuZW5kcG9pbnRzO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LmFicnVwdChcInJldHVyblwiLCB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyAnL3JhdGVfbGltaXRzJywge1xuICAgICAgICAgICAgICAgICAgc2VydmVyX3NpZGU6IHNlcnZlclNpZGUsXG4gICAgICAgICAgICAgICAgICB3ZWI6IHdlYixcbiAgICAgICAgICAgICAgICAgIGFuZHJvaWQ6IGFuZHJvaWQsXG4gICAgICAgICAgICAgICAgICBpb3M6IGlvcyxcbiAgICAgICAgICAgICAgICAgIGVuZHBvaW50czogZW5kcG9pbnRzID8gZW5kcG9pbnRzLmpvaW4oJywnKSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRSYXRlTGltaXRzKF94MjkpIHtcbiAgICAgICAgcmV0dXJuIF9nZXRSYXRlTGltaXRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRSYXRlTGltaXRzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcIl9hZGRDaGFubmVsQ29uZmlnXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRDaGFubmVsQ29uZmlnKF9yZWY4KSB7XG4gICAgICB2YXIgY2lkID0gX3JlZjguY2lkLFxuICAgICAgICAgIGNvbmZpZyA9IF9yZWY4LmNvbmZpZztcbiAgICAgIHRoaXMuY29uZmlnc1tjaWRdID0gY29uZmlnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBjaGFubmVsIC0gUmV0dXJucyBhIG5ldyBjaGFubmVsIHdpdGggdGhlIGdpdmVuIHR5cGUsIGlkIGFuZCBjdXN0b20gZGF0YVxuICAgICAqXG4gICAgICogSWYgeW91IHdhbnQgdG8gY3JlYXRlIGEgdW5pcXVlIGNvbnZlcnNhdGlvbiBiZXR3ZWVuIDIgb3IgbW9yZSB1c2VyczsgeW91IGNhbiBsZWF2ZSBvdXQgdGhlIElEIHBhcmFtZXRlciBhbmQgcHJvdmlkZSB0aGUgbGlzdCBvZiBtZW1iZXJzLlxuICAgICAqIE1ha2Ugc3VyZSB0byBhd2FpdCBjaGFubmVsLmNyZWF0ZSgpIG9yIGNoYW5uZWwud2F0Y2goKSBiZWZvcmUgYWNjZXNzaW5nIGNoYW5uZWwgZnVuY3Rpb25zOlxuICAgICAqIGllLiBjaGFubmVsID0gY2xpZW50LmNoYW5uZWwoXCJtZXNzYWdpbmdcIiwge21lbWJlcnM6IFtcInRvbW1hc29cIiwgXCJ0aGllcnJ5XCJdfSlcbiAgICAgKiBhd2FpdCBjaGFubmVsLmNyZWF0ZSgpIHRvIGFzc2lnbiBhbiBJRCB0byBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2hhbm5lbFR5cGUgVGhlIGNoYW5uZWwgdHlwZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgQ2hhbm5lbERhdGE8U3RyZWFtQ2hhdEdlbmVyaWNzPiB8IG51bGx9IFtjaGFubmVsSURPckN1c3RvbV0gICBUaGUgY2hhbm5lbCBJRCwgeW91IGNhbiBsZWF2ZSB0aGlzIG91dCBpZiB5b3Ugd2FudCB0byBjcmVhdGUgYSBjb252ZXJzYXRpb24gY2hhbm5lbFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbY3VzdG9tXSAgICBDdXN0b20gZGF0YSB0byBhdHRhY2ggdG8gdGhlIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2NoYW5uZWx9IFRoZSBjaGFubmVsIG9iamVjdCwgaW5pdGlhbGl6ZSBpdCB1c2luZyBjaGFubmVsLndhdGNoKClcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNoYW5uZWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbm5lbChjaGFubmVsVHlwZSwgY2hhbm5lbElET3JDdXN0b20pIHtcbiAgICAgIHZhciBfY3VzdG9tJG1lbWJlcnM7XG5cbiAgICAgIHZhciBjdXN0b20gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXG4gICAgICBpZiAoIXRoaXMudXNlcklEICYmICF0aGlzLl9pc1VzaW5nU2VydmVyQXV0aCgpKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYWxsIGNvbm5lY3RVc2VyIG9yIGNvbm5lY3RBbm9ueW1vdXNVc2VyIGJlZm9yZSBjcmVhdGluZyBhIGNoYW5uZWwnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKH5jaGFubmVsVHlwZS5pbmRleE9mKCc6JykpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGNoYW5uZWwgZ3JvdXAgXCIuY29uY2F0KGNoYW5uZWxUeXBlLCBcIiwgY2FuJ3QgY29udGFpbiB0aGUgOiBjaGFyYWN0ZXJcIikpO1xuICAgICAgfSAvLyBzdXBwb3J0IGNoYW5uZWwoXCJtZXNzYWdpbmdcIiwge29wdGlvbnN9KVxuXG5cbiAgICAgIGlmIChjaGFubmVsSURPckN1c3RvbSAmJiBfdHlwZW9mKGNoYW5uZWxJRE9yQ3VzdG9tKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hhbm5lbEJ5TWVtYmVycyhjaGFubmVsVHlwZSwgY2hhbm5lbElET3JDdXN0b20pO1xuICAgICAgfSAvLyAvLyBzdXBwb3J0IGNoYW5uZWwoXCJtZXNzYWdpbmdcIiwgdW5kZWZpbmVkLCB7b3B0aW9uc30pXG5cblxuICAgICAgaWYgKCFjaGFubmVsSURPckN1c3RvbSAmJiBfdHlwZW9mKGN1c3RvbSkgPT09ICdvYmplY3QnICYmIChfY3VzdG9tJG1lbWJlcnMgPSBjdXN0b20ubWVtYmVycykgIT09IG51bGwgJiYgX2N1c3RvbSRtZW1iZXJzICE9PSB2b2lkIDAgJiYgX2N1c3RvbSRtZW1iZXJzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGFubmVsQnlNZW1iZXJzKGNoYW5uZWxUeXBlLCBjdXN0b20pO1xuICAgICAgfSAvLyBzdXBwb3J0IGNoYW5uZWwoXCJtZXNzYWdpbmdcIiwgbnVsbCwge29wdGlvbnN9KVxuICAgICAgLy8gc3VwcG9ydCBjaGFubmVsKFwibWVzc2FnaW5nXCIsIHVuZGVmaW5lZCwge29wdGlvbnN9KVxuICAgICAgLy8gc3VwcG9ydCBjaGFubmVsKFwibWVzc2FnaW5nXCIsIFwiXCIsIHtvcHRpb25zfSlcblxuXG4gICAgICBpZiAoIWNoYW5uZWxJRE9yQ3VzdG9tKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhbm5lbCh0aGlzLCBjaGFubmVsVHlwZSwgdW5kZWZpbmVkLCBjdXN0b20pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5nZXRDaGFubmVsQnlJZChjaGFubmVsVHlwZSwgY2hhbm5lbElET3JDdXN0b20sIGN1c3RvbSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0J3MgYSBoZWxwZXIgbWV0aG9kIGZvciBgY2xpZW50LmNoYW5uZWwoKWAgbWV0aG9kLCB1c2VkIHRvIGNyZWF0ZSB1bmlxdWUgY29udmVyc2F0aW9uIG9yXG4gICAgICogY2hhbm5lbCBiYXNlZCBvbiBtZW1iZXIgbGlzdCBpbnN0ZWFkIG9mIGlkLlxuICAgICAqXG4gICAgICogSWYgdGhlIGNoYW5uZWwgYWxyZWFkeSBleGlzdHMgaW4gYGFjdGl2ZUNoYW5uZWxzYCBsaXN0LCB0aGVuIHdlIHNpbXBseSByZXR1cm4gaXQsIHNpbmNlIHRoYXRcbiAgICAgKiBtZWFucyB0aGUgc2FtZSBjaGFubmVsIHdhcyBhbHJlYWR5IHJlcXVlc3RlZCBvciBjcmVhdGVkLlxuICAgICAqXG4gICAgICogT3RoZXJ3aXNlIHdlIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBDaGFubmVsIGNsYXNzIGFuZCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNoYW5uZWxUeXBlIFRoZSBjaGFubmVsIHR5cGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2N1c3RvbV0gICAgQ3VzdG9tIGRhdGEgdG8gYXR0YWNoIHRvIHRoZSBjaGFubmVsXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtjaGFubmVsfSBUaGUgY2hhbm5lbCBvYmplY3QsIGluaXRpYWxpemUgaXQgdXNpbmcgY2hhbm5lbC53YXRjaCgpXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYXJ0aWFsVXBkYXRlVXNlclwiLFxuICAgIHZhbHVlOlxuICAgIC8qKlxuICAgICAqIHBhcnRpYWxVcGRhdGVVc2VyIC0gVXBkYXRlIHRoZSBnaXZlbiB1c2VyIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQYXJ0aWFsVXNlclVwZGF0ZTxTdHJlYW1DaGF0R2VuZXJpY3M+fSBwYXJ0aWFsVXNlck9iamVjdCB3aGljaCBzaG91bGQgY29udGFpbiBpZCBhbmQgYW55IG9mIFwic2V0XCIgb3IgXCJ1bnNldFwiIHBhcmFtcztcbiAgICAgKiBleGFtcGxlOiB7aWQ6IFwidXNlcjFcIiwgc2V0OntmaWVsZDogdmFsdWV9LCB1bnNldDpbXCJmaWVsZDJcIl19XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHsgdXNlcnM6IHsgW2tleTogc3RyaW5nXTogVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfSB9Pn0gbGlzdCBvZiB1cGRhdGVkIHVzZXJzXG4gICAgICovXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9wYXJ0aWFsVXBkYXRlVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyOChwYXJ0aWFsVXNlck9iamVjdCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyOCQoX2NvbnRleHQyOCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjgucHJldiA9IF9jb250ZXh0MjgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJ0aWFsVXBkYXRlVXNlcnMoW3BhcnRpYWxVc2VyT2JqZWN0XSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDI4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUyOCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnRpYWxVcGRhdGVVc2VyKF94MzApIHtcbiAgICAgICAgcmV0dXJuIF9wYXJ0aWFsVXBkYXRlVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydGlhbFVwZGF0ZVVzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdXBzZXJ0VXNlcnMgLSBCYXRjaCB1cHNlcnQgdGhlIGxpc3Qgb2YgdXNlcnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz5bXX0gdXNlcnMgbGlzdCBvZiB1c2Vyc1xuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx7IHVzZXJzOiB7IFtrZXk6IHN0cmluZ106IFVzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+IH0gfT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cHNlcnRVc2Vyc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Vwc2VydFVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI5KHVzZXJzKSB7XG4gICAgICAgIHZhciB1c2VyTWFwLCBfaXRlcmF0b3I0LCBfc3RlcDQsIHVzZXJPYmplY3Q7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjkkKF9jb250ZXh0MjkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDI5LnByZXYgPSBfY29udGV4dDI5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHVzZXJNYXAgPSB7fTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIodXNlcnMpO1xuICAgICAgICAgICAgICAgIF9jb250ZXh0MjkucHJldiA9IDI7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnMoKTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKChfc3RlcDQgPSBfaXRlcmF0b3I0Lm4oKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMTE7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB1c2VyT2JqZWN0ID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJPYmplY3QuaWQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignVXNlciBJRCBpcyByZXF1aXJlZCB3aGVuIHVwZGF0aW5nIGEgdXNlcicpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICB1c2VyTWFwW3VzZXJPYmplY3QuaWRdID0gdXNlck9iamVjdDtcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjkubmV4dCA9IDE2O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOS5wcmV2ID0gMTM7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOS50MCA9IF9jb250ZXh0MjlbXCJjYXRjaFwiXSgyKTtcblxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQuZShfY29udGV4dDI5LnQwKTtcblxuICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MjkucHJldiA9IDE2O1xuXG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5mKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5maW5pc2goMTYpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQyOS5uZXh0ID0gMjE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL3VzZXJzJywge1xuICAgICAgICAgICAgICAgICAgdXNlcnM6IHVzZXJNYXBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI5LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDI5LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyOS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMjksIHRoaXMsIFtbMiwgMTMsIDE2LCAxOV1dKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBzZXJ0VXNlcnMoX3gzMSkge1xuICAgICAgICByZXR1cm4gX3Vwc2VydFVzZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cHNlcnRVc2VycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHVwc2VydFVzZXJzKCkgZnVuY3Rpb24gaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIHVwZGF0ZVVzZXJzIC0gQmF0Y2ggdXBkYXRlIHRoZSBsaXN0IG9mIHVzZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1VzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+W119IHVzZXJzIGxpc3Qgb2YgdXNlcnNcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHsgdXNlcnM6IHsgW2tleTogc3RyaW5nXTogVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfSB9Pn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwc2VydFVzZXJcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiB1cHNlcnRVc2VyIC0gVXBkYXRlIG9yIENyZWF0ZSB0aGUgZ2l2ZW4gdXNlciBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IHVzZXJPYmplY3QgdXNlciBvYmplY3QsIHRoZSBvbmx5IHJlcXVpcmVkIGZpZWxkIGlzIHRoZSB1c2VyIGlkLiBJRSB7aWQ6IFwibXl1c2VyXCJ9IGlzIHZhbGlkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHsgdXNlcnM6IHsgW2tleTogc3RyaW5nXTogVXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfSB9Pn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cHNlcnRVc2VyKHVzZXJPYmplY3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwc2VydFVzZXJzKFt1c2VyT2JqZWN0XSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgdXBzZXJ0VXNlcigpIGZ1bmN0aW9uIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiB1cGRhdGVVc2VyIC0gVXBkYXRlIG9yIENyZWF0ZSB0aGUgZ2l2ZW4gdXNlciBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VXNlclJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IHVzZXJPYmplY3QgdXNlciBvYmplY3QsIHRoZSBvbmx5IHJlcXVpcmVkIGZpZWxkIGlzIHRoZSB1c2VyIGlkLiBJRSB7aWQ6IFwibXl1c2VyXCJ9IGlzIHZhbGlkXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx7IHVzZXJzOiB7IFtrZXk6IHN0cmluZ106IFVzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+IH0gfT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYXJ0aWFsVXBkYXRlVXNlcnNcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBwYXJ0aWFsVXBkYXRlVXNlcnMgLSBCYXRjaCBwYXJ0aWFsIHVwZGF0ZSBvZiB1c2Vyc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQYXJ0aWFsVXNlclVwZGF0ZTxTdHJlYW1DaGF0R2VuZXJpY3M+W119IHVzZXJzIGxpc3Qgb2YgcGFydGlhbCB1cGRhdGUgcmVxdWVzdHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8eyB1c2VyczogeyBba2V5OiBzdHJpbmddOiBVc2VyUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPiB9IH0+fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcGFydGlhbFVwZGF0ZVVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMwKHVzZXJzKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3I1LCBfc3RlcDUsIHVzZXJPYmplY3Q7XG5cbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzAkKF9jb250ZXh0MzApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMwLnByZXYgPSBfY29udGV4dDMwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih1c2Vycyk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMC5wcmV2ID0gMTtcblxuICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUucygpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwNSA9IF9pdGVyYXRvcjUubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDMwLm5leHQgPSA5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdXNlck9iamVjdCA9IF9zdGVwNS52YWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmICh1c2VyT2JqZWN0LmlkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDMwLm5leHQgPSA3O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1VzZXIgSUQgaXMgcmVxdWlyZWQgd2hlbiB1cGRhdGluZyBhIHVzZXInKTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMC5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMwLnByZXYgPSAxMTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDMwLnQwID0gX2NvbnRleHQzMFtcImNhdGNoXCJdKDEpO1xuXG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5lKF9jb250ZXh0MzAudDApO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzMC5wcmV2ID0gMTQ7XG5cbiAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LmYoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMwLmZpbmlzaCgxNCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMwLm5leHQgPSAxOTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRjaCh0aGlzLmJhc2VVUkwgKyAnL3VzZXJzJywge1xuICAgICAgICAgICAgICAgICAgdXNlcnM6IHVzZXJzXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzMC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTMwLCB0aGlzLCBbWzEsIDExLCAxNCwgMTddXSk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnRpYWxVcGRhdGVVc2VycyhfeDMyKSB7XG4gICAgICAgIHJldHVybiBfcGFydGlhbFVwZGF0ZVVzZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJ0aWFsVXBkYXRlVXNlcnM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlVXNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbGV0ZVVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzEodXNlcklELCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzEkKF9jb250ZXh0MzEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMxLnByZXYgPSBfY29udGV4dDMxLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzEubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKHRoaXMuYmFzZVVSTCArIFwiL3VzZXJzL1wiLmNvbmNhdCh1c2VySUQpLCBwYXJhbXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzMS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVVc2VyKF94MzMsIF94MzQpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGVVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVVc2VyO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlc3RvcmVVc2VycyAtIFJlc3RvcmUgc29mdCBkZWxldGVkIHVzZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB1c2VyX2lkcyB3aGljaCB1c2VycyB0byByZXN0b3JlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZX0gQW4gQVBJIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXN0b3JlVXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXN0b3JlVXNlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzIodXNlcl9pZHMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzIkKF9jb250ZXh0MzIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMyLnByZXYgPSBfY29udGV4dDMyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzIubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9yZXN0b3JlXCIsIHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWRzOiB1c2VyX2lkc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzMi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZXN0b3JlVXNlcnMoX3gzNSkge1xuICAgICAgICByZXR1cm4gX3Jlc3RvcmVVc2Vycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdG9yZVVzZXJzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlYWN0aXZhdGVVc2VyIC0gUmVhY3RpdmF0ZSBvbmUgdXNlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJRCB3aGljaCB1c2VyIHRvIHJlYWN0aXZhdGVcbiAgICAgKiBAcGFyYW0ge1JlYWN0aXZhdGVVc2VyT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtVc2VyUmVzcG9uc2V9IFJlYWN0aXZhdGVkIHVzZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlYWN0aXZhdGVVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVhY3RpdmF0ZVVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzModXNlcklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMzJChfY29udGV4dDMzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzMy5wcmV2ID0gX2NvbnRleHQzMy5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDMzLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvdXNlcnMvXCIuY29uY2F0KHVzZXJJRCwgXCIvcmVhY3RpdmF0ZVwiKSwgX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMy5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzMy5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzMy5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZWFjdGl2YXRlVXNlcihfeDM2LCBfeDM3KSB7XG4gICAgICAgIHJldHVybiBfcmVhY3RpdmF0ZVVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlYWN0aXZhdGVVc2VyO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHJlYWN0aXZhdGVVc2VycyAtIFJlYWN0aXZhdGUgbWFueSB1c2VycyBhc3luY2hyb25vdXNseVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gdXNlcl9pZHMgd2hpY2ggdXNlcnMgdG8gcmVhY3RpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVhY3RpdmF0ZVVzZXJzT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtUYXNrUmVzcG9uc2V9IEEgdGFzayBJRFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVhY3RpdmF0ZVVzZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVhY3RpdmF0ZVVzZXJzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM0KHVzZXJfaWRzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM0JChfY29udGV4dDM0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzNC5wcmV2ID0gX2NvbnRleHQzNC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDM0Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvdXNlcnMvcmVhY3RpdmF0ZVwiLCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWRzOiB1c2VyX2lkc1xuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0MzQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcmVhY3RpdmF0ZVVzZXJzKF94MzgsIF94MzkpIHtcbiAgICAgICAgcmV0dXJuIF9yZWFjdGl2YXRlVXNlcnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlYWN0aXZhdGVVc2VycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWFjdGl2YXRlVXNlciAtIERlYWN0aXZhdGUgb25lIHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1c2VySUQgd2hpY2ggdXNlciB0byBkZWFjdGl2YXRlXG4gICAgICogQHBhcmFtIHtEZWFjdGl2YXRlVXNlcnNPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1VzZXJSZXNwb25zZX0gRGVhY3RpdmF0ZWQgdXNlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVhY3RpdmF0ZVVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWFjdGl2YXRlVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzNSh1c2VySUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzUkKF9jb250ZXh0MzUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM1LnByZXYgPSBfY29udGV4dDM1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9cIi5jb25jYXQodXNlcklELCBcIi9kZWFjdGl2YXRlXCIpLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzNSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlYWN0aXZhdGVVc2VyKF94NDAsIF94NDEpIHtcbiAgICAgICAgcmV0dXJuIF9kZWFjdGl2YXRlVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVhY3RpdmF0ZVVzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZGVhY3RpdmF0ZVVzZXJzIC0gRGVhY3RpdmF0ZSBtYW55IHVzZXJzIGFzeW5jaHJvbm91c2x5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB1c2VyX2lkcyB3aGljaCB1c2VycyB0byBkZWFjdGl2YXRlXG4gICAgICogQHBhcmFtIHtEZWFjdGl2YXRlVXNlcnNPcHRpb25zfSBbb3B0aW9uc11cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Rhc2tSZXNwb25zZX0gQSB0YXNrIElEXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWFjdGl2YXRlVXNlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWFjdGl2YXRlVXNlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzYodXNlcl9pZHMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMzYkKF9jb250ZXh0MzYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDM2LnByZXYgPSBfY29udGV4dDM2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0MzYubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9kZWFjdGl2YXRlXCIsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdXNlcl9pZHM6IHVzZXJfaWRzXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQzNi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzNi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlMzYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWFjdGl2YXRlVXNlcnMoX3g0MiwgX3g0Mykge1xuICAgICAgICByZXR1cm4gX2RlYWN0aXZhdGVVc2Vycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVhY3RpdmF0ZVVzZXJzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImV4cG9ydFVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9leHBvcnRVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM3KHVzZXJJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzNyQoX2NvbnRleHQzNykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzcucHJldiA9IF9jb250ZXh0MzcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzNy5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvdXNlcnMvXCIuY29uY2F0KHVzZXJJRCwgXCIvZXhwb3J0XCIpLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM3LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDM3LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDM3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWUzNywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGV4cG9ydFVzZXIoX3g0NCwgX3g0NSkge1xuICAgICAgICByZXR1cm4gX2V4cG9ydFVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGV4cG9ydFVzZXI7XG4gICAgfSgpXG4gICAgLyoqIGJhblVzZXIgLSBiYW5zIGEgdXNlciBmcm9tIGFsbCBjaGFubmVsc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFVzZXJJRFxuICAgICAqIEBwYXJhbSB7QmFuVXNlck9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW29wdGlvbnNdXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiYmFuVXNlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2JhblVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMzgodGFyZ2V0VXNlcklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTM4JChfY29udGV4dDM4KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzOC5wcmV2ID0gX2NvbnRleHQzOC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDM4Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL2JhbicsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X3VzZXJfaWQ6IHRhcmdldFVzZXJJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Mzguc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM4LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gYmFuVXNlcihfeDQ2LCBfeDQ3KSB7XG4gICAgICAgIHJldHVybiBfYmFuVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYmFuVXNlcjtcbiAgICB9KClcbiAgICAvKiogdW5iYW5Vc2VyIC0gcmV2b2tlIGdsb2JhbCBiYW4gZm9yIGEgdXNlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldFVzZXJJRFxuICAgICAqIEBwYXJhbSB7VW5CYW5Vc2VyT3B0aW9uc30gW29wdGlvbnNdXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidW5iYW5Vc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdW5iYW5Vc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTM5KHRhcmdldFVzZXJJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzOSQoX2NvbnRleHQzOSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MzkucHJldiA9IF9jb250ZXh0MzkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQzOS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxldGUodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL2JhbicsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X3VzZXJfaWQ6IHRhcmdldFVzZXJJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MzkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Mzkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mzkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTM5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdW5iYW5Vc2VyKF94NDgsIF94NDkpIHtcbiAgICAgICAgcmV0dXJuIF91bmJhblVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmFuVXNlcjtcbiAgICB9KClcbiAgICAvKiogc2hhZG93QmFuIC0gc2hhZG93IGJhbnMgYSB1c2VyIGZyb20gYWxsIGNoYW5uZWxzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0VXNlcklEXG4gICAgICogQHBhcmFtIHtCYW5Vc2VyT3B0aW9uczxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzaGFkb3dCYW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zaGFkb3dCYW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDAodGFyZ2V0VXNlcklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQwJChfY29udGV4dDQwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0MC5wcmV2ID0gX2NvbnRleHQ0MC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDQwLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJhblVzZXIodGFyZ2V0VXNlcklELCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIHNoYWRvdzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDAuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gc2hhZG93QmFuKF94NTAsIF94NTEpIHtcbiAgICAgICAgcmV0dXJuIF9zaGFkb3dCYW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNoYWRvd0JhbjtcbiAgICB9KClcbiAgICAvKiogcmVtb3ZlU2hhZG93QmFuIC0gcmV2b2tlIGdsb2JhbCBzaGFkb3cgYmFuIGZvciBhIHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRVc2VySURcbiAgICAgKiBAcGFyYW0ge1VuQmFuVXNlck9wdGlvbnN9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVNoYWRvd0JhblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3JlbW92ZVNoYWRvd0JhbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0MSh0YXJnZXRVc2VySUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNDEkKF9jb250ZXh0NDEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQxLnByZXYgPSBfY29udGV4dDQxLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NDEubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5iYW5Vc2VyKHRhcmdldFVzZXJJRCwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBzaGFkb3c6IHRydWVcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQxLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQxLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQxLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0MSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVNoYWRvd0JhbihfeDUyLCBfeDUzKSB7XG4gICAgICAgIHJldHVybiBfcmVtb3ZlU2hhZG93QmFuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVTaGFkb3dCYW47XG4gICAgfSgpXG4gICAgLyoqIG11dGVVc2VyIC0gbXV0ZXMgYSB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0SURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gT25seSB1c2VkIHdpdGggc2VydmVyc2lkZSBhdXRoXG4gICAgICogQHBhcmFtIHtNdXRlVXNlck9wdGlvbnM8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gW29wdGlvbnNdXG4gICAgICogQHJldHVybnMge1Byb21pc2U8TXV0ZVVzZXJSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+Pn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm11dGVVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfbXV0ZVVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDIodGFyZ2V0SUQsIHVzZXJJRCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNDIgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQyJChfY29udGV4dDQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0Mi5wcmV2ID0gX2NvbnRleHQ0Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M0Mi5sZW5ndGggPiAyICYmIF9hcmdzNDJbMl0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNDJbMl0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL211dGUnLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X2lkOiB0YXJnZXRJRFxuICAgICAgICAgICAgICAgIH0sIHVzZXJJRCA/IHtcbiAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJRFxuICAgICAgICAgICAgICAgIH0gOiB7fSksIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDIuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gbXV0ZVVzZXIoX3g1NCwgX3g1NSkge1xuICAgICAgICByZXR1cm4gX211dGVVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtdXRlVXNlcjtcbiAgICB9KClcbiAgICAvKiogdW5tdXRlVXNlciAtIHVubXV0ZXMgYSB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0SURcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2N1cnJlbnRVc2VySURdIE9ubHkgdXNlZCB3aXRoIHNlcnZlcnNpZGUgYXV0aFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVubXV0ZVVzZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91bm11dGVVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQzKHRhcmdldElELCBjdXJyZW50VXNlcklEKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQzJChfY29udGV4dDQzKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0My5wcmV2ID0gX2NvbnRleHQ0My5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfY29udGV4dDQzLm5leHQgPSAyO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL3VubXV0ZScsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X2lkOiB0YXJnZXRJRFxuICAgICAgICAgICAgICAgIH0sIGN1cnJlbnRVc2VySUQgPyB7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkOiBjdXJyZW50VXNlcklEXG4gICAgICAgICAgICAgICAgfSA6IHt9KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0MywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVubXV0ZVVzZXIoX3g1NiwgX3g1Nykge1xuICAgICAgICByZXR1cm4gX3VubXV0ZVVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVubXV0ZVVzZXI7XG4gICAgfSgpXG4gICAgLyoqIHVzZXJNdXRlU3RhdHVzIC0gY2hlY2sgaWYgYSB1c2VyIGlzIG11dGVkIG9yIG5vdCwgY2FuIGJlIHVzZWQgYWZ0ZXIgY29ubmVjdFVzZXIoKSBpcyBjYWxsZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRJRFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXNlck11dGVTdGF0dXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXNlck11dGVTdGF0dXModGFyZ2V0SUQpIHtcbiAgICAgIGlmICghdGhpcy51c2VyIHx8ICF0aGlzLndzUHJvbWlzZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ha2Ugc3VyZSB0byBhd2FpdCBjb25uZWN0VXNlcigpIGZpcnN0LicpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubXV0ZWRVc2Vycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAodGhpcy5tdXRlZFVzZXJzW2ldLnRhcmdldC5pZCA9PT0gdGFyZ2V0SUQpIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGZsYWdNZXNzYWdlIC0gZmxhZyBhIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0TWVzc2FnZUlEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVzZXJfaWRdIGN1cnJlbnRVc2VySUQsIG9ubHkgdXNlZCB3aXRoIHNlcnZlcnNpZGUgYXV0aFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZsYWdNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZmxhZ01lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDQodGFyZ2V0TWVzc2FnZUlEKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M0NCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNDQkKF9jb250ZXh0NDQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQ0LnByZXYgPSBfY29udGV4dDQ0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczQ0Lmxlbmd0aCA+IDEgJiYgX2FyZ3M0NFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M0NFsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NDQubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vZmxhZycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X21lc3NhZ2VfaWQ6IHRhcmdldE1lc3NhZ2VJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDQuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDQuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQ0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZmxhZ01lc3NhZ2UoX3g1OCkge1xuICAgICAgICByZXR1cm4gX2ZsYWdNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbGFnTWVzc2FnZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBmbGFnVXNlciAtIGZsYWcgYSB1c2VyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVzZXJfaWRdIGN1cnJlbnRVc2VySUQsIG9ubHkgdXNlZCB3aXRoIHNlcnZlcnNpZGUgYXV0aFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImZsYWdVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZmxhZ1VzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNDUodGFyZ2V0SUQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczQ1ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0NSQoX2NvbnRleHQ0NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDUucHJldiA9IF9jb250ZXh0NDUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNDUubGVuZ3RoID4gMSAmJiBfYXJnczQ1WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczQ1WzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0NS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvbW9kZXJhdGlvbi9mbGFnJywgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogdGFyZ2V0SURcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQ1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0NSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGZsYWdVc2VyKF94NTkpIHtcbiAgICAgICAgcmV0dXJuIF9mbGFnVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmxhZ1VzZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdW5mbGFnTWVzc2FnZSAtIHVuZmxhZyBhIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0TWVzc2FnZUlEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnVzZXJfaWRdIGN1cnJlbnRVc2VySUQsIG9ubHkgdXNlZCB3aXRoIHNlcnZlcnNpZGUgYXV0aFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVuZmxhZ01lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91bmZsYWdNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQ2KHRhcmdldE1lc3NhZ2VJRCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNDYgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ2JChfY29udGV4dDQ2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0Ni5wcmV2ID0gX2NvbnRleHQ0Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M0Ni5sZW5ndGggPiAxICYmIF9hcmdzNDZbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNDZbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQ2Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL3VuZmxhZycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X21lc3NhZ2VfaWQ6IHRhcmdldE1lc3NhZ2VJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDYuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NDYuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NDYuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTQ2LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdW5mbGFnTWVzc2FnZShfeDYwKSB7XG4gICAgICAgIHJldHVybiBfdW5mbGFnTWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5mbGFnTWVzc2FnZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB1bmZsYWdVc2VyIC0gdW5mbGFnIGEgdXNlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51c2VyX2lkXSBjdXJyZW50VXNlcklELCBvbmx5IHVzZWQgd2l0aCBzZXJ2ZXJzaWRlIGF1dGhcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmZsYWdVc2VyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdW5mbGFnVXNlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0Nyh0YXJnZXRJRCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNDcgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQ3JChfY29udGV4dDQ3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0Ny5wcmV2ID0gX2NvbnRleHQ0Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M0Ny5sZW5ndGggPiAxICYmIF9hcmdzNDdbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNDdbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQ3Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL3VuZmxhZycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X3VzZXJfaWQ6IHRhcmdldElEXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ0Ny5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNDcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1bmZsYWdVc2VyKF94NjEpIHtcbiAgICAgICAgcmV0dXJuIF91bmZsYWdVc2VyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmZsYWdVc2VyO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGdldENhbGxUb2tlbiAtIHJldHJpZXZlcyB0aGUgYXV0aCB0b2tlbiBuZWVkZWQgdG8gam9pbiBhIGNhbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsSURcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEdldENhbGxUb2tlblJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldENhbGxUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2dldENhbGxUb2tlbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0OChjYWxsSUQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczQ4ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0OCQoX2NvbnRleHQ0OCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDgucHJldiA9IF9jb250ZXh0NDgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNDgubGVuZ3RoID4gMSAmJiBfYXJnczQ4WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczQ4WzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0OC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2NhbGxzL1wiLmNvbmNhdChjYWxsSUQpLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ4LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQ4LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ4LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0OCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldENhbGxUb2tlbihfeDYyKSB7XG4gICAgICAgIHJldHVybiBfZ2V0Q2FsbFRva2VuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRDYWxsVG9rZW47XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogX3F1ZXJ5RmxhZ3MgLSBRdWVyeSBmbGFncy5cbiAgICAgKlxuICAgICAqIE5vdGU6IERvIG5vdCB1c2UgdGhpcy5cbiAgICAgKiBJdCBpcyBwcmVzZW50IGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuLCBhbmQgd2lsbCwgYnJlYWsgYW5kL29yIGJlIHJlbW92ZWQgYXQgYW55IHBvaW50IGluIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RmxhZ3NGaWx0ZXJzfSBmaWx0ZXJDb25kaXRpb25zIE1vbmdvREIgc3R5bGUgZmlsdGVyIGNvbmRpdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ZsYWdzUGFnaW5hdGlvbk9wdGlvbnN9IG9wdGlvbnMgT3B0aW9uIG9iamVjdCwge2xpbWl0OiAxMCwgb2Zmc2V0OjB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEZsYWdzUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IEZsYWdzIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfcXVlcnlGbGFnc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3F1ZXJ5RmxhZ3MyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQ5KCkge1xuICAgICAgICB2YXIgZmlsdGVyQ29uZGl0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczQ5ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0OSQoX2NvbnRleHQ0OSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NDkucHJldiA9IF9jb250ZXh0NDkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZmlsdGVyQ29uZGl0aW9ucyA9IF9hcmdzNDkubGVuZ3RoID4gMCAmJiBfYXJnczQ5WzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczQ5WzBdIDoge307XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzNDkubGVuZ3RoID4gMSAmJiBfYXJnczQ5WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczQ5WzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ0OS5uZXh0ID0gNDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvbW9kZXJhdGlvbi9mbGFncycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IGZpbHRlckNvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ5LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDQ5LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQ5LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU0OSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9xdWVyeUZsYWdzKCkge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5RmxhZ3MyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcXVlcnlGbGFncztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfcXVlcnlGbGFnUmVwb3J0cyAtIFF1ZXJ5IGZsYWcgcmVwb3J0cy5cbiAgICAgKlxuICAgICAqIE5vdGU6IERvIG5vdCB1c2UgdGhpcy5cbiAgICAgKiBJdCBpcyBwcmVzZW50IGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5LlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuLCBhbmQgd2lsbCwgYnJlYWsgYW5kL29yIGJlIHJlbW92ZWQgYXQgYW55IHBvaW50IGluIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RmxhZ1JlcG9ydHNGaWx0ZXJzfSBmaWx0ZXJDb25kaXRpb25zIE1vbmdvREIgc3R5bGUgZmlsdGVyIGNvbmRpdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ZsYWdSZXBvcnRzUGFnaW5hdGlvbk9wdGlvbnN9IG9wdGlvbnMgT3B0aW9uIG9iamVjdCwge2xpbWl0OiAxMCwgb2Zmc2V0OjB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPEZsYWdSZXBvcnRzUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPj59IEZsYWcgUmVwb3J0cyBSZXNwb25zZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3F1ZXJ5RmxhZ1JlcG9ydHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeUZsYWdSZXBvcnRzMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1MCgpIHtcbiAgICAgICAgdmFyIGZpbHRlckNvbmRpdGlvbnMsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M1MCA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTAkKF9jb250ZXh0NTApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUwLnByZXYgPSBfY29udGV4dDUwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGZpbHRlckNvbmRpdGlvbnMgPSBfYXJnczUwLmxlbmd0aCA+IDAgJiYgX2FyZ3M1MFswXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M1MFswXSA6IHt9O1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczUwLmxlbmd0aCA+IDEgJiYgX2FyZ3M1MFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M1MFsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NTAubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyAnL21vZGVyYXRpb24vcmVwb3J0cycsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IGZpbHRlckNvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUwLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDUwLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1MCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIF9xdWVyeUZsYWdSZXBvcnRzKCkge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5RmxhZ1JlcG9ydHMyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcXVlcnlGbGFnUmVwb3J0cztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfcmV2aWV3RmxhZ1JlcG9ydCAtIHJldmlldyBmbGFnIHJlcG9ydFxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtpZF0gZmxhZyByZXBvcnQgdG8gcmV2aWV3XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtyZXZpZXdSZXN1bHRdIGZsYWcgcmVwb3J0IHJldmlldyByZXN1bHRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudXNlcl9pZF0gY3VycmVudFVzZXJJRCwgb25seSB1c2VkIHdpdGggc2VydmVyc2lkZSBhdXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnJldmlld19kZXRhaWxzXSBjdXN0b20gaW5mb3JtYXRpb24gYWJvdXQgcmV2aWV3IHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJldmlld0ZsYWdSZXBvcnRSZXNwb25zZT4+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX3Jldmlld0ZsYWdSZXBvcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9yZXZpZXdGbGFnUmVwb3J0MiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1MShpZCwgcmV2aWV3UmVzdWx0KSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M1MSA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTEkKF9jb250ZXh0NTEpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUxLnByZXYgPSBfY29udGV4dDUxLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczUxLmxlbmd0aCA+IDIgJiYgX2FyZ3M1MVsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M1MVsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIF9jb250ZXh0NTEubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0Y2godGhpcy5iYXNlVVJMICsgXCIvbW9kZXJhdGlvbi9yZXBvcnRzL1wiLmNvbmNhdChpZCksIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgcmV2aWV3X3Jlc3VsdDogcmV2aWV3UmVzdWx0XG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1MS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1MS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1MS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfcmV2aWV3RmxhZ1JlcG9ydChfeDYzLCBfeDY0KSB7XG4gICAgICAgIHJldHVybiBfcmV2aWV3RmxhZ1JlcG9ydDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZXZpZXdGbGFnUmVwb3J0O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVuYmxvY2tNZXNzYWdlIC0gdW5ibG9ja3MgbWVzc2FnZSBibG9ja2VkIGJ5IGF1dG9tb2RcbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldE1lc3NhZ2VJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy51c2VyX2lkXSBjdXJyZW50VXNlcklELCBvbmx5IHVzZWQgd2l0aCBzZXJ2ZXJzaWRlIGF1dGhcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmJsb2NrTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VuYmxvY2tNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUyKHRhcmdldE1lc3NhZ2VJRCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNTIgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUyJChfY29udGV4dDUyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1Mi5wcmV2ID0gX2NvbnRleHQ1Mi5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M1Mi5sZW5ndGggPiAxICYmIF9hcmdzNTJbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNTJbMV0gOiB7fTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDUyLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9tb2RlcmF0aW9uL3VuYmxvY2tfbWVzc2FnZScsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X21lc3NhZ2VfaWQ6IHRhcmdldE1lc3NhZ2VJRFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTIuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NTIuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTUyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdW5ibG9ja01lc3NhZ2UoX3g2NSkge1xuICAgICAgICByZXR1cm4gX3VuYmxvY2tNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrTWVzc2FnZTtcbiAgICB9KCkgLy8gYWxpYXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5cbiAgfSwge1xuICAgIGtleTogXCJtYXJrQ2hhbm5lbHNSZWFkXCIsXG4gICAgdmFsdWU6XG4gICAgLyoqXG4gICAgICogbWFya0NoYW5uZWxzUmVhZCAtIG1hcmtzIGNoYW5uZWxzIHJlYWQgLVxuICAgICAqIGl0IGFjY2VwdHMgYSBtYXAgb2YgY2lkOm1lc3NhZ2VpZCBwYWlycywgaWYgbWVzc2FnZWlkIGlzIGVtcHR5LCB0aGUgd2hvbGUgY2hhbm5lbCB3aWxsIGJlIG1hcmtlZCBhcyByZWFkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge01hcmtDaGFubmVsc1JlYWRPcHRpb25zIDxTdHJlYW1DaGF0R2VuZXJpY3M+fSBbZGF0YV1cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfbWFya0NoYW5uZWxzUmVhZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1MygpIHtcbiAgICAgICAgdmFyIGRhdGEsXG4gICAgICAgICAgICBfYXJnczUzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1MyQoX2NvbnRleHQ1Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTMucHJldiA9IF9jb250ZXh0NTMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgZGF0YSA9IF9hcmdzNTMubGVuZ3RoID4gMCAmJiBfYXJnczUzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJnczUzWzBdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1My5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArICcvY2hhbm5lbHMvcmVhZCcsIF9vYmplY3RTcHJlYWQoe30sIGRhdGEpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBtYXJrQ2hhbm5lbHNSZWFkKCkge1xuICAgICAgICByZXR1cm4gX21hcmtDaGFubmVsc1JlYWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcmtDaGFubmVsc1JlYWQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlQ29tbWFuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVDb21tYW5kKGRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9jb21tYW5kcycsIGRhdGEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRDb21tYW5kXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbW1hbmQobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL2NvbW1hbmRzL1wiLmNvbmNhdChuYW1lKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUNvbW1hbmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ29tbWFuZChuYW1lLCBkYXRhKSB7XG4gICAgICByZXR1cm4gdGhpcy5wdXQodGhpcy5iYXNlVVJMICsgXCIvY29tbWFuZHMvXCIuY29uY2F0KG5hbWUpLCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQ29tbWFuZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVDb21tYW5kKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSh0aGlzLmJhc2VVUkwgKyBcIi9jb21tYW5kcy9cIi5jb25jYXQobmFtZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsaXN0Q29tbWFuZHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdENvbW1hbmRzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL2NvbW1hbmRzXCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVDaGFubmVsVHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVDaGFubmVsVHlwZShkYXRhKSB7XG4gICAgICB2YXIgY2hhbm5lbERhdGEgPSBfZXh0ZW5kcyh7fSwge1xuICAgICAgICBjb21tYW5kczogWydhbGwnXVxuICAgICAgfSwgZGF0YSk7XG5cbiAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgJy9jaGFubmVsdHlwZXMnLCBjaGFubmVsRGF0YSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldENoYW5uZWxUeXBlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoYW5uZWxUeXBlKGNoYW5uZWxUeXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvY2hhbm5lbHR5cGVzL1wiLmNvbmNhdChjaGFubmVsVHlwZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVDaGFubmVsVHlwZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDaGFubmVsVHlwZShjaGFubmVsVHlwZSwgZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMucHV0KHRoaXMuYmFzZVVSTCArIFwiL2NoYW5uZWx0eXBlcy9cIi5jb25jYXQoY2hhbm5lbFR5cGUpLCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQ2hhbm5lbFR5cGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlQ2hhbm5lbFR5cGUoY2hhbm5lbFR5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZSh0aGlzLmJhc2VVUkwgKyBcIi9jaGFubmVsdHlwZXMvXCIuY29uY2F0KGNoYW5uZWxUeXBlKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxpc3RDaGFubmVsVHlwZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdENoYW5uZWxUeXBlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9jaGFubmVsdHlwZXNcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHRyYW5zbGF0ZU1lc3NhZ2UgLSBhZGRzIHRoZSB0cmFuc2xhdGlvbiB0byB0aGUgbWVzc2FnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VJZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZVxuICAgICAqXG4gICAgICogQHJldHVybiB7TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz59IFJlc3BvbnNlIHRoYXQgaW5jbHVkZXMgdGhlIG1lc3NhZ2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInRyYW5zbGF0ZU1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90cmFuc2xhdGVNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU0KG1lc3NhZ2VJZCwgbGFuZ3VhZ2UpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTQkKF9jb250ZXh0NTQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDU0LnByZXYgPSBfY29udGV4dDU0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NTQubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQobWVzc2FnZUlkLCBcIi90cmFuc2xhdGVcIiksIHtcbiAgICAgICAgICAgICAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1NC5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1NC5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB0cmFuc2xhdGVNZXNzYWdlKF94NjYsIF94NjcpIHtcbiAgICAgICAgcmV0dXJuIF90cmFuc2xhdGVNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmFuc2xhdGVNZXNzYWdlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIF9ub3JtYWxpemVFeHBpcmF0aW9uIC0gdHJhbnNmb3JtcyBleHBpcmF0aW9uIHZhbHVlIGludG8gSVNPIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7dW5kZWZpbmVkfG51bGx8bnVtYmVyfHN0cmluZ3xEYXRlfSB0aW1lb3V0T3JFeHBpcmF0aW9uRGF0ZSBleHBpcmF0aW9uIGRhdGUgb3IgdGltZW91dC4gVXNlIG51bWJlciB0eXBlIHRvIHNldCB0aW1lb3V0IGluIHNlY29uZHMsIHN0cmluZyBvciBEYXRlIHRvIHNldCBleGFjdCBleHBpcmF0aW9uIGRhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIl9ub3JtYWxpemVFeHBpcmF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9ub3JtYWxpemVFeHBpcmF0aW9uKHRpbWVvdXRPckV4cGlyYXRpb25EYXRlKSB7XG4gICAgICB2YXIgcGluRXhwaXJlcyA9IG51bGw7XG5cbiAgICAgIGlmICh0eXBlb2YgdGltZW91dE9yRXhwaXJhdGlvbkRhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBub3cuc2V0U2Vjb25kcyhub3cuZ2V0U2Vjb25kcygpICsgdGltZW91dE9yRXhwaXJhdGlvbkRhdGUpO1xuICAgICAgICBwaW5FeHBpcmVzID0gbm93LnRvSVNPU3RyaW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKGlzU3RyaW5nKHRpbWVvdXRPckV4cGlyYXRpb25EYXRlKSkge1xuICAgICAgICBwaW5FeHBpcmVzID0gdGltZW91dE9yRXhwaXJhdGlvbkRhdGU7XG4gICAgICB9IGVsc2UgaWYgKHRpbWVvdXRPckV4cGlyYXRpb25EYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBwaW5FeHBpcmVzID0gdGltZW91dE9yRXhwaXJhdGlvbkRhdGUudG9JU09TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBpbkV4cGlyZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9tZXNzYWdlSWQgLSBleHRyYWN0cyBzdHJpbmcgbWVzc2FnZSBpZCBmcm9tIGVpdGhlciBtZXNzYWdlIG9iamVjdCBvciBtZXNzYWdlIGlkXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCB7IGlkOiBzdHJpbmcgfX0gbWVzc2FnZU9yTWVzc2FnZUlkIG1lc3NhZ2Ugb2JqZWN0IG9yIG1lc3NhZ2UgaWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXJyb3JUZXh0IGVycm9yIG1lc3NhZ2UgdG8gcmVwb3J0IGluIGNhc2Ugb2YgbWVzc2FnZSBpZCBhYnNlbmNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfdmFsaWRhdGVBbmRHZXRNZXNzYWdlSWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3ZhbGlkYXRlQW5kR2V0TWVzc2FnZUlkKG1lc3NhZ2VPck1lc3NhZ2VJZCwgZXJyb3JUZXh0KSB7XG4gICAgICB2YXIgbWVzc2FnZUlkO1xuXG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2VPck1lc3NhZ2VJZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbWVzc2FnZUlkID0gbWVzc2FnZU9yTWVzc2FnZUlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFtZXNzYWdlT3JNZXNzYWdlSWQuaWQpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihlcnJvclRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVzc2FnZUlkID0gbWVzc2FnZU9yTWVzc2FnZUlkLmlkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWVzc2FnZUlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBwaW5NZXNzYWdlIC0gcGlucyB0aGUgbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgeyBpZDogc3RyaW5nIH19IG1lc3NhZ2VPck1lc3NhZ2VJZCBtZXNzYWdlIG9iamVjdCBvciBtZXNzYWdlIGlkXG4gICAgICogQHBhcmFtIHt1bmRlZmluZWR8bnVsbHxudW1iZXJ8c3RyaW5nfERhdGV9IHRpbWVvdXRPckV4cGlyYXRpb25EYXRlIGV4cGlyYXRpb24gZGF0ZSBvciB0aW1lb3V0LiBVc2UgbnVtYmVyIHR5cGUgdG8gc2V0IHRpbWVvdXQgaW4gc2Vjb25kcywgc3RyaW5nIG9yIERhdGUgdG8gc2V0IGV4YWN0IGV4cGlyYXRpb24gZGF0ZVxuICAgICAqIEBwYXJhbSB7dW5kZWZpbmVkfHN0cmluZyB8IHsgaWQ6IHN0cmluZyB9fSBbcGlubmVkQnldIHdobyB3aWxsIGFwcGVhciBhcyBhIHVzZXIgd2hvIHBpbm5lZCBhIG1lc3NhZ2UuIE9ubHkgZm9yIHNlcnZlci1zaWRlIHVzZS4gUHJvdmlkZSBgdW5kZWZpbmVkYCB3aGVuIHBpbm5pbmcgbWVzc2FnZSBjbGllbnQtc2lkZVxuICAgICAqIEBwYXJhbSB7dW5kZWZpbmVkfG51bWJlcnxzdHJpbmd8RGF0ZX0gcGlubmVkQXQgZGF0ZSB3aGVuIG1lc3NhZ2Ugc2hvdWxkIGJlIHBpbm5lZC4gSXQgYWZmZWN0cyB0aGUgb3JkZXIgb2YgcGlubmVkIG1lc3NhZ2VzLiBVc2UgbmVnYXRpdmUgbnVtYmVyIHRvIHNldCByZWxhdGl2ZSB0aW1lIGluIHRoZSBwYXN0LCBzdHJpbmcgb3IgRGF0ZSB0byBzZXQgZXhhY3QgZGF0ZSBvZiBwaW5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInBpbk1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGluTWVzc2FnZShtZXNzYWdlT3JNZXNzYWdlSWQsIHRpbWVvdXRPckV4cGlyYXRpb25EYXRlLCBwaW5uZWRCeSwgcGlubmVkQXQpIHtcbiAgICAgIHZhciBtZXNzYWdlSWQgPSB0aGlzLl92YWxpZGF0ZUFuZEdldE1lc3NhZ2VJZChtZXNzYWdlT3JNZXNzYWdlSWQsICdQbGVhc2Ugc3BlY2lmeSB0aGUgbWVzc2FnZSBpZCB3aGVuIGNhbGxpbmcgdW5waW5NZXNzYWdlJyk7XG5cbiAgICAgIHJldHVybiB0aGlzLnBhcnRpYWxVcGRhdGVNZXNzYWdlKG1lc3NhZ2VJZCwge1xuICAgICAgICBzZXQ6IHtcbiAgICAgICAgICBwaW5uZWQ6IHRydWUsXG4gICAgICAgICAgcGluX2V4cGlyZXM6IHRoaXMuX25vcm1hbGl6ZUV4cGlyYXRpb24odGltZW91dE9yRXhwaXJhdGlvbkRhdGUpLFxuICAgICAgICAgIHBpbm5lZF9hdDogdGhpcy5fbm9ybWFsaXplRXhwaXJhdGlvbihwaW5uZWRBdClcbiAgICAgICAgfVxuICAgICAgfSwgcGlubmVkQnkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1bnBpbk1lc3NhZ2UgLSB1bnBpbnMgdGhlIG1lc3NhZ2UgdGhhdCB3YXMgcHJldmlvdXNseSBwaW5uZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHsgaWQ6IHN0cmluZyB9fSBtZXNzYWdlT3JNZXNzYWdlSWQgbWVzc2FnZSBvYmplY3Qgb3IgbWVzc2FnZSBpZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgeyBpZDogc3RyaW5nIH19IFt1c2VySWRdXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bnBpbk1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5waW5NZXNzYWdlKG1lc3NhZ2VPck1lc3NhZ2VJZCwgdXNlcklkKSB7XG4gICAgICB2YXIgbWVzc2FnZUlkID0gdGhpcy5fdmFsaWRhdGVBbmRHZXRNZXNzYWdlSWQobWVzc2FnZU9yTWVzc2FnZUlkLCAnUGxlYXNlIHNwZWNpZnkgdGhlIG1lc3NhZ2UgaWQgd2hlbiBjYWxsaW5nIHVucGluTWVzc2FnZScpO1xuXG4gICAgICByZXR1cm4gdGhpcy5wYXJ0aWFsVXBkYXRlTWVzc2FnZShtZXNzYWdlSWQsIHtcbiAgICAgICAgc2V0OiB7XG4gICAgICAgICAgcGlubmVkOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LCB1c2VySWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiB1cGRhdGVNZXNzYWdlIC0gVXBkYXRlIHRoZSBnaXZlbiBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09taXQ8TWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4sICdtZW50aW9uZWRfdXNlcnMnPiAmIHsgbWVudGlvbmVkX3VzZXJzPzogc3RyaW5nW10gfX0gbWVzc2FnZSBvYmplY3QsIGlkIG5lZWRzIHRvIGJlIHNwZWNpZmllZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgeyBpZDogc3RyaW5nIH19IFt1c2VySWRdXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5za2lwX2VucmljaF91cmxdIERvIG5vdCB0cnkgdG8gZW5yaWNoIHRoZSBVUkxzIHdpdGhpbiBtZXNzYWdlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt7IG1lc3NhZ2U6IE1lc3NhZ2VSZXNwb25zZTxTdHJlYW1DaGF0R2VuZXJpY3M+IH19IFJlc3BvbnNlIHRoYXQgaW5jbHVkZXMgdGhlIG1lc3NhZ2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZU1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91cGRhdGVNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU1KG1lc3NhZ2UsIHVzZXJJZCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgY2xvbmVkTWVzc2FnZSwgcmVzZXJ2ZWRNZXNzYWdlRmllbGRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1NSQoX2NvbnRleHQ1NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTUucHJldiA9IF9jb250ZXh0NTUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NTUubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignUGxlYXNlIHNwZWNpZnkgdGhlIG1lc3NhZ2UgaWQgd2hlbiBjYWxsaW5nIHVwZGF0ZU1lc3NhZ2UnKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgY2xvbmVkTWVzc2FnZSA9IF9leHRlbmRzKHt9LCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgY2xvbmVkTWVzc2FnZS5pZDtcbiAgICAgICAgICAgICAgICByZXNlcnZlZE1lc3NhZ2VGaWVsZHMgPSBbJ2NvbW1hbmQnLCAnY3JlYXRlZF9hdCcsICdodG1sJywgJ2xhdGVzdF9yZWFjdGlvbnMnLCAnb3duX3JlYWN0aW9ucycsICdxdW90ZWRfbWVzc2FnZScsICdyZWFjdGlvbl9jb3VudHMnLCAncmVwbHlfY291bnQnLCAndHlwZScsICd1cGRhdGVkX2F0JywgJ3VzZXInLCAnX19odG1sJ107XG4gICAgICAgICAgICAgICAgcmVzZXJ2ZWRNZXNzYWdlRmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjbG9uZWRNZXNzYWdlW2l0ZW1dICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNsb25lZE1lc3NhZ2VbaXRlbV07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodXNlcklkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChpc1N0cmluZyh1c2VySWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lZE1lc3NhZ2UudXNlcl9pZCA9IHVzZXJJZDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lZE1lc3NhZ2UudXNlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZDogdXNlcklkLmlkXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNlcnZlciBhbHdheXMgZXhwZWN0cyBtZW50aW9uZWRfdXNlcnMgdG8gYmUgYXJyYXkgb2Ygc3RyaW5nLiBXZSBhcmUgYWRkaW5nIGV4dHJhIGNoZWNrLCBqdXN0IGluIGNhc2VcbiAgICAgICAgICAgICAgICAgKiBTREsgbWlzc2VkIHRoaXMgY29udmVyc2lvbi5cbiAgICAgICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2xvbmVkTWVzc2FnZS5tZW50aW9uZWRfdXNlcnMpICYmICFpc1N0cmluZyhjbG9uZWRNZXNzYWdlLm1lbnRpb25lZF91c2Vyc1swXSkpIHtcbiAgICAgICAgICAgICAgICAgIGNsb25lZE1lc3NhZ2UubWVudGlvbmVkX3VzZXJzID0gY2xvbmVkTWVzc2FnZS5tZW50aW9uZWRfdXNlcnMubWFwKGZ1bmN0aW9uIChtdSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXUuaWQ7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfY29udGV4dDU1Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChtZXNzYWdlLmlkKSwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjbG9uZWRNZXNzYWdlXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTUuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NTUuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDU1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU1NSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZU1lc3NhZ2UoX3g2OCwgX3g2OSwgX3g3MCkge1xuICAgICAgICByZXR1cm4gX3VwZGF0ZU1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZU1lc3NhZ2U7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcGFydGlhbFVwZGF0ZU1lc3NhZ2UgLSBVcGRhdGUgdGhlIGdpdmVuIG1lc3NhZ2UgaWQgd2hpbGUgcmV0YWluaW5nIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHRoZSBtZXNzYWdlIGlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BhcnRpYWxVcGRhdGVNZXNzYWdlPFN0cmVhbUNoYXRHZW5lcmljcz59ICBwYXJ0aWFsTWVzc2FnZU9iamVjdCB3aGljaCBzaG91bGQgY29udGFpbiBpZCBhbmQgYW55IG9mIFwic2V0XCIgb3IgXCJ1bnNldFwiIHBhcmFtcztcbiAgICAgKiAgICAgICAgIGV4YW1wbGU6IHtpZDogXCJ1c2VyMVwiLCBzZXQ6e3RleHQ6IFwiaGlcIn0sIHVuc2V0OltcImNvbG9yXCJdfVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgeyBpZDogc3RyaW5nIH19IFt1c2VySWRdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNraXBfZW5yaWNoX3VybF0gRG8gbm90IHRyeSB0byBlbnJpY2ggdGhlIFVSTHMgd2l0aGluIG1lc3NhZ2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3sgbWVzc2FnZTogTWVzc2FnZVJlc3BvbnNlPFN0cmVhbUNoYXRHZW5lcmljcz4gfX0gUmVzcG9uc2UgdGhhdCBpbmNsdWRlcyB0aGUgdXBkYXRlZCBtZXNzYWdlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYXJ0aWFsVXBkYXRlTWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3BhcnRpYWxVcGRhdGVNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU2KGlkLCBwYXJ0aWFsTWVzc2FnZU9iamVjdCwgdXNlcklkLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciB1c2VyO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1NiQoX2NvbnRleHQ1Nikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTYucHJldiA9IF9jb250ZXh0NTYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDU2Lm5leHQgPSAyO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1BsZWFzZSBzcGVjaWZ5IHRoZSBtZXNzYWdlIGlkIHdoZW4gY2FsbGluZyBwYXJ0aWFsVXBkYXRlTWVzc2FnZScpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB1c2VyID0gdXNlcklkO1xuXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJJZCAhPSBudWxsICYmIGlzU3RyaW5nKHVzZXJJZCkpIHtcbiAgICAgICAgICAgICAgICAgIHVzZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB1c2VySWRcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX2NvbnRleHQ1Ni5uZXh0ID0gNjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wdXQodGhpcy5iYXNlVVJMICsgXCIvbWVzc2FnZXMvXCIuY29uY2F0KGlkKSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcnRpYWxNZXNzYWdlT2JqZWN0KSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICB1c2VyOiB1c2VyXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1Ni5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1Ni5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1Ni5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBwYXJ0aWFsVXBkYXRlTWVzc2FnZShfeDcxLCBfeDcyLCBfeDczLCBfeDc0KSB7XG4gICAgICAgIHJldHVybiBfcGFydGlhbFVwZGF0ZU1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhcnRpYWxVcGRhdGVNZXNzYWdlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZU1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWxldGVNZXNzYWdlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTU3KG1lc3NhZ2VJRCwgaGFyZERlbGV0ZSkge1xuICAgICAgICB2YXIgcGFyYW1zO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1NyQoX2NvbnRleHQ1Nykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NTcucHJldiA9IF9jb250ZXh0NTcubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcGFyYW1zID0ge307XG5cbiAgICAgICAgICAgICAgICBpZiAoaGFyZERlbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICBoYXJkOiB0cnVlXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9jb250ZXh0NTcubmV4dCA9IDQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVsZXRlKHRoaXMuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChtZXNzYWdlSUQpLCBwYXJhbXMpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ1Ny5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNTcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVNZXNzYWdlKF94NzUsIF94NzYpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGVNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVNZXNzYWdlO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHVuZGVsZXRlTWVzc2FnZSAtIFVuZGVsZXRlIGEgbWVzc2FnZVxuICAgICAqXG4gICAgICogdW5kZWxldGVzIGEgbWVzc2FnZSB0aGF0IHdhcyBwcmV2aW91cyBzb2Z0IGRlbGV0ZWQuIEhhcmQgZGVsZXRlZCBtZXNzYWdlc1xuICAgICAqIGNhbm5vdCBiZSB1bmRlbGV0ZWQuIFRoaXMgaXMgb25seSBhbGxvd2VkIHRvIGJlIGNhbGxlZCBmcm9tIHNlcnZlci1zaWRlXG4gICAgICogY2xpZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlSUQgVGhlIGlkIG9mIHRoZSBtZXNzYWdlIHRvIHVuZGVsZXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJRCBUaGUgaWQgb2YgdGhlIHVzZXIgd2hvIHVuZGVsZXRlZCB0aGUgbWVzc2FnZVxuICAgICAqXG4gICAgICogQHJldHVybiB7eyBtZXNzYWdlOiBNZXNzYWdlUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPiB9fSBSZXNwb25zZSB0aGF0IGluY2x1ZGVzIHRoZSBtZXNzYWdlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmRlbGV0ZU1lc3NhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF91bmRlbGV0ZU1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNTgobWVzc2FnZUlELCB1c2VySUQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTgkKF9jb250ZXh0NTgpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDU4LnByZXYgPSBfY29udGV4dDU4Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NTgubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQobWVzc2FnZUlELCBcIi91bmRlbGV0ZVwiKSwge1xuICAgICAgICAgICAgICAgICAgdW5kZWxldGVkX2J5OiB1c2VySURcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NTguc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTU4LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdW5kZWxldGVNZXNzYWdlKF94NzcsIF94NzgpIHtcbiAgICAgICAgcmV0dXJuIF91bmRlbGV0ZU1lc3NhZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuZGVsZXRlTWVzc2FnZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJnZXRNZXNzYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0TWVzc2FnZSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1OShtZXNzYWdlSUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNTkkKF9jb250ZXh0NTkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDU5LnByZXYgPSBfY29udGV4dDU5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NTkubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL21lc3NhZ2VzL1wiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobWVzc2FnZUlEKSksIF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0NTkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NTkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTU5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gZ2V0TWVzc2FnZShfeDc5LCBfeDgwKSB7XG4gICAgICAgIHJldHVybiBfZ2V0TWVzc2FnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0TWVzc2FnZTtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBxdWVyeVRocmVhZHMgLSByZXR1cm5zIHRoZSBsaXN0IG9mIHRocmVhZHMgb2YgY3VycmVudCB1c2VyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtRdWVyeVRocmVhZHNPcHRpb25zfSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0IGZvciBwYWdpbmF0aW9uIGFuZCBsaW1pdGluZyB0aGUgcGFydGljaXBhbnRzIGFuZCByZXBsaWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSAgb3B0aW9ucy5saW1pdCBMaW1pdHMgdGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIGJlIHJldHVybmVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy53YXRjaCBTdWJzY3JpYmVzIHRoZSB1c2VyIHRvIHRoZSBjaGFubmVscyBvZiB0aGUgdGhyZWFkcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gIG9wdGlvbnMucGFydGljaXBhbnRfbGltaXQgTGltaXRzIHRoZSBudW1iZXIgb2YgcGFydGljaXBhbnRzIHJldHVybmVkIHBlciB0aHJlYWRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSAgb3B0aW9ucy5yZXBseV9saW1pdCBMaW1pdHMgdGhlIG51bWJlciBvZiByZXBsaWVzIHJldHVybmVkIHBlciB0aHJlYWRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3sgdGhyZWFkczogVGhyZWFkPFN0cmVhbUNoYXRHZW5lcmljcz5bXSwgbmV4dDogc3RyaW5nIH19IFJldHVybnMgdGhlIGxpc3Qgb2YgdGhyZWFkcyBhbmQgdGhlIG5leHQgY3Vyc29yLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicXVlcnlUaHJlYWRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcXVlcnlUaHJlYWRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYwKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG9wdHMsIHJlcztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjAkKF9jb250ZXh0NjApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYwLnByZXYgPSBfY29udGV4dDYwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdHMgPSBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIGxpbWl0OiAxMCxcbiAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50X2xpbWl0OiAxMCxcbiAgICAgICAgICAgICAgICAgIHJlcGx5X2xpbWl0OiAzLFxuICAgICAgICAgICAgICAgICAgd2F0Y2g6IHRydWVcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYwLm5leHQgPSAzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvdGhyZWFkc1wiLCBvcHRzKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ2MC5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYwLmFicnVwdChcInJldHVyblwiLCB7XG4gICAgICAgICAgICAgICAgICB0aHJlYWRzOiByZXMudGhyZWFkcy5tYXAoZnVuY3Rpb24gKHRocmVhZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRocmVhZChfdGhpczUsIHRocmVhZCk7XG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIG5leHQ6IHJlcy5uZXh0XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnlUaHJlYWRzKF94ODEpIHtcbiAgICAgICAgcmV0dXJuIF9xdWVyeVRocmVhZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHF1ZXJ5VGhyZWFkcztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBnZXRUaHJlYWQgLSByZXR1cm5zIHRoZSB0aHJlYWQgb2YgYSBtZXNzYWdlIGJ5IGl0cyBpZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgIG1lc3NhZ2VJZCBUaGUgbWVzc2FnZSBpZFxuICAgICAqIEBwYXJhbSB7R2V0VGhyZWFkT3B0aW9uc30gIG9wdGlvbnMgT3B0aW9ucyBvYmplY3QgZm9yIHBhZ2luYXRpb24gYW5kIGxpbWl0aW5nIHRoZSBwYXJ0aWNpcGFudHMgYW5kIHJlcGxpZXMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSAgICAgICAgICAgb3B0aW9ucy53YXRjaCBTdWJzY3JpYmVzIHRoZSB1c2VyIHRvIHRoZSBjaGFubmVsIG9mIHRoZSB0aHJlYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgb3B0aW9ucy5wYXJ0aWNpcGFudF9saW1pdCBMaW1pdHMgdGhlIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgcmV0dXJuZWQgcGVyIHRocmVhZHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgICAgICAgb3B0aW9ucy5yZXBseV9saW1pdCBMaW1pdHMgdGhlIG51bWJlciBvZiByZXBsaWVzIHJldHVybmVkIHBlciB0aHJlYWRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1RocmVhZDxTdHJlYW1DaGF0R2VuZXJpY3M+fSBSZXR1cm5zIHRoZSB0aHJlYWQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRUaHJlYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRUaHJlYWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjEobWVzc2FnZUlkKSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgb3B0cyxcbiAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgIF9hcmdzNjEgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYxJChfY29udGV4dDYxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2MS5wcmV2ID0gX2NvbnRleHQ2MS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M2MS5sZW5ndGggPiAxICYmIF9hcmdzNjFbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzNjFbMV0gOiB7fTtcblxuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlSWQpIHtcbiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NjEubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignUGxlYXNlIHNwZWNpZnkgdGhlIG1lc3NhZ2UgaWQgd2hlbiBjYWxsaW5nIHBhcnRpYWxVcGRhdGVUaHJlYWQnKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgb3B0cyA9IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRfbGltaXQ6IDEwMCxcbiAgICAgICAgICAgICAgICAgIHJlcGx5X2xpbWl0OiAzLFxuICAgICAgICAgICAgICAgICAgd2F0Y2g6IHRydWVcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYxLm5leHQgPSA2O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi90aHJlYWRzL1wiLmNvbmNhdChtZXNzYWdlSWQpLCBvcHRzKTtcblxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ2MS5zZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYxLmFicnVwdChcInJldHVyblwiLCBuZXcgVGhyZWFkKHRoaXMsIHJlcy50aHJlYWQpKTtcblxuICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2MS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRUaHJlYWQoX3g4Mikge1xuICAgICAgICByZXR1cm4gX2dldFRocmVhZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0VGhyZWFkO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHBhcnRpYWxVcGRhdGVUaHJlYWQgLSB1cGRhdGVzIHRoZSBnaXZlbiB0aHJlYWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgICAgbWVzc2FnZUlkIFRoZSBpZCBvZiB0aGUgdGhyZWFkIG1lc3NhZ2Ugd2hpY2ggbmVlZHMgdG8gYmUgdXBkYXRlZC5cbiAgICAgKiBAcGFyYW0ge1BhcnRpYWxUaHJlYWRVcGRhdGV9IHBhcnRpYWxUaHJlYWRPYmplY3Qgc2hvdWxkIGNvbnRhaW4gXCJzZXRcIiBvciBcInVuc2V0XCIgcGFyYW1zIGZvciBhbnkgb2YgdGhlIHRocmVhZCdzIG5vbi1yZXNlcnZlZCBmaWVsZHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7R2V0VGhyZWFkQVBJUmVzcG9uc2U8U3RyZWFtQ2hhdEdlbmVyaWNzPn0gUmV0dXJucyB0aGUgdXBkYXRlZCB0aHJlYWQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJwYXJ0aWFsVXBkYXRlVGhyZWFkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcGFydGlhbFVwZGF0ZVRocmVhZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2MihtZXNzYWdlSWQsIHBhcnRpYWxUaHJlYWRPYmplY3QpIHtcbiAgICAgICAgdmFyIHJlc2VydmVkVGhyZWFkRmllbGRzLCBfa2V5NTtcblxuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2MiQoX2NvbnRleHQ2Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjIucHJldiA9IF9jb250ZXh0NjIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdQbGVhc2Ugc3BlY2lmeSB0aGUgbWVzc2FnZSBpZCB3aGVuIGNhbGxpbmcgcGFydGlhbFVwZGF0ZVRocmVhZCcpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3IgcmVzZXJ2ZWQgZmllbGRzIGZyb20gVGhyZWFkUmVzcG9uc2UgdHlwZSB3aXRoaW4gcGFydGlhbFRocmVhZE9iamVjdCdzIHNldCBhbmQgdW5zZXQuXG4gICAgICAgICAgICAgICAgLy8gVGhyb3cgZXJyb3IgaWYgYW55IG9mIHRoZSByZXNlcnZlZCBmaWVsZCBpcyBmb3VuZC5cbiAgICAgICAgICAgICAgICByZXNlcnZlZFRocmVhZEZpZWxkcyA9IFsnY3JlYXRlZF9hdCcsICdpZCcsICdsYXN0X21lc3NhZ2VfYXQnLCAndHlwZScsICd1cGRhdGVkX2F0JywgJ3VzZXInLCAncmVwbHlfY291bnQnLCAncGFydGljaXBhbnRzJywgJ2NoYW5uZWwnXTtcbiAgICAgICAgICAgICAgICBfY29udGV4dDYyLnQwID0gX3JlZ2VuZXJhdG9yUnVudGltZS5rZXlzKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFydGlhbFRocmVhZE9iamVjdC5zZXQpLCBwYXJ0aWFsVGhyZWFkT2JqZWN0LnVuc2V0KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGlmICgoX2NvbnRleHQ2Mi50MSA9IF9jb250ZXh0NjIudDAoKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Mi5uZXh0ID0gMTA7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfa2V5NSA9IF9jb250ZXh0NjIudDEudmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlc2VydmVkVGhyZWFkRmllbGRzLmluY2x1ZGVzKF9rZXk1KSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Mi5uZXh0ID0gODtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiWW91IGNhbm5vdCBzZXQgXCIuY29uY2F0KF9rZXk1LCBcIiBmaWVsZCBvbiBUaHJlYWQgb2JqZWN0LiBcIikuY29uY2F0KF9rZXk1LCBcIiBpcyByZXNlcnZlZCBmb3Igc2VydmVyLXNpZGUgdXNlLiBQbGVhc2Ugb21pdCBcIikuY29uY2F0KF9rZXk1LCBcIiBmcm9tIHlvdXIgc2V0IG9iamVjdC5cIikpO1xuXG4gICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICBfY29udGV4dDYyLm5leHQgPSA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ2Mi5uZXh0ID0gMTI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0Y2godGhpcy5iYXNlVVJMICsgXCIvdGhyZWFkcy9cIi5jb25jYXQobWVzc2FnZUlkKSwgcGFydGlhbFRocmVhZE9iamVjdCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ2Mi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjIuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTYyLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcGFydGlhbFVwZGF0ZVRocmVhZChfeDgzLCBfeDg0KSB7XG4gICAgICAgIHJldHVybiBfcGFydGlhbFVwZGF0ZVRocmVhZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGFydGlhbFVwZGF0ZVRocmVhZDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogXCJnZXRVc2VyQWdlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlckFnZW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMudXNlckFnZW50IHx8IFwic3RyZWFtLWNoYXQtamF2YXNjcmlwdC1jbGllbnQtXCIuY29uY2F0KHRoaXMubm9kZSA/ICdub2RlJyA6ICdicm93c2VyJywgXCItXCIsIFwiOC4yNS4xXCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRVc2VyQWdlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VXNlckFnZW50KHVzZXJBZ2VudCkge1xuICAgICAgdGhpcy51c2VyQWdlbnQgPSB1c2VyQWdlbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIF9pc1VzaW5nU2VydmVyQXV0aCAtIFJldHVybnMgdHJ1ZSBpZiB3ZSdyZSB1c2luZyBzZXJ2ZXIgc2lkZSBhdXRoXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfZW5yaWNoQXhpb3NPcHRpb25zXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbnJpY2hBeGlvc09wdGlvbnMoKSB7XG4gICAgICB2YXIgX29wdGlvbnMkaGVhZGVycztcblxuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHtcbiAgICAgICAgcGFyYW1zOiB7fSxcbiAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgIGNvbmZpZzoge31cbiAgICAgIH07XG5cbiAgICAgIHZhciB0b2tlbiA9IHRoaXMuX2dldFRva2VuKCk7XG5cbiAgICAgIHZhciBhdXRob3JpemF0aW9uID0gdG9rZW4gPyB7XG4gICAgICAgIEF1dGhvcml6YXRpb246IHRva2VuXG4gICAgICB9IDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHNpZ25hbCA9IG51bGw7XG5cbiAgICAgIGlmICh0aGlzLm5leHRSZXF1ZXN0QWJvcnRDb250cm9sbGVyICE9PSBudWxsKSB7XG4gICAgICAgIHNpZ25hbCA9IHRoaXMubmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXIuc2lnbmFsO1xuICAgICAgICB0aGlzLm5leHRSZXF1ZXN0QWJvcnRDb250cm9sbGVyID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKCEoKF9vcHRpb25zJGhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMpICE9PSBudWxsICYmIF9vcHRpb25zJGhlYWRlcnMgIT09IHZvaWQgMCAmJiBfb3B0aW9ucyRoZWFkZXJzWyd4LWNsaWVudC1yZXF1ZXN0LWlkJ10pKSB7XG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucy5oZWFkZXJzKSwge30sIHtcbiAgICAgICAgICAneC1jbGllbnQtcmVxdWVzdC1pZCc6IHJhbmRvbUlkKClcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBfcmVmOSA9IHRoaXMub3B0aW9ucy5heGlvc1JlcXVlc3RDb25maWcgfHwge30sXG4gICAgICAgICAgYXhpb3NSZXF1ZXN0Q29uZmlnUGFyYW1zID0gX3JlZjkucGFyYW1zLFxuICAgICAgICAgIGF4aW9zUmVxdWVzdENvbmZpZ0hlYWRlcnMgPSBfcmVmOS5oZWFkZXJzLFxuICAgICAgICAgIGF4aW9zUmVxdWVzdENvbmZpZ1Jlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjksIF9leGNsdWRlZDIpO1xuXG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgdXNlcl9pZDogdGhpcy51c2VySUQsXG4gICAgICAgICAgY29ubmVjdGlvbl9pZDogdGhpcy5fZ2V0Q29ubmVjdGlvbklEKCksXG4gICAgICAgICAgYXBpX2tleTogdGhpcy5rZXlcbiAgICAgICAgfSwgb3B0aW9ucy5wYXJhbXMpLCBheGlvc1JlcXVlc3RDb25maWdQYXJhbXMgfHwge30pLFxuICAgICAgICBoZWFkZXJzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgYXV0aG9yaXphdGlvbiksIHt9LCB7XG4gICAgICAgICAgJ3N0cmVhbS1hdXRoLXR5cGUnOiB0aGlzLmdldEF1dGhUeXBlKCksXG4gICAgICAgICAgJ1gtU3RyZWFtLUNsaWVudCc6IHRoaXMuZ2V0VXNlckFnZW50KClcbiAgICAgICAgfSwgb3B0aW9ucy5oZWFkZXJzKSwgYXhpb3NSZXF1ZXN0Q29uZmlnSGVhZGVycyB8fCB7fSlcbiAgICAgIH0sIHNpZ25hbCA/IHtcbiAgICAgICAgc2lnbmFsOiBzaWduYWxcbiAgICAgIH0gOiB7fSksIG9wdGlvbnMuY29uZmlnKSwgYXhpb3NSZXF1ZXN0Q29uZmlnUmVzdCB8fCB7fSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9nZXRUb2tlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0VG9rZW4oKSB7XG4gICAgICBpZiAoIXRoaXMudG9rZW5NYW5hZ2VyIHx8IHRoaXMuYW5vbnltb3VzKSByZXR1cm4gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzLnRva2VuTWFuYWdlci5nZXRUb2tlbigpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc3RhcnRDbGVhbmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhcnRDbGVhbmluZygpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuY2xlYW5pbmdJbnRlcnZhbFJlZiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jbGVhbmluZ0ludGVydmFsUmVmID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjYWxsIGNsZWFuIG9uIHRoZSBjaGFubmVsLCB1c2VkIGZvciBjYWxsaW5nIHRoZSBzdG9wLnR5cGluZyBldmVudCBldGMuXG4gICAgICAgIGZvciAodmFyIF9pMyA9IDAsIF9PYmplY3QkdmFsdWVzMiA9IE9iamVjdC52YWx1ZXModGhhdC5hY3RpdmVDaGFubmVscyk7IF9pMyA8IF9PYmplY3QkdmFsdWVzMi5sZW5ndGg7IF9pMysrKSB7XG4gICAgICAgICAgdmFyIF9jaGFubmVsNyA9IF9PYmplY3QkdmFsdWVzMltfaTNdO1xuXG4gICAgICAgICAgX2NoYW5uZWw3LmNsZWFuKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGVuY29kZSB3cyB1cmwgcGF5bG9hZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMganNvbiBzdHJpbmdcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInZlcmlmeVdlYmhvb2tcIixcbiAgICB2YWx1ZTpcbiAgICAvKipcbiAgICAgKiBjaGVja3Mgc2lnbmF0dXJlIG9mIGEgcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgQnVmZmVyfSByYXdCb2R5XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNpZ25hdHVyZSBmcm9tIEhUVFAgaGVhZGVyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgZnVuY3Rpb24gdmVyaWZ5V2ViaG9vayhyZXF1ZXN0Qm9keSwgeFNpZ25hdHVyZSkge1xuICAgICAgcmV0dXJuICEhdGhpcy5zZWNyZXQgJiYgQ2hlY2tTaWduYXR1cmUocmVxdWVzdEJvZHksIHRoaXMuc2VjcmV0LCB4U2lnbmF0dXJlKTtcbiAgICB9XG4gICAgLyoqIGdldFBlcm1pc3Npb24gLSBnZXRzIHRoZSBkZWZpbml0aW9uIGZvciBhIHBlcm1pc3Npb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UGVybWlzc2lvbkFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFBlcm1pc3Npb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGVybWlzc2lvbihuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9wZXJtaXNzaW9ucy9cIikuY29uY2F0KG5hbWUpKTtcbiAgICB9XG4gICAgLyoqIGNyZWF0ZVBlcm1pc3Npb24gLSBjcmVhdGVzIGEgY3VzdG9tIHBlcm1pc3Npb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q3VzdG9tUGVybWlzc2lvbk9wdGlvbnN9IHBlcm1pc3Npb25EYXRhIHRoZSBwZXJtaXNzaW9uIGRhdGFcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVQZXJtaXNzaW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVBlcm1pc3Npb24ocGVybWlzc2lvbkRhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvc3QoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9wZXJtaXNzaW9uc1wiKSwgX29iamVjdFNwcmVhZCh7fSwgcGVybWlzc2lvbkRhdGEpKTtcbiAgICB9XG4gICAgLyoqIHVwZGF0ZVBlcm1pc3Npb24gLSB1cGRhdGVzIGFuIGV4aXN0aW5nIGN1c3RvbSBwZXJtaXNzaW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWRcbiAgICAgKiBAcGFyYW0ge09taXQ8Q3VzdG9tUGVybWlzc2lvbk9wdGlvbnMsICdpZCc+fSBwZXJtaXNzaW9uRGF0YSB0aGUgcGVybWlzc2lvbiBkYXRhXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwidXBkYXRlUGVybWlzc2lvblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQZXJtaXNzaW9uKGlkLCBwZXJtaXNzaW9uRGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMucHV0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvcGVybWlzc2lvbnMvXCIpLmNvbmNhdChpZCksIF9vYmplY3RTcHJlYWQoe30sIHBlcm1pc3Npb25EYXRhKSk7XG4gICAgfVxuICAgIC8qKiBkZWxldGVQZXJtaXNzaW9uIC0gZGVsZXRlcyBhIGN1c3RvbSBwZXJtaXNzaW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVBlcm1pc3Npb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlUGVybWlzc2lvbihuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9wZXJtaXNzaW9ucy9cIikuY29uY2F0KG5hbWUpKTtcbiAgICB9XG4gICAgLyoqIGxpc3RQZXJtaXNzaW9ucyAtIHJldHVybnMgdGhlIGxpc3Qgb2YgYWxsIHBlcm1pc3Npb25zIGZvciB0aGlzIGFwcGxpY2F0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJsaXN0UGVybWlzc2lvbnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGlzdFBlcm1pc3Npb25zKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvcGVybWlzc2lvbnNcIikpO1xuICAgIH1cbiAgICAvKiogY3JlYXRlUm9sZSAtIGNyZWF0ZXMgYSBjdXN0b20gcm9sZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdGhlIG5ldyByb2xlIG5hbWVcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxBUElSZXNwb25zZT59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVSb2xlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVJvbGUobmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMucG9zdChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL3JvbGVzXCIpLCB7XG4gICAgICAgIG5hbWU6IG5hbWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogbGlzdFJvbGVzIC0gcmV0dXJucyB0aGUgbGlzdCBvZiBhbGwgcm9sZXMgZm9yIHRoaXMgYXBwbGljYXRpb25cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEFQSVJlc3BvbnNlPn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImxpc3RSb2xlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0Um9sZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9yb2xlc1wiKSk7XG4gICAgfVxuICAgIC8qKiBkZWxldGVSb2xlIC0gZGVsZXRlcyBhIGN1c3RvbSByb2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgcm9sZSBuYW1lXG4gICAgICogQHJldHVybnMge1Byb21pc2U8QVBJUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlUm9sZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVSb2xlKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZShcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL3JvbGVzL1wiKS5jb25jYXQobmFtZSkpO1xuICAgIH1cbiAgICAvKiogc3luYyAtIHJldHVybnMgYWxsIGV2ZW50cyB0aGF0IGhhcHBlbmVkIGZvciBhIGxpc3Qgb2YgY2hhbm5lbHMgc2luY2UgbGFzdCBzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gY2hhbm5lbF9jaWRzIGxpc3Qgb2YgY2hhbm5lbCBDSURzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxhc3Rfc3luY19hdCBsYXN0IHRpbWUgdGhlIHVzZXIgd2FzIG9ubGluZSBhbmQgaW4gc3luYy4gUkZDMzMzOSBpZS4gXCIyMDIwLTA1LTA2VDE1OjA1OjAxLjIwN1pcIlxuICAgICAqIEBwYXJhbSB7U3luY09wdGlvbnN9IG9wdGlvbnMgU2VlIEpTRG9jIGluIHRoZSB0eXBlIGZpZWxkcyBmb3IgbW9yZSBpbmZvXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTeW5jUmVzcG9uc2U+fVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3luY1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzeW5jKGNoYW5uZWxfY2lkcywgbGFzdF9zeW5jX2F0KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICByZXR1cm4gdGhpcy5wb3N0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvc3luY1wiKSwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgIGNoYW5uZWxfY2lkczogY2hhbm5lbF9jaWRzLFxuICAgICAgICBsYXN0X3N5bmNfYXQ6IGxhc3Rfc3luY19hdFxuICAgICAgfSwgb3B0aW9ucykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBzZW5kVXNlckN1c3RvbUV2ZW50IC0gU2VuZCBhIGN1c3RvbSBldmVudCB0byBhIHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXRVc2VySUQgdGFyZ2V0IHVzZXIgaWRcbiAgICAgKiBAcGFyYW0ge1VzZXJDdXN0b21FdmVudH0gZXZlbnQgZm9yIGV4YW1wbGUge3R5cGU6ICdmcmllbmRzaGlwLXJlcXVlc3QnfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBUElSZXNwb25zZT59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlbmRVc2VyQ3VzdG9tRXZlbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZW5kVXNlckN1c3RvbUV2ZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYzKHRhcmdldFVzZXJJRCwgZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjMkKF9jb250ZXh0NjMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYzLnByZXYgPSBfY29udGV4dDYzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0NjMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL3VzZXJzL1wiKS5jb25jYXQodGFyZ2V0VXNlcklELCBcIi9ldmVudFwiKSwge1xuICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDYzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2MywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHNlbmRVc2VyQ3VzdG9tRXZlbnQoX3g4NSwgX3g4Nikge1xuICAgICAgICByZXR1cm4gX3NlbmRVc2VyQ3VzdG9tRXZlbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbmRVc2VyQ3VzdG9tRXZlbnQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlQmxvY2tMaXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUJsb2NrTGlzdChibG9ja0xpc3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvc3QoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9ibG9ja2xpc3RzXCIpLCBibG9ja0xpc3QpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsaXN0QmxvY2tMaXN0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsaXN0QmxvY2tMaXN0cygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL2Jsb2NrbGlzdHNcIikpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRCbG9ja0xpc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QmxvY2tMaXN0KG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL2Jsb2NrbGlzdHMvXCIpLmNvbmNhdChuYW1lKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInVwZGF0ZUJsb2NrTGlzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCbG9ja0xpc3QobmFtZSwgZGF0YSkge1xuICAgICAgcmV0dXJuIHRoaXMucHV0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvYmxvY2tsaXN0cy9cIikuY29uY2F0KG5hbWUpLCBkYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGVsZXRlQmxvY2tMaXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGV0ZUJsb2NrTGlzdChuYW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5kZWxldGUoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9ibG9ja2xpc3RzL1wiKS5jb25jYXQobmFtZSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleHBvcnRDaGFubmVsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleHBvcnRDaGFubmVscyhyZXF1ZXN0KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIHZhciBwYXlsb2FkID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgIGNoYW5uZWxzOiByZXF1ZXN0XG4gICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgcmV0dXJuIHRoaXMucG9zdChcIlwiLmNvbmNhdCh0aGlzLmJhc2VVUkwsIFwiL2V4cG9ydF9jaGFubmVsc1wiKSwgcGF5bG9hZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4cG9ydFVzZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4cG9ydFVzZXJzKHJlcXVlc3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnBvc3QoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9leHBvcnQvdXNlcnNcIiksIHJlcXVlc3QpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleHBvcnRDaGFubmVsXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4cG9ydENoYW5uZWwocmVxdWVzdCwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuZXhwb3J0Q2hhbm5lbHMoW3JlcXVlc3RdLCBvcHRpb25zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0RXhwb3J0Q2hhbm5lbFN0YXR1c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFeHBvcnRDaGFubmVsU3RhdHVzKGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoXCJcIi5jb25jYXQodGhpcy5iYXNlVVJMLCBcIi9leHBvcnRfY2hhbm5lbHMvXCIpLmNvbmNhdChpZCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjYW1wYWlnblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYW1wYWlnbihpZE9yRGF0YSwgZGF0YSkge1xuICAgICAgaWYgKGlkT3JEYXRhICYmIF90eXBlb2YoaWRPckRhdGEpID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IENhbXBhaWduKHRoaXMsIG51bGwsIGlkT3JEYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBDYW1wYWlnbih0aGlzLCBpZE9yRGF0YSwgZGF0YSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNlZ21lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VnbWVudCh0eXBlLCBpZE9yRGF0YSwgZGF0YSkge1xuICAgICAgaWYgKHR5cGVvZiBpZE9yRGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWdtZW50KHRoaXMsIHR5cGUsIGlkT3JEYXRhLCBkYXRhKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBTZWdtZW50KHRoaXMsIHR5cGUsIG51bGwsIGlkT3JEYXRhKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidmFsaWRhdGVTZXJ2ZXJTaWRlQXV0aFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZVNlcnZlclNpZGVBdXRoKCkge1xuICAgICAgaWYgKCF0aGlzLnNlY3JldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbXBhaWducyBpcyBhIHNlcnZlci1zaWRlIG9ubHkgZmVhdHVyZS4gUGxlYXNlIGluaXRpYWxpemUgdGhlIGNsaWVudCB3aXRoIGEgc2VjcmV0IHRvIHVzZSB0aGlzIGZlYXR1cmUuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNyZWF0ZVNlZ21lbnQgLSBDcmVhdGVzIGEgc2VnbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1NlZ21lbnRUeXBlfSB0eXBlIFNlZ21lbnQgdHlwZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBTZWdtZW50IElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgU2VnbWVudCBuYW1lXG4gICAgICogQHBhcmFtIHtTZWdtZW50RGF0YX0gcGFyYW1zIFNlZ21lbnQgZGF0YVxuICAgICAqXG4gICAgICogQHJldHVybiB7e3NlZ21lbnQ6IFNlZ21lbnRSZXNwb25zZX0gJiBBUElSZXNwb25zZX0gVGhlIGNyZWF0ZWQgU2VnbWVudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlU2VnbWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NyZWF0ZVNlZ21lbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjQodHlwZSwgaWQsIGRhdGEpIHtcbiAgICAgICAgdmFyIGJvZHk7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY0JChfY29udGV4dDY0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2NC5wcmV2ID0gX2NvbnRleHQ2NC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlU2VydmVyU2lkZUF1dGgoKTtcbiAgICAgICAgICAgICAgICBib2R5ID0gX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXG4gICAgICAgICAgICAgICAgfSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjQuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9zZWdtZW50c1wiLCBib2R5KSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjQuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTY0LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gY3JlYXRlU2VnbWVudChfeDg3LCBfeDg4LCBfeDg5KSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlU2VnbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3JlYXRlU2VnbWVudDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBjcmVhdGVVc2VyU2VnbWVudCAtIENyZWF0ZXMgYSB1c2VyIHNlZ21lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBTZWdtZW50IElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgU2VnbWVudCBuYW1lXG4gICAgICogQHBhcmFtIHtTZWdtZW50RGF0YX0gZGF0YSBTZWdtZW50IGRhdGFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NlZ21lbnR9IFRoZSBjcmVhdGVkIFNlZ21lbnRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZVVzZXJTZWdtZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY3JlYXRlVXNlclNlZ21lbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjUoaWQsIGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNjUkKF9jb250ZXh0NjUpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDY1LnByZXYgPSBfY29udGV4dDY1Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVTZXJ2ZXJTaWRlQXV0aCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY1LmFicnVwdChcInJldHVyblwiLCB0aGlzLmNyZWF0ZVNlZ21lbnQoJ3VzZXInLCBpZCwgZGF0YSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2NSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZVVzZXJTZWdtZW50KF94OTAsIF94OTEpIHtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVVc2VyU2VnbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3JlYXRlVXNlclNlZ21lbnQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogY3JlYXRlQ2hhbm5lbFNlZ21lbnQgLSBDcmVhdGVzIGEgY2hhbm5lbCBzZWdtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgU2VnbWVudCBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFNlZ21lbnQgbmFtZVxuICAgICAqIEBwYXJhbSB7U2VnbWVudERhdGF9IGRhdGEgU2VnbWVudCBkYXRhXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTZWdtZW50fSBUaGUgY3JlYXRlZCBTZWdtZW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVDaGFubmVsU2VnbWVudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NyZWF0ZUNoYW5uZWxTZWdtZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTY2KGlkLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY2JChfY29udGV4dDY2KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2Ni5wcmV2ID0gX2NvbnRleHQ2Ni5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlU2VydmVyU2lkZUF1dGgoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Ni5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5jcmVhdGVTZWdtZW50KCdjaGFubmVsJywgaWQsIGRhdGEpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Ni5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBjcmVhdGVDaGFubmVsU2VnbWVudChfeDkyLCBfeDkzKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlQ2hhbm5lbFNlZ21lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNyZWF0ZUNoYW5uZWxTZWdtZW50O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImdldFNlZ21lbnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9nZXRTZWdtZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTY3KGlkKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY3JChfY29udGV4dDY3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2Ny5wcmV2ID0gX2NvbnRleHQ2Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlU2VydmVyU2lkZUF1dGgoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvc2VnbWVudHMvXCIuY29uY2F0KGlkKSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDY3LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU2NywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldFNlZ21lbnQoX3g5NCkge1xuICAgICAgICByZXR1cm4gX2dldFNlZ21lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFNlZ21lbnQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdXBkYXRlU2VnbWVudCAtIFVwZGF0ZSBhIHNlZ21lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBTZWdtZW50IElEXG4gICAgICogQHBhcmFtIHtQYXJ0aWFsPFVwZGF0ZVNlZ21lbnREYXRhPn0gZGF0YSBEYXRhIHRvIHVwZGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U2VnbWVudH0gVXBkYXRlZCBTZWdtZW50XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVTZWdtZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdXBkYXRlU2VnbWVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2OChpZCwgZGF0YSkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2OCQoX2NvbnRleHQ2OCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NjgucHJldiA9IF9jb250ZXh0NjgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVNlcnZlclNpZGVBdXRoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjguYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucHV0KHRoaXMuYmFzZVVSTCArIFwiL3NlZ21lbnRzL1wiLmNvbmNhdChpZCksIGRhdGEpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2OC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjgsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVTZWdtZW50KF94OTUsIF94OTYpIHtcbiAgICAgICAgcmV0dXJuIF91cGRhdGVTZWdtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cGRhdGVTZWdtZW50O1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGFkZFNlZ21lbnRUYXJnZXRzIC0gQWRkIHRhcmdldHMgdG8gYSBzZWdtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgU2VnbWVudCBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHRhcmdldHMgVGFyZ2V0cyB0byBhZGQgdG8gdGhlIHNlZ21lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FQSVJlc3BvbnNlfSBBUEkgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImFkZFNlZ21lbnRUYXJnZXRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfYWRkU2VnbWVudFRhcmdldHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNjkoaWQsIHRhcmdldHMpIHtcbiAgICAgICAgdmFyIGJvZHk7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTY5JChfY29udGV4dDY5KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2OS5wcmV2ID0gX2NvbnRleHQ2OS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlU2VydmVyU2lkZUF1dGgoKTtcbiAgICAgICAgICAgICAgICBib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X2lkczogdGFyZ2V0c1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NjkuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9zZWdtZW50cy9cIi5jb25jYXQoaWQsIFwiL2FkZHRhcmdldHNcIiksIGJvZHkpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2OS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNjksIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBhZGRTZWdtZW50VGFyZ2V0cyhfeDk3LCBfeDk4KSB7XG4gICAgICAgIHJldHVybiBfYWRkU2VnbWVudFRhcmdldHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZFNlZ21lbnRUYXJnZXRzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInF1ZXJ5U2VnbWVudFRhcmdldHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9xdWVyeVNlZ21lbnRUYXJnZXRzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcwKGlkKSB7XG4gICAgICAgIHZhciBmaWx0ZXIsXG4gICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzNzAgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTcwJChfY29udGV4dDcwKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3MC5wcmV2ID0gX2NvbnRleHQ3MC5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBmaWx0ZXIgPSBfYXJnczcwLmxlbmd0aCA+IDEgJiYgX2FyZ3M3MFsxXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M3MFsxXSA6IHt9O1xuICAgICAgICAgICAgICAgIHNvcnQgPSBfYXJnczcwLmxlbmd0aCA+IDIgJiYgX2FyZ3M3MFsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M3MFsyXSA6IFtdO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczcwLmxlbmd0aCA+IDMgJiYgX2FyZ3M3MFszXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M3MFszXSA6IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVTZXJ2ZXJTaWRlQXV0aCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcwLmFicnVwdChcInJldHVyblwiLCB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvc2VnbWVudHMvXCIuY29uY2F0KGlkLCBcIi90YXJnZXRzL3F1ZXJ5XCIpLCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIGZpbHRlcjogZmlsdGVyIHx8IHt9LFxuICAgICAgICAgICAgICAgICAgc29ydDogc29ydCB8fCBbXVxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMpKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTcwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnlTZWdtZW50VGFyZ2V0cyhfeDk5KSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlTZWdtZW50VGFyZ2V0cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcXVlcnlTZWdtZW50VGFyZ2V0cztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiByZW1vdmVTZWdtZW50VGFyZ2V0cyAtIFJlbW92ZSB0YXJnZXRzIGZyb20gYSBzZWdtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgU2VnbWVudCBJRFxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHRhcmdldHMgVGFyZ2V0cyB0byBhZGQgdG8gdGhlIHNlZ21lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FQSVJlc3BvbnNlfSBBUEkgcmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVNlZ21lbnRUYXJnZXRzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfcmVtb3ZlU2VnbWVudFRhcmdldHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzEoaWQsIHRhcmdldHMpIHtcbiAgICAgICAgdmFyIGJvZHk7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTcxJChfY29udGV4dDcxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3MS5wcmV2ID0gX2NvbnRleHQ3MS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlU2VydmVyU2lkZUF1dGgoKTtcbiAgICAgICAgICAgICAgICBib2R5ID0ge1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0X2lkczogdGFyZ2V0c1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzEuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9zZWdtZW50cy9cIi5jb25jYXQoaWQsIFwiL2RlbGV0ZXRhcmdldHNcIiksIGJvZHkpKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3MS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiByZW1vdmVTZWdtZW50VGFyZ2V0cyhfeDEwMCwgX3gxMDEpIHtcbiAgICAgICAgcmV0dXJuIF9yZW1vdmVTZWdtZW50VGFyZ2V0cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVtb3ZlU2VnbWVudFRhcmdldHM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcXVlcnlTZWdtZW50cyAtIFF1ZXJ5IFNlZ21lbnRzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2ZpbHRlcn0gZmlsdGVyIE1vbmdvREIgc3R5bGUgZmlsdGVyIGNvbmRpdGlvbnNcbiAgICAgKiBAcGFyYW0ge1F1ZXJ5U2VnbWVudHNPcHRpb25zfSBvcHRpb25zIE9wdGlvbnMgZm9yIHNvcnRpbmcvcGFnaW5hdGluZyB0aGUgcmVzdWx0c1xuICAgICAqXG4gICAgICogQHJldHVybiB7U2VnbWVudFtdfSBTZWdtZW50c1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicXVlcnlTZWdtZW50c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3F1ZXJ5U2VnbWVudHMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzIoZmlsdGVyLCBzb3J0KSB7XG4gICAgICAgIHZhciBvcHRpb25zLFxuICAgICAgICAgICAgX2FyZ3M3MiA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzIkKF9jb250ZXh0NzIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcyLnByZXYgPSBfY29udGV4dDcyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYXJnczcyLmxlbmd0aCA+IDIgJiYgX2FyZ3M3MlsyXSAhPT0gdW5kZWZpbmVkID8gX2FyZ3M3MlsyXSA6IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVTZXJ2ZXJTaWRlQXV0aCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcyLmFicnVwdChcInJldHVyblwiLCB0aGlzLnBvc3QodGhpcy5iYXNlVVJMICsgXCIvc2VnbWVudHMvcXVlcnlcIiwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgICAgICAgICAgICAgIHNvcnQ6IHNvcnRcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU3MiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIHF1ZXJ5U2VnbWVudHMoX3gxMDIsIF94MTAzKSB7XG4gICAgICAgIHJldHVybiBfcXVlcnlTZWdtZW50cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcXVlcnlTZWdtZW50cztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWxldGVTZWdtZW50IC0gRGVsZXRlIGEgQ2FtcGFpZ24gU2VnbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFNlZ21lbnQgSURcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8QVBJUmVzcG9uc2U+fSBUaGUgU2VydmVyIFJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVTZWdtZW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsZXRlU2VnbWVudCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3MyhpZCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3MyQoX2NvbnRleHQ3Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzMucHJldiA9IF9jb250ZXh0NzMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVNlcnZlclNpZGVBdXRoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzMuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuZGVsZXRlKHRoaXMuYmFzZVVSTCArIFwiL3NlZ21lbnRzL1wiLmNvbmNhdChpZCkpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVTZWdtZW50KF94MTA0KSB7XG4gICAgICAgIHJldHVybiBfZGVsZXRlU2VnbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsZXRlU2VnbWVudDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBzZWdtZW50VGFyZ2V0RXhpc3RzIC0gQ2hlY2sgaWYgYSB0YXJnZXQgZXhpc3RzIGluIGEgc2VnbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNlZ21lbnRJZCBTZWdtZW50IElEXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldElkIFRhcmdldCBJRFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBUElSZXNwb25zZT59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNlZ21lbnRUYXJnZXRFeGlzdHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zZWdtZW50VGFyZ2V0RXhpc3RzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc0KHNlZ21lbnRJZCwgdGFyZ2V0SWQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzQkKF9jb250ZXh0NzQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDc0LnByZXYgPSBfY29udGV4dDc0Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVTZXJ2ZXJTaWRlQXV0aCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc0LmFicnVwdChcInJldHVyblwiLCB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9zZWdtZW50cy9cIi5jb25jYXQoc2VnbWVudElkLCBcIi90YXJnZXQvXCIpLmNvbmNhdCh0YXJnZXRJZCkpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3NC5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzQsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzZWdtZW50VGFyZ2V0RXhpc3RzKF94MTA1LCBfeDEwNikge1xuICAgICAgICByZXR1cm4gX3NlZ21lbnRUYXJnZXRFeGlzdHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlZ21lbnRUYXJnZXRFeGlzdHM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogY3JlYXRlQ2FtcGFpZ24gLSBDcmVhdGVzIGEgQ2FtcGFpZ25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2FtcGFpZ25EYXRhfSBwYXJhbXMgQ2FtcGFpZ24gZGF0YVxuICAgICAqXG4gICAgICogQHJldHVybiB7Q2FtcGFpZ259IFRoZSBDcmVhdGVkIENhbXBhaWduXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVDYW1wYWlnblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NyZWF0ZUNhbXBhaWduID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc1KHBhcmFtcykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3NSQoX2NvbnRleHQ3NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzUucHJldiA9IF9jb250ZXh0NzUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVNlcnZlclNpZGVBdXRoKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzUuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9jYW1wYWlnbnNcIiwgX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zKSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc1LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU3NSwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbXBhaWduKF94MTA3KSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlQ2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNyZWF0ZUNhbXBhaWduO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcImdldENhbXBhaWduXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0Q2FtcGFpZ24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNzYoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzYkKF9jb250ZXh0NzYpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDc2LnByZXYgPSBfY29udGV4dDc2Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVTZXJ2ZXJTaWRlQXV0aCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc2LmFicnVwdChcInJldHVyblwiLCB0aGlzLmdldCh0aGlzLmJhc2VVUkwgKyBcIi9jYW1wYWlnbnMvXCIuY29uY2F0KGlkKSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc2LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU3NiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGdldENhbXBhaWduKF94MTA4KSB7XG4gICAgICAgIHJldHVybiBfZ2V0Q2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldENhbXBhaWduO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiBcInN0YXJ0Q2FtcGFpZ25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9zdGFydENhbXBhaWduID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc3KGlkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTc3JChfY29udGV4dDc3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3Ny5wcmV2ID0gX2NvbnRleHQ3Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlU2VydmVyU2lkZUF1dGgoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2NhbXBhaWducy9cIi5jb25jYXQoaWQsIFwiL3N0YXJ0XCIpLCB7XG4gICAgICAgICAgICAgICAgICBzY2hlZHVsZWRfZm9yOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2NoZWR1bGVkRm9yLFxuICAgICAgICAgICAgICAgICAgc3RvcF9hdDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnN0b3BBdFxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlNzcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzdGFydENhbXBhaWduKF94MTA5LCBfeDExMCkge1xuICAgICAgICByZXR1cm4gX3N0YXJ0Q2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXJ0Q2FtcGFpZ247XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogcXVlcnlDYW1wYWlnbnMgLSBRdWVyeSBDYW1wYWlnbnNcbiAgICAgKlxuICAgICAqXG4gICAgICogQHJldHVybiB7Q2FtcGFpZ25bXX0gQ2FtcGFpZ25zXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJxdWVyeUNhbXBhaWduc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3F1ZXJ5Q2FtcGFpZ25zID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc4KGZpbHRlciwgc29ydCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3OCQoX2NvbnRleHQ3OCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NzgucHJldiA9IF9jb250ZXh0NzgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVNlcnZlclNpZGVBdXRoKCk7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ3OC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2NhbXBhaWducy9xdWVyeVwiLCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICAgICAgICAgICAgc29ydDogc29ydFxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMgfHwge30pKTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NzguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0Nzguc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Nzguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTc4LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gcXVlcnlDYW1wYWlnbnMoX3gxMTEsIF94MTEyLCBfeDExMykge1xuICAgICAgICByZXR1cm4gX3F1ZXJ5Q2FtcGFpZ25zLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBxdWVyeUNhbXBhaWducztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiB1cGRhdGVDYW1wYWlnbiAtIFVwZGF0ZSBhIENhbXBhaWduXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgQ2FtcGFpZ24gSURcbiAgICAgKiBAcGFyYW0ge1BhcnRpYWw8Q2FtcGFpZ25EYXRhPn0gcGFyYW1zIENhbXBhaWduIGRhdGFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0NhbXBhaWdufSBVcGRhdGVkIENhbXBhaWduXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1cGRhdGVDYW1wYWlnblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3VwZGF0ZUNhbXBhaWduID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTc5KGlkLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNzkkKF9jb250ZXh0NzkpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDc5LnByZXYgPSBfY29udGV4dDc5Lm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVTZXJ2ZXJTaWRlQXV0aCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDc5LmFicnVwdChcInJldHVyblwiLCB0aGlzLnB1dCh0aGlzLmJhc2VVUkwgKyBcIi9jYW1wYWlnbnMvXCIuY29uY2F0KGlkKSwgcGFyYW1zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Nzkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTc5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBkYXRlQ2FtcGFpZ24oX3gxMTQsIF94MTE1KSB7XG4gICAgICAgIHJldHVybiBfdXBkYXRlQ2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZUNhbXBhaWduO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGRlbGV0ZUNhbXBhaWduIC0gRGVsZXRlIGEgQ2FtcGFpZ25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDYW1wYWlnbiBJRFxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxBUElSZXNwb25zZT59IFRoZSBTZXJ2ZXIgUmVzcG9uc2VcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZUNhbXBhaWduXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsZXRlQ2FtcGFpZ24gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlODAoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlODAkKF9jb250ZXh0ODApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgwLnByZXYgPSBfY29udGV4dDgwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGVTZXJ2ZXJTaWRlQXV0aCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgwLmFicnVwdChcInJldHVyblwiLCB0aGlzLmRlbGV0ZSh0aGlzLmJhc2VVUkwgKyBcIi9jYW1wYWlnbnMvXCIuY29uY2F0KGlkKSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgwLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4MCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUNhbXBhaWduKF94MTE2KSB7XG4gICAgICAgIHJldHVybiBfZGVsZXRlQ2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZUNhbXBhaWduO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIHN0b3BDYW1wYWlnbiAtIFN0b3AgYSBDYW1wYWlnblxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIENhbXBhaWduIElEXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtDYW1wYWlnbn0gU3RvcHBlZCBDYW1wYWlnblxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic3RvcENhbXBhaWduXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfc3RvcENhbXBhaWduID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgxKGlkKSB7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgxJChfY29udGV4dDgxKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4MS5wcmV2ID0gX2NvbnRleHQ4MS5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlU2VydmVyU2lkZUF1dGgoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4MS5hYnJ1cHQoXCJyZXR1cm5cIiwgdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2NhbXBhaWducy9cIi5jb25jYXQoaWQsIFwiL3N0b3BcIikpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4MS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBzdG9wQ2FtcGFpZ24oX3gxMTcpIHtcbiAgICAgICAgcmV0dXJuIF9zdG9wQ2FtcGFpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0b3BDYW1wYWlnbjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBlbnJpY2hVUkwgLSBHZXQgT3BlbkdyYXBoIGRhdGEgb2YgdGhlIGdpdmVuIGxpbmtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgbGlua1xuICAgICAqIEByZXR1cm4ge09HQXR0YWNobWVudH0gT0cgQXR0YWNobWVudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZW5yaWNoVVJMXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZW5yaWNoVVJMID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgyKHVybCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4MiQoX2NvbnRleHQ4Mikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODIucHJldiA9IF9jb250ZXh0ODIubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODIuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL29nXCIsIHtcbiAgICAgICAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDgyLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4MiwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGVucmljaFVSTChfeDExOCkge1xuICAgICAgICByZXR1cm4gX2VucmljaFVSTC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZW5yaWNoVVJMO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGdldFRhc2sgLSBHZXRzIHN0YXR1cyBvZiBhIGxvbmcgcnVubmluZyB0YXNrXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGFzayBJRFxuICAgICAqXG4gICAgICogQHJldHVybiB7VGFza1N0YXR1c30gVGhlIHRhc2sgc3RhdHVzXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRUYXNrXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0VGFzayA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4MyhpZCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4MyQoX2NvbnRleHQ4Mykge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODMucHJldiA9IF9jb250ZXh0ODMubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODMuYWJydXB0KFwicmV0dXJuXCIsIHRoaXMuZ2V0KFwiXCIuY29uY2F0KHRoaXMuYmFzZVVSTCwgXCIvdGFza3MvXCIpLmNvbmNhdChpZCkpKTtcblxuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4My5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODMsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBnZXRUYXNrKF94MTE5KSB7XG4gICAgICAgIHJldHVybiBfZ2V0VGFzay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0VGFzaztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBkZWxldGVDaGFubmVscyAtIERlbGV0ZXMgYSBsaXN0IG9mIGNoYW5uZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGNpZHMgQ2hhbm5lbCBDSURzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5oYXJkX2RlbGV0ZV0gRGVmaW5lcyBpZiB0aGUgY2hhbm5lbCBpcyBoYXJkIGRlbGV0ZWQgb3Igbm90XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtEZWxldGVDaGFubmVsc1Jlc3BvbnNlfSBSZXN1bHQgb2YgdGhlIHNvZnQgZGVsZXRpb24sIGlmIHNlcnZlci1zaWRlLCBpdCBob2xkcyB0aGUgdGFzayBJRCBhcyB3ZWxsXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVDaGFubmVsc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2RlbGV0ZUNoYW5uZWxzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTg0KGNpZHMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczg0ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4NCQoX2NvbnRleHQ4NCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODQucHJldiA9IF9jb250ZXh0ODQubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzODQubGVuZ3RoID4gMSAmJiBfYXJnczg0WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczg0WzFdIDoge307XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4NC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2NoYW5uZWxzL2RlbGV0ZVwiLCBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICAgICAgICAgIGNpZHM6IGNpZHNcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDg0LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDg0LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDg0LnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU4NCwgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUNoYW5uZWxzKF94MTIwKSB7XG4gICAgICAgIHJldHVybiBfZGVsZXRlQ2hhbm5lbHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZUNoYW5uZWxzO1xuICAgIH0oKVxuICAgIC8qKlxuICAgICAqIGRlbGV0ZVVzZXJzIC0gQmF0Y2ggRGVsZXRlIFVzZXJzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSB1c2VyX2lkcyB3aGljaCB1c2VycyB0byBkZWxldGVcbiAgICAgKiBAcGFyYW0ge0RlbGV0ZVVzZXJPcHRpb25zfSBvcHRpb25zIENvbmZpZ3VyYXRpb24gaG93IHRvIGRlbGV0ZSB1c2Vyc1xuICAgICAqXG4gICAgICogQHJldHVybiB7VGFza1Jlc3BvbnNlfSBBIHRhc2sgSURcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlbGV0ZVVzZXJzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZGVsZXRlVXNlcnMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlODUodXNlcl9pZHMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBfYXJnczg1ID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4NSQoX2NvbnRleHQ4NSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODUucHJldiA9IF9jb250ZXh0ODUubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hcmdzODUubGVuZ3RoID4gMSAmJiBfYXJnczg1WzFdICE9PSB1bmRlZmluZWQgPyBfYXJnczg1WzFdIDoge307XG5cbiAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2Ygb3B0aW9ucy51c2VyICE9PSAndW5kZWZpbmVkJyAmJiAhWydzb2Z0JywgJ2hhcmQnLCAncHJ1bmluZyddLmluY2x1ZGVzKG9wdGlvbnMudXNlcikpKSB7XG4gICAgICAgICAgICAgICAgICBfY29udGV4dDg1Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGRlbGV0ZSB1c2VyIG9wdGlvbnMuIHVzZXIgbXVzdCBiZSBvbmUgb2YgW3NvZnQgaGFyZCBwcnVuaW5nXScpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAoISh0eXBlb2Ygb3B0aW9ucy5jb252ZXJzYXRpb25zICE9PSAndW5kZWZpbmVkJyAmJiAhWydzb2Z0JywgJ2hhcmQnXS5pbmNsdWRlcyhvcHRpb25zLmNvbnZlcnNhdGlvbnMpKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4NS5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkZWxldGUgdXNlciBvcHRpb25zLiBjb252ZXJzYXRpb25zIG11c3QgYmUgb25lIG9mIFtzb2Z0IGhhcmRdJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIGlmICghKHR5cGVvZiBvcHRpb25zLm1lc3NhZ2VzICE9PSAndW5kZWZpbmVkJyAmJiAhWydzb2Z0JywgJ2hhcmQnLCAncHJ1bmluZyddLmluY2x1ZGVzKG9wdGlvbnMubWVzc2FnZXMpKSkge1xuICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4NS5uZXh0ID0gNztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBkZWxldGUgdXNlciBvcHRpb25zLiBtZXNzYWdlcyBtdXN0IGJlIG9uZSBvZiBbc29mdCBoYXJkIHBydW5pbmddJyk7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIF9jb250ZXh0ODUubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi91c2Vycy9kZWxldGVcIiwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICB1c2VyX2lkczogdXNlcl9pZHNcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDg1LmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDg1LnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4NS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODUsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVVc2VycyhfeDEyMSkge1xuICAgICAgICByZXR1cm4gX2RlbGV0ZVVzZXJzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVVc2VycztcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlSW1wb3J0VVJMIC0gQ3JlYXRlIGFuIEltcG9ydCB1cGxvYWQgdXJsLlxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lIGZpbGVuYW1lIG9mIHVwbG9hZGVkIGRhdGFcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZSAmIENyZWF0ZUltcG9ydFJlc3BvbnNlfSBBbiBJbXBvcnRUYXNrXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfY3JlYXRlSW1wb3J0VVJMXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfY3JlYXRlSW1wb3J0VVJMMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4NihmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4NiQoX2NvbnRleHQ4Nikge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODYucHJldiA9IF9jb250ZXh0ODYubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4Ni5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2ltcG9ydF91cmxzXCIsIHtcbiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4Ni5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ4Ni5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4Ni5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODYsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfY3JlYXRlSW1wb3J0VVJMKF94MTIyKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlSW1wb3J0VVJMMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2NyZWF0ZUltcG9ydFVSTDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfY3JlYXRlSW1wb3J0IC0gQ3JlYXRlIGFuIEltcG9ydCBUYXNrLlxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggcGF0aCBvZiB1cGxvYWRlZCBkYXRhXG4gICAgICogQHBhcmFtIHtDcmVhdGVJbXBvcnRPcHRpb25zfSBvcHRpb25zIGltcG9ydCBvcHRpb25zXG4gICAgICogQHJldHVybiB7QVBJUmVzcG9uc2UgJiBDcmVhdGVJbXBvcnRSZXNwb25zZX0gQW4gSW1wb3J0VGFza1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiX2NyZWF0ZUltcG9ydFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NyZWF0ZUltcG9ydDIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlODcocGF0aCkge1xuICAgICAgICB2YXIgb3B0aW9ucyxcbiAgICAgICAgICAgIF9hcmdzODcgPSBhcmd1bWVudHM7XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTg3JChfY29udGV4dDg3KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4Ny5wcmV2ID0gX2NvbnRleHQ4Ny5uZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2FyZ3M4Ny5sZW5ndGggPiAxICYmIF9hcmdzODdbMV0gIT09IHVuZGVmaW5lZCA/IF9hcmdzODdbMV0gOiB7XG4gICAgICAgICAgICAgICAgICBtb2RlOiAndXBzZXJ0J1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4Ny5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0KHRoaXMuYmFzZVVSTCArIFwiL2ltcG9ydHNcIiwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoXG4gICAgICAgICAgICAgICAgfSwgb3B0aW9ucykpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4Ny5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ4Ny5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4Ny5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlODcsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBfY3JlYXRlSW1wb3J0KF94MTIzKSB7XG4gICAgICAgIHJldHVybiBfY3JlYXRlSW1wb3J0Mi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2NyZWF0ZUltcG9ydDtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBfZ2V0SW1wb3J0IC0gR2V0IGFuIEltcG9ydCBUYXNrLlxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIGlkIG9mIEltcG9ydCBUYXNrXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZSAmIEdldEltcG9ydFJlc3BvbnNlfSBBbiBJbXBvcnRUYXNrXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfZ2V0SW1wb3J0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfZ2V0SW1wb3J0MiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4OChpZCkge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4OCQoX2NvbnRleHQ4OCkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODgucHJldiA9IF9jb250ZXh0ODgubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4OC5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvaW1wb3J0cy9cIi5jb25jYXQoaWQpKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODguYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0ODguc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODguc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTg4LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX2dldEltcG9ydChfeDEyNCkge1xuICAgICAgICByZXR1cm4gX2dldEltcG9ydDIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9nZXRJbXBvcnQ7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogX2xpc3RJbXBvcnRzIC0gTGlzdHMgSW1wb3J0IFRhc2tzLlxuICAgICAqXG4gICAgICogTm90ZTogRG8gbm90IHVzZSB0aGlzLlxuICAgICAqIEl0IGlzIHByZXNlbnQgZm9yIGludGVybmFsIHVzYWdlIG9ubHkuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4sIGFuZCB3aWxsLCBicmVhayBhbmQvb3IgYmUgcmVtb3ZlZCBhdCBhbnkgcG9pbnQgaW4gdGltZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtMaXN0SW1wb3J0c1BhZ2luYXRpb25PcHRpb25zfSBvcHRpb25zIHBhZ2luYXRpb24gb3B0aW9uc1xuICAgICAqXG4gICAgICogQHJldHVybiB7QVBJUmVzcG9uc2UgJiBMaXN0SW1wb3J0c1Jlc3BvbnNlfSBBbiBJbXBvcnRUYXNrXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJfbGlzdEltcG9ydHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9saXN0SW1wb3J0czIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlODkob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4OSQoX2NvbnRleHQ4OSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0ODkucHJldiA9IF9jb250ZXh0ODkubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ4OS5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5iYXNlVVJMICsgXCIvaW1wb3J0c1wiLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODkuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0ODkuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0ODkuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTg5LCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gX2xpc3RJbXBvcnRzKF94MTI1KSB7XG4gICAgICAgIHJldHVybiBfbGlzdEltcG9ydHMyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfbGlzdEltcG9ydHM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogdXBzZXJ0UHVzaFByb3ZpZGVyIC0gQ3JlYXRlIG9yIFVwZGF0ZSBhIHB1c2ggcHJvdmlkZXJcbiAgICAgKlxuICAgICAqIE5vdGU6IFdvcmtzIG9ubHkgZm9yIHYyIHB1c2ggdmVyc2lvbiBpcyBlbmFibGVkIG9uIGFwcCBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UHVzaFByb3ZpZGVyQ29uZmlnfSBjb25maWd1cmF0aW9uIG9mIHRoZSBwcm92aWRlciB5b3Ugd2FudCB0byBjcmVhdGUgb3IgdXBkYXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZSAmIFB1c2hQcm92aWRlclVwc2VydFJlc3BvbnNlfSBBIHB1c2ggcHJvdmlkZXJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInVwc2VydFB1c2hQcm92aWRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3Vwc2VydFB1c2hQcm92aWRlciA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5MChwdXNoUHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOTAkKF9jb250ZXh0OTApIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkwLnByZXYgPSBfY29udGV4dDkwLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0OTAubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9wdXNoX3Byb3ZpZGVyc1wiLCB7XG4gICAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyOiBwdXNoUHJvdmlkZXJcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OTAuYWJydXB0KFwicmV0dXJuXCIsIF9jb250ZXh0OTAuc2VudCk7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OTAuc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgX2NhbGxlZTkwLCB0aGlzKTtcbiAgICAgIH0pKTtcblxuICAgICAgZnVuY3Rpb24gdXBzZXJ0UHVzaFByb3ZpZGVyKF94MTI2KSB7XG4gICAgICAgIHJldHVybiBfdXBzZXJ0UHVzaFByb3ZpZGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cHNlcnRQdXNoUHJvdmlkZXI7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogZGVsZXRlUHVzaFByb3ZpZGVyIC0gRGVsZXRlIGEgcHVzaCBwcm92aWRlclxuICAgICAqXG4gICAgICogTm90ZTogV29ya3Mgb25seSBmb3IgdjIgcHVzaCB2ZXJzaW9uIGlzIGVuYWJsZWQgb24gYXBwIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQdXNoUHJvdmlkZXJJRH0gdHlwZSBhbmQgZm9yZWlnbiBpZCBvZiB0aGUgcHVzaCBwcm92aWRlciB0byBiZSBkZWxldGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtBUElSZXNwb25zZX0gQW4gQVBJIHJlc3BvbnNlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJkZWxldGVQdXNoUHJvdmlkZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9kZWxldGVQdXNoUHJvdmlkZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOTEoX3JlZjEwKSB7XG4gICAgICAgIHZhciB0eXBlLCBuYW1lO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5MSQoX2NvbnRleHQ5MSkge1xuICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OTEucHJldiA9IF9jb250ZXh0OTEubmV4dCkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgdHlwZSA9IF9yZWYxMC50eXBlLCBuYW1lID0gX3JlZjEwLm5hbWU7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQ5MS5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWxldGUodGhpcy5iYXNlVVJMICsgXCIvcHVzaF9wcm92aWRlcnMvXCIuY29uY2F0KHR5cGUsIFwiL1wiKS5jb25jYXQobmFtZSkpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5MS5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ5MS5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5MS5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOTEsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBkZWxldGVQdXNoUHJvdmlkZXIoX3gxMjcpIHtcbiAgICAgICAgcmV0dXJuIF9kZWxldGVQdXNoUHJvdmlkZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZVB1c2hQcm92aWRlcjtcbiAgICB9KClcbiAgICAvKipcbiAgICAgKiBsaXN0UHVzaFByb3ZpZGVycyAtIEdldCBhbGwgcHVzaCBwcm92aWRlcnMgaW4gdGhlIGFwcFxuICAgICAqXG4gICAgICogTm90ZTogV29ya3Mgb25seSBmb3IgdjIgcHVzaCB2ZXJzaW9uIGlzIGVuYWJsZWQgb24gYXBwIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7QVBJUmVzcG9uc2UgJiBQdXNoUHJvdmlkZXJMaXN0UmVzcG9uc2V9IEEgcHVzaCBwcm92aWRlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibGlzdFB1c2hQcm92aWRlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9saXN0UHVzaFByb3ZpZGVycyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5MigpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOTIkKF9jb250ZXh0OTIpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkyLnByZXYgPSBfY29udGV4dDkyLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0OTIubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMuYmFzZVVSTCArIFwiL3B1c2hfcHJvdmlkZXJzXCIpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5Mi5hYnJ1cHQoXCJyZXR1cm5cIiwgX2NvbnRleHQ5Mi5zZW50KTtcblxuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5Mi5zdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LCBfY2FsbGVlOTIsIHRoaXMpO1xuICAgICAgfSkpO1xuXG4gICAgICBmdW5jdGlvbiBsaXN0UHVzaFByb3ZpZGVycygpIHtcbiAgICAgICAgcmV0dXJuIF9saXN0UHVzaFByb3ZpZGVycy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGlzdFB1c2hQcm92aWRlcnM7XG4gICAgfSgpXG4gICAgLyoqXG4gICAgICogY3JlYXRlcyBhbiBhYm9ydCBjb250cm9sbGVyIHRoYXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBuZXh0IEhUVFAgUmVxdWVzdC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImNyZWF0ZUFib3J0Q29udHJvbGxlckZvck5leHRSZXF1ZXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUFib3J0Q29udHJvbGxlckZvck5leHRSZXF1ZXN0KCkge1xuICAgICAgcmV0dXJuIHRoaXMubmV4dFJlcXVlc3RBYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGNvbW1pdHMgYSBwZW5kaW5nIG1lc3NhZ2UsIG1ha2luZyBpdCB2aXNpYmxlIGluIHRoZSBjaGFubmVsIGFuZCBmb3Igb3RoZXIgdXNlcnNcbiAgICAgKiBAcGFyYW0gaWQgdGhlIG1lc3NhZ2UgaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0FQSVJlc3BvbnNlICYgTWVzc2FnZVJlc3BvbnNlfSBUaGUgbWVzc2FnZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiY29tbWl0TWVzc2FnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX2NvbW1pdE1lc3NhZ2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOTMoaWQpIHtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOTMkKF9jb250ZXh0OTMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkge1xuICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkzLnByZXYgPSBfY29udGV4dDkzLm5leHQpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF9jb250ZXh0OTMubmV4dCA9IDI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zdCh0aGlzLmJhc2VVUkwgKyBcIi9tZXNzYWdlcy9cIi5jb25jYXQoaWQsIFwiL2NvbW1pdFwiKSk7XG5cbiAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkzLmFicnVwdChcInJldHVyblwiLCBfY29udGV4dDkzLnNlbnQpO1xuXG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkzLnN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIF9jYWxsZWU5MywgdGhpcyk7XG4gICAgICB9KSk7XG5cbiAgICAgIGZ1bmN0aW9uIGNvbW1pdE1lc3NhZ2UoX3gxMjgpIHtcbiAgICAgICAgcmV0dXJuIF9jb21taXRNZXNzYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21taXRNZXNzYWdlO1xuICAgIH0oKVxuICB9XSwgW3tcbiAgICBrZXk6IFwiZ2V0SW5zdGFuY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5zdGFuY2Uoa2V5LCBzZWNyZXRPck9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghU3RyZWFtQ2hhdC5faW5zdGFuY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWNyZXRPck9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgU3RyZWFtQ2hhdC5faW5zdGFuY2UgPSBuZXcgU3RyZWFtQ2hhdChrZXksIHNlY3JldE9yT3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgU3RyZWFtQ2hhdC5faW5zdGFuY2UgPSBuZXcgU3RyZWFtQ2hhdChrZXksIHNlY3JldE9yT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFN0cmVhbUNoYXQuX2luc3RhbmNlO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTdHJlYW1DaGF0O1xufSgpO1xuXG5fZGVmaW5lUHJvcGVydHkoU3RyZWFtQ2hhdCwgXCJfaW5zdGFuY2VcIiwgdm9pZCAwKTtcblxudmFyIEVWRU5UX01BUCA9IHtcbiAgJ2NoYW5uZWwuY3JlYXRlZCc6IHRydWUsXG4gICdjaGFubmVsLmRlbGV0ZWQnOiB0cnVlLFxuICAnY2hhbm5lbC5oaWRkZW4nOiB0cnVlLFxuICAnY2hhbm5lbC5raWNrZWQnOiB0cnVlLFxuICAnY2hhbm5lbC5tdXRlZCc6IHRydWUsXG4gICdjaGFubmVsLnRydW5jYXRlZCc6IHRydWUsXG4gICdjaGFubmVsLnVubXV0ZWQnOiB0cnVlLFxuICAnY2hhbm5lbC51cGRhdGVkJzogdHJ1ZSxcbiAgJ2NoYW5uZWwudmlzaWJsZSc6IHRydWUsXG4gICdoZWFsdGguY2hlY2snOiB0cnVlLFxuICAnbWVtYmVyLmFkZGVkJzogdHJ1ZSxcbiAgJ21lbWJlci5yZW1vdmVkJzogdHJ1ZSxcbiAgJ21lbWJlci51cGRhdGVkJzogdHJ1ZSxcbiAgJ21lc3NhZ2UuZGVsZXRlZCc6IHRydWUsXG4gICdtZXNzYWdlLm5ldyc6IHRydWUsXG4gICdtZXNzYWdlLnJlYWQnOiB0cnVlLFxuICAnbWVzc2FnZS51cGRhdGVkJzogdHJ1ZSxcbiAgJ21lc3NhZ2UudW5kZWxldGVkJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5hZGRlZF90b19jaGFubmVsJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5jaGFubmVsX2RlbGV0ZWQnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLmNoYW5uZWxfbXV0ZXNfdXBkYXRlZCc6IHRydWUsXG4gICdub3RpZmljYXRpb24uY2hhbm5lbF90cnVuY2F0ZWQnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLmludml0ZV9hY2NlcHRlZCc6IHRydWUsXG4gICdub3RpZmljYXRpb24uaW52aXRlX3JlamVjdGVkJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5pbnZpdGVkJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5tYXJrX3JlYWQnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLm1hcmtfdW5yZWFkJzogdHJ1ZSxcbiAgJ25vdGlmaWNhdGlvbi5tZXNzYWdlX25ldyc6IHRydWUsXG4gICdub3RpZmljYXRpb24ubXV0ZXNfdXBkYXRlZCc6IHRydWUsXG4gICdub3RpZmljYXRpb24ucmVtb3ZlZF9mcm9tX2NoYW5uZWwnOiB0cnVlLFxuICAnbm90aWZpY2F0aW9uLnRocmVhZF9tZXNzYWdlX25ldyc6IHRydWUsXG4gICdyZWFjdGlvbi5kZWxldGVkJzogdHJ1ZSxcbiAgJ3JlYWN0aW9uLm5ldyc6IHRydWUsXG4gICdyZWFjdGlvbi51cGRhdGVkJzogdHJ1ZSxcbiAgJ3R5cGluZy5zdGFydCc6IHRydWUsXG4gICd0eXBpbmcuc3RvcCc6IHRydWUsXG4gICd1c2VyLmJhbm5lZCc6IHRydWUsXG4gICd1c2VyLmRlbGV0ZWQnOiB0cnVlLFxuICAndXNlci5wcmVzZW5jZS5jaGFuZ2VkJzogdHJ1ZSxcbiAgJ3VzZXIudW5iYW5uZWQnOiB0cnVlLFxuICAndXNlci51bnJlYWRfbWVzc2FnZV9yZW1pbmRlcic6IHRydWUsXG4gICd1c2VyLnVwZGF0ZWQnOiB0cnVlLFxuICAndXNlci53YXRjaGluZy5zdGFydCc6IHRydWUsXG4gICd1c2VyLndhdGNoaW5nLnN0b3AnOiB0cnVlLFxuICAvLyBsb2NhbCBldmVudHNcbiAgJ2NoYW5uZWxzLnF1ZXJpZWQnOiB0cnVlLFxuICAnY29ubmVjdGlvbi5jaGFuZ2VkJzogdHJ1ZSxcbiAgJ2Nvbm5lY3Rpb24ucmVjb3ZlcmVkJzogdHJ1ZSxcbiAgJ3RyYW5zcG9ydC5jaGFuZ2VkJzogdHJ1ZSxcbiAgJ2NhcGFiaWxpdGllcy5jaGFuZ2VkJzogdHJ1ZVxufTtcblxudmFyIEFsbG93ID0gJ0FsbG93JztcbnZhciBEZW55ID0gJ0RlbnknO1xudmFyIEFueVJlc291cmNlID0gWycqJ107XG52YXIgQW55Um9sZSA9IFsnKiddO1xudmFyIE1heFByaW9yaXR5ID0gOTk5O1xudmFyIE1pblByaW9yaXR5ID0gMTsgLy8gZGVwcmVjYXRlZCBwZXJtaXNzaW9uIG9iamVjdCBjbGFzcywgeW91IHNob3VsZCB1c2UgdGhlIG5ldyBwZXJtaXNzaW9uIHN5c3RlbSB2MiBhbmQgdXNlIHBlcm1pc3Npb25zXG4vLyBkZWZpbmVkIGluIEJ1aWx0aW5QZXJtaXNzaW9ucyB0byBjb25maWd1cmUgeW91ciBjaGFubmVsIHR5cGVzXG5cbnZhciBQZXJtaXNzaW9uID0gZnVuY3Rpb24gUGVybWlzc2lvbihuYW1lLCBwcmlvcml0eSkge1xuICB2YXIgcmVzb3VyY2VzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBBbnlSZXNvdXJjZTtcbiAgdmFyIHJvbGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBBbnlSb2xlO1xuICB2YXIgb3duZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IGZhbHNlO1xuICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiBBbGxvdztcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGVybWlzc2lvbik7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFjdGlvblwiLCB2b2lkIDApO1xuXG4gIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm93bmVyXCIsIHZvaWQgMCk7XG5cbiAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicHJpb3JpdHlcIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZXNvdXJjZXNcIiwgdm9pZCAwKTtcblxuICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJyb2xlc1wiLCB2b2lkIDApO1xuXG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIHRoaXMuYWN0aW9uID0gYWN0aW9uO1xuICB0aGlzLm93bmVyID0gb3duZXI7XG4gIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgdGhpcy5yZXNvdXJjZXMgPSByZXNvdXJjZXM7XG4gIHRoaXMucm9sZXMgPSByb2xlcztcbn07IC8vIGRlcHJlY2F0ZWRcblxudmFyIEFsbG93QWxsID0gbmV3IFBlcm1pc3Npb24oJ0FsbG93IGFsbCcsIE1heFByaW9yaXR5LCBBbnlSZXNvdXJjZSwgQW55Um9sZSwgZmFsc2UsIEFsbG93KTsgLy8gZGVwcmVjYXRlZFxuXG52YXIgRGVueUFsbCA9IG5ldyBQZXJtaXNzaW9uKCdEZW55IGFsbCcsIE1pblByaW9yaXR5LCBBbnlSZXNvdXJjZSwgQW55Um9sZSwgZmFsc2UsIERlbnkpO1xudmFyIEJ1aWx0aW5Sb2xlcyA9IHtcbiAgQWRtaW46ICdhZG1pbicsXG4gIEFub255bW91czogJ2Fub255bW91cycsXG4gIENoYW5uZWxNZW1iZXI6ICdjaGFubmVsX21lbWJlcicsXG4gIENoYW5uZWxNb2RlcmF0b3I6ICdjaGFubmVsX21vZGVyYXRvcicsXG4gIEd1ZXN0OiAnZ3Vlc3QnLFxuICBVc2VyOiAndXNlcidcbn07XG52YXIgQnVpbHRpblBlcm1pc3Npb25zID0ge1xuICBBZGRMaW5rczogJ0FkZCBMaW5rcycsXG4gIEJhblVzZXI6ICdCYW4gVXNlcicsXG4gIENyZWF0ZUNoYW5uZWw6ICdDcmVhdGUgQ2hhbm5lbCcsXG4gIENyZWF0ZU1lc3NhZ2U6ICdDcmVhdGUgTWVzc2FnZScsXG4gIENyZWF0ZVJlYWN0aW9uOiAnQ3JlYXRlIFJlYWN0aW9uJyxcbiAgRGVsZXRlQW55QXR0YWNobWVudDogJ0RlbGV0ZSBBbnkgQXR0YWNobWVudCcsXG4gIERlbGV0ZUFueUNoYW5uZWw6ICdEZWxldGUgQW55IENoYW5uZWwnLFxuICBEZWxldGVBbnlNZXNzYWdlOiAnRGVsZXRlIEFueSBNZXNzYWdlJyxcbiAgRGVsZXRlQW55UmVhY3Rpb246ICdEZWxldGUgQW55IFJlYWN0aW9uJyxcbiAgRGVsZXRlT3duQXR0YWNobWVudDogJ0RlbGV0ZSBPd24gQXR0YWNobWVudCcsXG4gIERlbGV0ZU93bkNoYW5uZWw6ICdEZWxldGUgT3duIENoYW5uZWwnLFxuICBEZWxldGVPd25NZXNzYWdlOiAnRGVsZXRlIE93biBNZXNzYWdlJyxcbiAgRGVsZXRlT3duUmVhY3Rpb246ICdEZWxldGUgT3duIFJlYWN0aW9uJyxcbiAgUmVhZEFueUNoYW5uZWw6ICdSZWFkIEFueSBDaGFubmVsJyxcbiAgUmVhZE93bkNoYW5uZWw6ICdSZWFkIE93biBDaGFubmVsJyxcbiAgUnVuTWVzc2FnZUFjdGlvbjogJ1J1biBNZXNzYWdlIEFjdGlvbicsXG4gIFVwZGF0ZUFueUNoYW5uZWw6ICdVcGRhdGUgQW55IENoYW5uZWwnLFxuICBVcGRhdGVBbnlNZXNzYWdlOiAnVXBkYXRlIEFueSBNZXNzYWdlJyxcbiAgVXBkYXRlTWVtYmVyc0FueUNoYW5uZWw6ICdVcGRhdGUgTWVtYmVycyBBbnkgQ2hhbm5lbCcsXG4gIFVwZGF0ZU1lbWJlcnNPd25DaGFubmVsOiAnVXBkYXRlIE1lbWJlcnMgT3duIENoYW5uZWwnLFxuICBVcGRhdGVPd25DaGFubmVsOiAnVXBkYXRlIE93biBDaGFubmVsJyxcbiAgVXBkYXRlT3duTWVzc2FnZTogJ1VwZGF0ZSBPd24gTWVzc2FnZScsXG4gIFVwbG9hZEF0dGFjaG1lbnQ6ICdVcGxvYWQgQXR0YWNobWVudCcsXG4gIFVzZUZyb3plbkNoYW5uZWw6ICdTZW5kIG1lc3NhZ2VzIGFuZCByZWFjdGlvbnMgdG8gZnJvemVuIGNoYW5uZWxzJ1xufTtcblxuZXhwb3J0IHsgQWxsb3csIEFsbG93QWxsLCBBbnlSZXNvdXJjZSwgQW55Um9sZSwgQnVpbHRpblBlcm1pc3Npb25zLCBCdWlsdGluUm9sZXMsIENhbXBhaWduLCBDaGFubmVsLCBDaGFubmVsU3RhdGUsIENoZWNrU2lnbmF0dXJlLCBDbGllbnRTdGF0ZSwgRGVueSwgRGVueUFsbCwgRGV2VG9rZW4sIEVWRU5UX01BUCwgRXJyb3JGcm9tUmVzcG9uc2UsIEluc2lnaHRNZXRyaWNzLCBKV1RTZXJ2ZXJUb2tlbiwgSldUVXNlclRva2VuLCBNYXhQcmlvcml0eSwgTWluUHJpb3JpdHksIFBlcm1pc3Npb24sIFNlZ21lbnQsIFN0YWJsZVdTQ29ubmVjdGlvbiwgU3RyZWFtQ2hhdCwgVGhyZWFkLCBUb2tlbk1hbmFnZXIsIFVzZXJGcm9tVG9rZW4sIGJ1aWxkV3NGYXRhbEluc2lnaHQsIGJ1aWxkV3NTdWNjZXNzQWZ0ZXJGYWlsdXJlSW5zaWdodCwgY2hhdENvZGVzLCBkZWNvZGVCYXNlNjQsIGVuY29kZUJhc2U2NCwgZm9ybWF0TWVzc2FnZSwgaXNPd25Vc2VyLCBsb2dDaGF0UHJvbWlzZUV4ZWN1dGlvbiwgcG9zdEluc2lnaHRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJmcm9tQnl0ZUFycmF5IiwiX2V4dGVuZHMiLCJfdHlwZW9mIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJfY3JlYXRlQ2xhc3MiLCJfZGVmaW5lUHJvcGVydHkiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwiYXhpb3MiLCJodHRwcyIsIl9zbGljZWRUb0FycmF5IiwiRm9ybURhdGEiLCJXZWJTb2NrZXQiLCJqd3QiLCJjcnlwdG8kMSIsIl9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQiLCJfaW5oZXJpdHMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9nZXRQcm90b3R5cGVPZiIsIl93cmFwTmF0aXZlU3VwZXIiLCJpc1N0cmluZyQxIiwiYXJyYXlPclN0cmluZyIsImlzTWFwU3RyaW5nQ2FsbGJhY2siLCJjYWxsYmFjayIsIm1hcCIsInJlcyIsImsiLCJsZW4iLCJsZW5ndGgiLCJjaGFyQXQiLCJrVmFsdWUiLCJtYXBwZWRWYWx1ZSIsIl9rIiwiX2xlbiIsIl9rVmFsdWUiLCJfbWFwcGVkVmFsdWUiLCJlbmNvZGVCYXNlNjQiLCJkYXRhIiwiVWludDhBcnJheSIsImNoYXIiLCJjaGFyQ29kZUF0IiwiZGVjb2RlQmFzZTY0IiwicyIsImUiLCJ3IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiTCIsImkiLCJiIiwiYyIsIngiLCJsIiwiYSIsInIiLCJBIiwib3duS2V5cyQ4Iiwib2JqZWN0IiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsImZpbHRlciIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkJDgiLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJzb3VyY2UiLCJmb3JFYWNoIiwia2V5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDQiLCJvIiwiYWxsb3dBcnJheUxpa2UiLCJpdCIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiQXJyYXkiLCJpc0FycmF5IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDQiLCJGIiwibiIsImRvbmUiLCJ2YWx1ZSIsIl9lIiwiX3giLCJ0b1N0cmluZyIsImYiLCJUeXBlRXJyb3IiLCJub3JtYWxDb21wbGV0aW9uIiwiZGlkRXJyIiwiZXJyIiwiY2FsbCIsInN0ZXAiLCJuZXh0IiwiX2UyIiwiX3gyIiwicmV0dXJuIiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkkNCIsInByb3RvdHlwZSIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJhcnIiLCJhcnIyIiwibG9nQ2hhdFByb21pc2VFeGVjdXRpb24iLCJwcm9taXNlIiwidGhlbiIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImNvbmNhdCIsInNsZWVwIiwibSIsIlByb21pc2UiLCJzZXRUaW1lb3V0IiwiaXNGdW5jdGlvbiIsIkZ1bmN0aW9uIiwiY2hhdENvZGVzIiwiVE9LRU5fRVhQSVJFRCIsIldTX0NMT1NFRF9TVUNDRVNTIiwiaXNSZWFkYWJsZVN0cmVhbSIsIm9iaiIsInJlYWRhYmxlIiwiX3JlYWQiLCJpc0J1ZmZlciIsImlzRmlsZVdlYkFQSSIsInVyaSIsIndpbmRvdyIsIkZpbGUiLCJpc093blVzZXIiLCJ1c2VyIiwidG90YWxfdW5yZWFkX2NvdW50IiwidW5kZWZpbmVkIiwiaXNCbG9iV2ViQVBJIiwiQmxvYiIsImlzT3duVXNlckJhc2VQcm9wZXJ0eSIsInByb3BlcnR5Iiwib3duVXNlckJhc2VQcm9wZXJ0aWVzIiwiY2hhbm5lbF9tdXRlcyIsImRldmljZXMiLCJtdXRlcyIsInVucmVhZF9jaGFubmVscyIsInVucmVhZF9jb3VudCIsInVucmVhZF90aHJlYWRzIiwiaW52aXNpYmxlIiwicm9sZXMiLCJhZGRGaWxlVG9Gb3JtRGF0YSIsImNvbnRlbnRUeXBlIiwiYXBwZW5kIiwic3BsaXQiLCJyZXZlcnNlIiwidHlwZSIsIm5vcm1hbGl6ZVF1ZXJ5U29ydCIsInNvcnQiLCJzb3J0RmllbGRzIiwic29ydEFyciIsIl9pdGVyYXRvciIsIl9zdGVwIiwiaXRlbSIsImVudHJpZXMiLCJfaSIsIl9lbnRyaWVzIiwiX2VudHJpZXMkX2kiLCJmaWVsZCIsImRpcmVjdGlvbiIsInJldHJ5SW50ZXJ2YWwiLCJudW1iZXJPZkZhaWx1cmVzIiwibWF4IiwiTWF0aCIsIm1pbiIsImZsb29yIiwicmFuZG9tIiwicmFuZG9tSWQiLCJnZW5lcmF0ZVVVSUR2NCIsImhleCIsImJ5dGVzIiwicGFkU3RhcnQiLCJnZXRSYW5kb21CeXRlcyIsInN1YmFycmF5IiwiZ2V0UmFuZG9tVmFsdWVzV2l0aE1hdGhSYW5kb20iLCJwb3ciLCJieXRlTGVuZ3RoIiwiZ2V0UmFuZG9tVmFsdWVzIiwiX2NyeXB0byIsImNyeXB0byIsImJpbmQiLCJtc0NyeXB0byIsImNvbnZlcnRFcnJvclRvSnNvbiIsImpzb25PYmoiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiXyIsImlzT25saW5lIiwibmF2IiwibmF2aWdhdG9yIiwib25MaW5lIiwiYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzIiwiY2IiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImF4aW9zUGFyYW1zU2VyaWFsaXplciIsInBhcmFtcyIsIm5ld1BhcmFtcyIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJqb2luIiwiZm9ybWF0TWVzc2FnZSIsIm1lc3NhZ2UiLCJfX2h0bWwiLCJodG1sIiwicGlubmVkX2F0IiwiRGF0ZSIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0Iiwic3RhdHVzIiwiYWRkVG9NZXNzYWdlTGlzdCIsIm1lc3NhZ2VzIiwidGltZXN0YW1wQ2hhbmdlZCIsInNvcnRCeSIsImFkZElmRG9lc05vdEV4aXN0IiwiYWRkTWVzc2FnZVRvTGlzdCIsIm1lc3NhZ2VBcnIiLCJtc2ciLCJpZCIsIm1lc3NhZ2VBcnJheUxlbmd0aCIsIm1lc3NhZ2VUaW1lIiwiZ2V0VGltZSIsIm1lc3NhZ2VJc05ld2VzdCIsImxlZnQiLCJtaWRkbGUiLCJyaWdodCIsInNwbGljZSIsIm93bktleXMkNyIsIl9vYmplY3RTcHJlYWQkNyIsIkNoYW5uZWxTdGF0ZSIsImNoYW5uZWwiLCJfdGhpcyIsIl9jaGFubmVsJHN0YXRlIiwiaXNVcFRvRGF0ZSIsIm1zZ0FycmF5IiwicmVzdWx0IiwicmVtb3ZlZCIsIl91cGRhdGVVc2VyTWVzc2FnZXMiLCJfbSR1c2VyIiwibWVzc2FnZVNldHMiLCJzZXQiLCJwYXJlbnRJZCIsInRocmVhZHMiLCJwaW5uZWRNZXNzYWdlcyIsImhhcmREZWxldGUiLCJfZGVsZXRlVXNlck1lc3NhZ2VzIiwiX20kdXNlcjIiLCJjaWQiLCJkZWxldGVkX2F0IiwibGF0ZXN0X3JlYWN0aW9ucyIsIm1lbnRpb25lZF91c2VycyIsIm93bl9yZWFjdGlvbnMiLCJwYXJlbnRfaWQiLCJyZXBseV9jb3VudCIsInRocmVhZF9wYXJ0aWNpcGFudHMiLCJfY2hhbm5lbCIsIndhdGNoZXJfY291bnQiLCJ0eXBpbmciLCJyZWFkIiwiaW5pdE1lc3NhZ2VzIiwicGVuZGluZ19tZXNzYWdlcyIsIm11dGVkVXNlcnMiLCJ3YXRjaGVycyIsIm1lbWJlcnMiLCJtZW1iZXJzaGlwIiwidW5yZWFkQ291bnQiLCJsYXN0X21lc3NhZ2VfYXQiLCJzdGF0ZSIsImdldCIsIl90aGlzJG1lc3NhZ2VTZXRzJGZpbiIsImZpbmQiLCJpc0N1cnJlbnQiLCJpbmRleCIsImZpbmRJbmRleCIsIl90aGlzJG1lc3NhZ2VTZXRzJGZpbjIiLCJpc0xhdGVzdCIsImFkZE1lc3NhZ2VTb3J0ZWQiLCJuZXdNZXNzYWdlIiwibWVzc2FnZVNldFRvQWRkVG9JZkRvZXNOb3RFeGlzdCIsImFkZE1lc3NhZ2VzU29ydGVkIiwibmV3TWVzc2FnZXMiLCJpbml0aWFsaXppbmciLCJfdGhpcyRmaW5kVGFyZ2V0TWVzc2EiLCJmaW5kVGFyZ2V0TWVzc2FnZVNldCIsIm1lc3NhZ2VzVG9BZGQiLCJ0YXJnZXRNZXNzYWdlU2V0SW5kZXgiLCJpc0Zyb21TaGFkb3dCYW5uZWRVc2VyIiwic2hhZG93ZWQiLCJpc01lc3NhZ2VGb3JtYXR0ZWQiLCJfdGhpcyRfY2hhbm5lbCIsImdldENsaWVudCIsInVwZGF0ZVVzZXJSZWZlcmVuY2UiLCJwYXJlbnRJRCIsInNob3dfaW5fY2hhbm5lbCIsIl9hZGRUb01lc3NhZ2VMaXN0IiwidGhyZWFkIiwidGhyZWFkTWVzc2FnZXMiLCJtZXNzYWdlU2V0IiwiYWRkUGlubmVkTWVzc2FnZXMiLCJhZGRQaW5uZWRNZXNzYWdlIiwicGlubmVkTWVzc2FnZSIsInJlbW92ZVBpbm5lZE1lc3NhZ2UiLCJfdGhpcyRyZW1vdmVNZXNzYWdlRnIiLCJyZW1vdmVNZXNzYWdlRnJvbUFycmF5IiwiYWRkUmVhY3Rpb24iLCJyZWFjdGlvbiIsImVuZm9yY2VfdW5pcXVlIiwiX3RoaXMyIiwibWVzc2FnZVdpdGhSZWFjdGlvbiIsIl91cGRhdGVNZXNzYWdlIiwiX2FkZE93blJlYWN0aW9uVG9NZXNzYWdlIiwib3duUmVhY3Rpb25zIiwiX3JlbW92ZU93blJlYWN0aW9uRnJvbU1lc3NhZ2UiLCJ1c2VySUQiLCJ1c2VyX2lkIiwicmVtb3ZlUmVhY3Rpb24iLCJfdGhpczMiLCJyZW1vdmVRdW90ZWRNZXNzYWdlUmVmZXJlbmNlcyIsIl90aGlzNCIsInBhcnNlTWVzc2FnZSIsIl9tJHBpbm5lZF9hdCIsIl9tJHVwZGF0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRNZXNzYWdlcyIsInF1b3RlZF9tZXNzYWdlX2lkIiwicXVvdGVkX21lc3NhZ2UiLCJhdHRhY2htZW50cyIsInVwZGF0ZUZ1bmMiLCJwaW5uZWQiLCJtc2dJbmRleCIsIm1lc3NhZ2VTZXRJbmRleCIsImZpbmRNZXNzYWdlU2V0SW5kZXgiLCJfbXNnSW5kZXgiLCJfbXNnSW5kZXgyIiwicmVtb3ZlTWVzc2FnZSIsIm1lc3NhZ2VUb1JlbW92ZSIsImlzUmVtb3ZlZCIsIl90aGlzJHJlbW92ZU1lc3NhZ2VGcjIiLCJfbWVzc2FnZVRvUmVtb3ZlJG1lc3MiLCJfdGhpcyRyZW1vdmVNZXNzYWdlRnIzIiwiX3JlbW92ZWQiLCJmaWx0ZXJFcnJvck1lc3NhZ2VzIiwiZmlsdGVyZWRNZXNzYWdlcyIsImxhdGVzdE1lc3NhZ2VzIiwiY2xlYW4iLCJub3ciLCJfT2JqZWN0JGVudHJpZXMiLCJfT2JqZWN0JGVudHJpZXMkX2kiLCJsYXN0RXZlbnQiLCJyZWNlaXZlZEF0IiwicmVjZWl2ZWRfYXQiLCJkaXNwYXRjaEV2ZW50IiwiY2xlYXJNZXNzYWdlcyIsIl9sb2FkTWVzc2FnZUludG9TdGF0ZSIsIm1hcmsiLCJfY2FsbGVlIiwibWVzc2FnZUlkIiwicGFyZW50TWVzc2FnZUlkIiwiX3RoaXMkdGhyZWFkcyRwYXJlbnRNIiwibGltaXQiLCJzd2l0Y2hlZFRvTWVzc2FnZVNldCIsImxvYWRlZE1lc3NhZ2VUaHJlYWQiLCJtZXNzYWdlSWRUb0ZpbmQiLCJfYXJncyIsIndyYXAiLCJfY2FsbGVlJCIsIl9jb250ZXh0IiwicHJldiIsImFicnVwdCIsInN3aXRjaFRvTWVzc2FnZVNldCIsInF1ZXJ5IiwiaWRfYXJvdW5kIiwiZ2V0UmVwbGllcyIsInN0b3AiLCJsb2FkTWVzc2FnZUludG9TdGF0ZSIsImZpbmRNZXNzYWdlIiwiY3VycmVudE1lc3NhZ2VzIiwiYXJlTWVzc2FnZVNldHNPdmVybGFwIiwibWVzc2FnZXMxIiwibWVzc2FnZXMyIiwic29tZSIsIm0xIiwibTIiLCJfdGhpczUiLCJvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRpY2VzIiwibWVyZ2VUYXJnZXRNZXNzYWdlU2V0SW5kZXgiLCJtZXJnZVNvdXJjZU1lc3NhZ2VTZXRJbmRpY2VzIiwic291cmNlcyIsImluZGV4T2YiLCJvdmVybGFwcGluZ01lc3NhZ2VTZXRJbmRleCIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDMiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMyIsIl9hcnJheUxpa2VUb0FycmF5JDMiLCJvd25LZXlzJDYiLCJfb2JqZWN0U3ByZWFkJDYiLCJDaGFubmVsIiwiY2xpZW50IiwiX3JlZiIsIm9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsIndhdGNoIiwicHJlc2VuY2UiLCJzZW50IiwiZXZlbnQiLCJsaXN0ZW5lcnMiLCJhbGwiLCJfbGlzdGVuZXJzIiwibGlzdGVuZXIiLCJFcnJvciIsImJhc2VVUkwiLCJ2YWxpZFR5cGVSZSIsInZhbGlkSURSZSIsIl9jbGllbnQiLCJfZGF0YSIsImluaXRpYWxpemVkIiwib2ZmbGluZU1vZGUiLCJsYXN0VHlwaW5nRXZlbnQiLCJpc1R5cGluZyIsImRpc2Nvbm5lY3RlZCIsImdldENvbmZpZyIsImNvbmZpZ3MiLCJfc2VuZE1lc3NhZ2UiLCJfY2FsbGVlMiIsIl9jYWxsZWUyJCIsIl9jb250ZXh0MiIsInBvc3QiLCJfY2hhbm5lbFVSTCIsInNlbmRNZXNzYWdlIiwiX3gzIiwic2VuZEZpbGUiLCJzZW5kSW1hZ2UiLCJkZWxldGVGaWxlIiwidXJsIiwiZGVsZXRlIiwiZGVsZXRlSW1hZ2UiLCJfc2VuZEV2ZW50IiwiX2NhbGxlZTMiLCJfY2FsbGVlMyQiLCJfY29udGV4dDMiLCJfY2hlY2tJbml0aWFsaXplZCIsInNlbmRFdmVudCIsIl94NCIsIl9zZWFyY2giLCJfY2FsbGVlNCIsInBheWxvYWQiLCJfYXJnczQiLCJfY2FsbGVlNCQiLCJfY29udGV4dDQiLCJvZmZzZXQiLCJmaWx0ZXJfY29uZGl0aW9ucyIsIm1lc3NhZ2VfZmlsdGVyX2NvbmRpdGlvbnMiLCJ3c1Byb21pc2UiLCJzZWFyY2giLCJfeDUiLCJfcXVlcnlNZW1iZXJzIiwiX2NhbGxlZTUiLCJmaWx0ZXJDb25kaXRpb25zIiwiX3RoaXMkZGF0YSIsIl9hcmdzNSIsIl9jYWxsZWU1JCIsIl9jb250ZXh0NSIsInF1ZXJ5TWVtYmVycyIsIl94NiIsIl9zZW5kUmVhY3Rpb24iLCJfY2FsbGVlNiIsIm1lc3NhZ2VJRCIsIl9jYWxsZWU2JCIsIl9jb250ZXh0NiIsInNlbmRSZWFjdGlvbiIsIl94NyIsIl94OCIsIl94OSIsImRlbGV0ZVJlYWN0aW9uIiwicmVhY3Rpb25UeXBlIiwiX3VwZGF0ZTIiLCJfY2FsbGVlNyIsImNoYW5uZWxEYXRhIiwidXBkYXRlTWVzc2FnZSIsInJlc2VydmVkIiwiX2FyZ3M3IiwiX2NhbGxlZTckIiwiX2NvbnRleHQ3IiwiX3VwZGF0ZSIsInVwZGF0ZSIsIl91cGRhdGVQYXJ0aWFsIiwiX2NhbGxlZTgiLCJfdGhpcyRkYXRhMiIsIl90aGlzJGRhdGEzIiwiYXJlQ2FwYWJpbGl0aWVzQ2hhbmdlZCIsIl9jYWxsZWU4JCIsIl9jb250ZXh0OCIsInBhdGNoIiwib3duX2NhcGFiaWxpdGllcyIsInVwZGF0ZVBhcnRpYWwiLCJfeDEwIiwiX2VuYWJsZVNsb3dNb2RlIiwiX2NhbGxlZTkiLCJjb29sRG93bkludGVydmFsIiwiX2NhbGxlZTkkIiwiX2NvbnRleHQ5IiwiY29vbGRvd24iLCJlbmFibGVTbG93TW9kZSIsIl94MTEiLCJfZGlzYWJsZVNsb3dNb2RlIiwiX2NhbGxlZTEwIiwiX2NhbGxlZTEwJCIsIl9jb250ZXh0MTAiLCJkaXNhYmxlU2xvd01vZGUiLCJfZGVsZXRlMiIsIl9jYWxsZWUxMSIsIl9hcmdzMTEiLCJfY2FsbGVlMTEkIiwiX2NvbnRleHQxMSIsIl9kZWxldGUiLCJfdHJ1bmNhdGUiLCJfY2FsbGVlMTIiLCJfYXJnczEyIiwiX2NhbGxlZTEyJCIsIl9jb250ZXh0MTIiLCJ0cnVuY2F0ZSIsIl9hY2NlcHRJbnZpdGUiLCJfY2FsbGVlMTMiLCJfYXJnczEzIiwiX2NhbGxlZTEzJCIsIl9jb250ZXh0MTMiLCJhY2NlcHRfaW52aXRlIiwiYWNjZXB0SW52aXRlIiwiX3JlamVjdEludml0ZSIsIl9jYWxsZWUxNCIsIl9hcmdzMTQiLCJfY2FsbGVlMTQkIiwiX2NvbnRleHQxNCIsInJlamVjdF9pbnZpdGUiLCJyZWplY3RJbnZpdGUiLCJfYWRkTWVtYmVycyIsIl9jYWxsZWUxNSIsIl9hcmdzMTUiLCJfY2FsbGVlMTUkIiwiX2NvbnRleHQxNSIsImFkZF9tZW1iZXJzIiwiYWRkTWVtYmVycyIsIl94MTIiLCJfeDEzIiwiX2FkZE1vZGVyYXRvcnMiLCJfY2FsbGVlMTYiLCJfYXJnczE2IiwiX2NhbGxlZTE2JCIsIl9jb250ZXh0MTYiLCJhZGRfbW9kZXJhdG9ycyIsImFkZE1vZGVyYXRvcnMiLCJfeDE0IiwiX3gxNSIsIl9hc3NpZ25Sb2xlcyIsIl9jYWxsZWUxNyIsIl9hcmdzMTciLCJfY2FsbGVlMTckIiwiX2NvbnRleHQxNyIsImFzc2lnbl9yb2xlcyIsImFzc2lnblJvbGVzIiwiX3gxNiIsIl94MTciLCJfaW52aXRlTWVtYmVycyIsIl9jYWxsZWUxOCIsIl9hcmdzMTgiLCJfY2FsbGVlMTgkIiwiX2NvbnRleHQxOCIsImludml0ZXMiLCJpbnZpdGVNZW1iZXJzIiwiX3gxOCIsIl94MTkiLCJfcmVtb3ZlTWVtYmVycyIsIl9jYWxsZWUxOSIsIl9hcmdzMTkiLCJfY2FsbGVlMTkkIiwiX2NvbnRleHQxOSIsInJlbW92ZV9tZW1iZXJzIiwicmVtb3ZlTWVtYmVycyIsIl94MjAiLCJfeDIxIiwiX2RlbW90ZU1vZGVyYXRvcnMiLCJfY2FsbGVlMjAiLCJfYXJnczIwIiwiX2NhbGxlZTIwJCIsIl9jb250ZXh0MjAiLCJkZW1vdGVfbW9kZXJhdG9ycyIsImRlbW90ZU1vZGVyYXRvcnMiLCJfeDIyIiwiX3gyMyIsIl91cGRhdGUzIiwiX2NhbGxlZTIxIiwiX2NhbGxlZTIxJCIsIl9jb250ZXh0MjEiLCJfeDI0IiwiX211dGUiLCJfY2FsbGVlMjIiLCJvcHRzIiwiX2FyZ3MyMiIsIl9jYWxsZWUyMiQiLCJfY29udGV4dDIyIiwiY2hhbm5lbF9jaWQiLCJtdXRlIiwiX3VubXV0ZSIsIl9jYWxsZWUyMyIsIl9hcmdzMjMiLCJfY2FsbGVlMjMkIiwiX2NvbnRleHQyMyIsInVubXV0ZSIsIm11dGVTdGF0dXMiLCJfbXV0ZVN0YXR1cyIsInNlbmRBY3Rpb24iLCJmb3JtRGF0YSIsIm1lc3NhZ2VfaWQiLCJmb3JtX2RhdGEiLCJfa2V5c3Ryb2tlIiwiX2NhbGxlZTI0IiwiX3RoaXMkZ2V0Q29uZmlnIiwiZGlmZiIsIl9jYWxsZWUyNCQiLCJfY29udGV4dDI0IiwidHlwaW5nX2V2ZW50cyIsImxhc3RLZXlTdHJva2UiLCJrZXlzdHJva2UiLCJfeDI1IiwiX3gyNiIsIl9zdG9wVHlwaW5nIiwiX2NhbGxlZTI1IiwiX3RoaXMkZ2V0Q29uZmlnMiIsIl9jYWxsZWUyNSQiLCJfY29udGV4dDI1Iiwic3RvcFR5cGluZyIsIl94MjciLCJfeDI4IiwibGFzdE1lc3NhZ2UiLCJtZXNzYWdlU2xpY2UiLCJfbWFya1JlYWQiLCJfY2FsbGVlMjYiLCJfdGhpcyRnZXRDb25maWczIiwiX2FyZ3MyNiIsIl9jYWxsZWUyNiQiLCJfY29udGV4dDI2IiwicmVhZF9ldmVudHMiLCJfaXNVc2luZ1NlcnZlckF1dGgiLCJyZXNvbHZlIiwibWFya1JlYWQiLCJfbWFya1VucmVhZCIsIl9jYWxsZWUyNyIsIl90aGlzJGdldENvbmZpZzQiLCJfY2FsbGVlMjckIiwiX2NvbnRleHQyNyIsIm1hcmtVbnJlYWQiLCJfeDI5IiwiX3dhdGNoIiwiX2NhbGxlZTI4IiwiY29tYmluZWQiLCJfY2FsbGVlMjgkIiwiX2NvbnRleHQyOCIsIl9oYXNDb25uZWN0aW9uSUQiLCJsb2dnZXIiLCJ0YWdzIiwiX3gzMCIsIl9zdG9wV2F0Y2hpbmciLCJfY2FsbGVlMjkiLCJyZXNwb25zZSIsIl9jYWxsZWUyOSQiLCJfY29udGV4dDI5Iiwic3RvcFdhdGNoaW5nIiwiX2dldFJlcGxpZXMiLCJfY2FsbGVlMzAiLCJfY2FsbGVlMzAkIiwiX2NvbnRleHQzMCIsIl94MzEiLCJfeDMyIiwiX2dldFBpbm5lZE1lc3NhZ2VzIiwiX2NhbGxlZTMxIiwiX2FyZ3MzMSIsIl9jYWxsZWUzMSQiLCJfY29udGV4dDMxIiwiZ2V0UGlubmVkTWVzc2FnZXMiLCJfeDMzIiwiZ2V0UmVhY3Rpb25zIiwiZ2V0TWVzc2FnZXNCeUlkIiwibWVzc2FnZUlkcyIsImlkcyIsImxhc3RSZWFkIiwiX3RoaXMkZ2V0Q2xpZW50IiwibGFzdF9yZWFkIiwiX2NvdW50TWVzc2FnZUFzVW5yZWFkIiwiX21lc3NhZ2UkdXNlciIsIl9tZXNzYWdlJHVzZXIyIiwiX3RoaXMkZGF0YTQiLCJfdGhpcyRkYXRhNSIsInNpbGVudCIsInVzZXJNdXRlU3RhdHVzIiwiaW5jbHVkZXMiLCJtdXRlZCIsImNvdW50VW5yZWFkIiwiY291bnQiLCJjb3VudFVucmVhZE1lbnRpb25zIiwiX21lc3NhZ2UkbWVudGlvbmVkX3VzIiwiX3F1ZXJ5IiwiX2NhbGxlZTMyIiwiX3RoaXMkZGF0YTYiLCJfdGhpcyRkYXRhNyIsInF1ZXJ5VVJMIiwibWVtYmVyc1N0ciIsInRlbXBDaGFubmVsQ2lkIiwiX3RoaXMkX2luaXRpYWxpemVTdGF0IiwiX2FyZ3MzMiIsIl9jYWxsZWUzMiQiLCJfY29udGV4dDMyIiwibWVtYmVyIiwiX21lbWJlciR1c2VyIiwiYWN0aXZlQ2hhbm5lbHMiLCJfYWRkQ2hhbm5lbENvbmZpZyIsIl9pbml0aWFsaXplU3RhdGUiLCJxdWVyaWVkQ2hhbm5lbHMiLCJjaGFubmVscyIsImlzTGF0ZXN0TWVzc2FnZVNldCIsIl94MzQiLCJfYmFuVXNlciIsIl9jYWxsZWUzMyIsInRhcmdldFVzZXJJRCIsIl9jYWxsZWUzMyQiLCJfY29udGV4dDMzIiwiYmFuVXNlciIsIl94MzUiLCJfeDM2IiwiX2hpZGUiLCJfY2FsbGVlMzQiLCJ1c2VySWQiLCJjbGVhckhpc3RvcnkiLCJfYXJnczM0IiwiX2NhbGxlZTM0JCIsIl9jb250ZXh0MzQiLCJjbGVhcl9oaXN0b3J5IiwiaGlkZSIsIl9zaG93IiwiX2NhbGxlZTM1IiwiX2FyZ3MzNSIsIl9jYWxsZWUzNSQiLCJfY29udGV4dDM1Iiwic2hvdyIsIl91bmJhblVzZXIiLCJfY2FsbGVlMzYiLCJfY2FsbGVlMzYkIiwiX2NvbnRleHQzNiIsInVuYmFuVXNlciIsIl94MzciLCJfc2hhZG93QmFuIiwiX2NhbGxlZTM3IiwiX2NhbGxlZTM3JCIsIl9jb250ZXh0MzciLCJzaGFkb3dCYW4iLCJfeDM4IiwiX3gzOSIsIl9yZW1vdmVTaGFkb3dCYW4iLCJfY2FsbGVlMzgiLCJfY2FsbGVlMzgkIiwiX2NvbnRleHQzOCIsInJlbW92ZVNoYWRvd0JhbiIsIl94NDAiLCJfY3JlYXRlQ2FsbCIsIl9jYWxsZWUzOSIsIl9jYWxsZWUzOSQiLCJfY29udGV4dDM5IiwiY3JlYXRlQ2FsbCIsIl94NDEiLCJvbiIsImNhbGxiYWNrT3JTdHJpbmciLCJjYWxsYmFja09yTm90aGluZyIsInVuc3Vic2NyaWJlIiwiZWwiLCJvZmYiLCJfaGFuZGxlQ2hhbm5lbEV2ZW50IiwiX2V2ZW50JHVzZXIiLCJfZXZlbnQkdXNlcjIiLCJfZXZlbnQkdXNlcjMiLCJfZXZlbnQkdXNlcjUiLCJfZXZlbnQkdXNlcjYiLCJfZXZlbnQkY2hhbm5lbCIsIl9ldmVudCRtZW1iZXIiLCJfZXZlbnQkdXNlcjkiLCJfZXZlbnQkdXNlcjExIiwiX2NoYW5uZWxTdGF0ZSRtZW1iZXJzIiwiX2V2ZW50JHVzZXIxMiIsIl9jaGFubmVsU3RhdGUkbWVtYmVyczIiLCJjaGFubmVsU3RhdGUiLCJfZXZlbnQkdXNlcjQiLCJfdGhpcyRnZXRDbGllbnQkdXNlciIsImxhc3RfcmVhZF9tZXNzYWdlX2lkIiwidW5yZWFkX21lc3NhZ2VzIiwiX2V4dGVuZEV2ZW50V2l0aE93blJlYWN0aW9ucyIsImhhcmRfZGVsZXRlIiwiX2V2ZW50JHVzZXI3IiwiX3RoaXMkZ2V0Q2xpZW50JHVzZXIyIiwiX2V2ZW50JHVzZXI4Iiwib3duTWVzc2FnZSIsImlzVGhyZWFkTWVzc2FnZSIsInByZXZlbnRVbnJlYWRDb3VudFVwZGF0ZSIsInRydW5jYXRlZF9hdCIsInRydW5jYXRlZEF0IiwiX3JlZjIiLCJjcmVhdGVkQXQiLCJfcmVmMyIsIl9ldmVudCR1c2VyMTAiLCJfdGhpcyRnZXRDbGllbnQkdXNlcjMiLCJfZXZlbnQkdW5yZWFkX21lc3NhZ2UiLCJfb3duTWVzc2FnZSIsImZpcnN0X3VucmVhZF9tZXNzYWdlX2lkIiwibGFzdF9yZWFkX2F0IiwiX2V2ZW50JGNoYW5uZWwyIiwiX2NoYW5uZWwkZGF0YSIsIl9ldmVudCRjaGFubmVsJGhpZGRlbiIsIl9ldmVudCRjaGFubmVsMyIsIl9jaGFubmVsJGRhdGEyIiwiX2V2ZW50JGNoYW5uZWwkb3duX2NhIiwiX2V2ZW50JGNoYW5uZWw0IiwiX2NoYW5uZWwkZGF0YTMiLCJpc0Zyb3plbkNoYW5nZWQiLCJmcm96ZW4iLCJoaWRkZW4iLCJzaGFkb3dfYmFubmVkIiwic2hhZG93IiwiYmFubmVkIiwiX3RoaXMkZ2V0Q2xpZW50MiIsImNsaWVudFN0YXRlIiwiX3RoaXMkc3RhdGUkYWRkTWVzc2FnIiwicGlubmVkX21lc3NhZ2VzIiwiX2l0ZXJhdG9yMiIsIl9zdGVwMiIsIndhdGNoZXIiLCJfaXRlcmF0b3IzIiwiX3N0ZXAzIiwiX3JlYWQkdW5yZWFkX21lc3NhZ2VzIiwicmVkdWNlIiwiYWNjIiwiX2Rpc2Nvbm5lY3QiLCJzZXRJc1VwVG9EYXRlIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMiIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQyIiwiX2FycmF5TGlrZVRvQXJyYXkkMiIsIkNsaWVudFN0YXRlIiwidXNlcnMiLCJ1c2VyQ2hhbm5lbFJlZmVyZW5jZXMiLCJ1cGRhdGVVc2VycyIsInVwZGF0ZVVzZXIiLCJjaGFubmVsSUQiLCJkZWxldGVBbGxDaGFubmVsUmVmZXJlbmNlIiwib3duS2V5cyQ1IiwiX29iamVjdFNwcmVhZCQ1IiwiSW5zaWdodE1ldHJpY3MiLCJjb25uZWN0aW9uU3RhcnRUaW1lc3RhbXAiLCJ3c1RvdGFsRmFpbHVyZXMiLCJ3c0NvbnNlY3V0aXZlRmFpbHVyZXMiLCJpbnN0YW5jZUNsaWVudElkIiwicG9zdEluc2lnaHRzIiwiaW5zaWdodFR5cGUiLCJpbnNpZ2h0cyIsIm1heEF0dGVtcHRzIiwidDAiLCJidWlsZFdzRmF0YWxJbnNpZ2h0IiwiY29ubmVjdGlvbiIsImJ1aWxkV3NCYXNlSW5zaWdodCIsIl9jb25uZWN0aW9uJHdzIiwiX25hdmlnYXRvciIsIl9uYXZpZ2F0b3IyIiwicmVhZHlfc3RhdGUiLCJ3cyIsInJlYWR5U3RhdGUiLCJfYnVpbGRVcmwiLCJhcGlfa2V5Iiwic3RhcnRfdHMiLCJpbnNpZ2h0TWV0cmljcyIsImVuZF90cyIsImF1dGhfdHlwZSIsImdldEF1dGhUeXBlIiwidG9rZW4iLCJ0b2tlbk1hbmFnZXIiLCJ1c2VyX2RldGFpbHMiLCJfdXNlciIsImRldmljZSIsImNsaWVudF9pZCIsImNvbm5lY3Rpb25JRCIsIndzX2RldGFpbHMiLCJ3c19jb25zZWN1dGl2ZV9mYWlsdXJlcyIsIndzX3RvdGFsX2ZhaWx1cmVzIiwicmVxdWVzdF9pZCIsInJlcXVlc3RJRCIsIm9ubGluZSIsInVzZXJfYWdlbnQiLCJ1c2VyQWdlbnQiLCJpbnN0YW5jZV9jbGllbnRfaWQiLCJidWlsZFdzU3VjY2Vzc0FmdGVyRmFpbHVyZUluc2lnaHQiLCJvd25LZXlzJDQiLCJfb2JqZWN0U3ByZWFkJDQiLCJpc0Nsb3NlRXZlbnQiLCJjb2RlIiwiaXNFcnJvckV2ZW50IiwiU3RhYmxlV1NDb25uZWN0aW9uIiwicXMiLCJfYnVpbGRXU1BheWxvYWQiLCJnZXRUb2tlbiIsIndzQmFzZVVSTCIsImdldFVzZXJBZ2VudCIsIl9sb2ciLCJfc2V0SGVhbHRoIiwiaXNIZWFsdGh5IiwiX3JlY29ubmVjdCIsImludGVydmFsIiwid3NJRCIsInBhcnNlIiwiaXNSZXNvbHZlZCIsIl90aGlzJHJlc29sdmVQcm9taXNlIiwiX3RoaXMkcmVqZWN0UHJvbWlzZSIsInJlamVjdFByb21pc2UiLCJfZXJyb3JGcm9tV1NFdmVudCIsInJlc29sdmVQcm9taXNlIiwic2NoZWR1bGVOZXh0UGluZyIsImhhbmRsZUV2ZW50Iiwic2NoZWR1bGVDb25uZWN0aW9uQ2hlY2siLCJfdGhpcyRyZWplY3RQcm9taXNlMiIsInJlYXNvbiIsIndhc0NsZWFuIiwiX3RoaXMkcmVqZWN0UHJvbWlzZTMiLCJjb25zZWN1dGl2ZUZhaWx1cmVzIiwidG90YWxGYWlsdXJlcyIsImlzQ29ubmVjdGluZyIsIl90aGlzJHJlamVjdFByb21pc2U0IiwiaGVhbHRoeSIsImlzV1NGYWlsdXJlIiwic3RhdHVzQ29kZSIsIlN0YXR1c0NvZGUiLCJjb25uZWN0aW9uT3BlbiIsInJlamVjdCIsImhlYWx0aENoZWNrVGltZW91dFJlZiIsImNsZWFyVGltZW91dCIsImNsaWVudElEIiwiX3RoaXMkd3MiLCJzZW5kIiwicGluZ0ludGVydmFsIiwiY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZiIsImNvbm5lY3Rpb25DaGVja1RpbWVvdXQiLCJpc0Rpc2Nvbm5lY3RlZCIsIm9ubGluZVN0YXR1c0NoYW5nZWQiLCJleHRyYSIsImxldmVsIiwic2V0Q2xpZW50IiwiX2Nvbm5lY3QyIiwidGltZW91dCIsImhlYWx0aENoZWNrIiwiX2Nvbm5lY3QiLCJpc1N0YXRpYyIsInJlZnJlc2hUb2tlbiIsIl93YWl0Rm9ySGVhbHRoeSIsImNvbm5lY3QiLCJfd2FpdEZvckhlYWx0aHkyIiwicmFjZSIsImRpc2Nvbm5lY3QiLCJjbGVhckludGVydmFsIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiaXNDbG9zZWRQcm9taXNlIiwiY2xvc2UiLCJPUEVOIiwib25jbG9zZSIsIl9jb25uZWN0MyIsImlzVG9rZW5SZWFkeSIsIndzVVJMIiwiZW5hYmxlV1NGYWxsYmFjayIsInRva2VuUmVhZHkiLCJsb2FkVG9rZW4iLCJfc2V0dXBDb25uZWN0aW9uUHJvbWlzZSIsIm9ub3BlbiIsIm9uZXJyb3IiLCJvbm1lc3NhZ2UiLCJjb25uZWN0aW9uX2lkIiwiZW5hYmxlSW5zaWdodHMiLCJ0MSIsIl9yZWNvbm5lY3QyIiwiX2FyZ3M2IiwiX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uIiwicmVjb3ZlclN0YXRlIiwiX3RoaXMkd3MyIiwiX3RoaXMkd3MzIiwib3duS2V5cyQzIiwiX29iamVjdFNwcmVhZCQzIiwiSldUVXNlclRva2VuIiwiYXBpU2VjcmV0IiwiZXh0cmFEYXRhIiwiand0T3B0aW9ucyIsInNpZ24iLCJhbGdvcml0aG0iLCJub1RpbWVzdGFtcCIsImlhdCIsIkpXVFNlcnZlclRva2VuIiwic2VydmVyIiwiVXNlckZyb21Ub2tlbiIsImZyYWdtZW50cyIsImI2NFBheWxvYWQiLCJEZXZUb2tlbiIsIkNoZWNrU2lnbmF0dXJlIiwiYm9keSIsInNlY3JldCIsInNpZ25hdHVyZSIsIkJ1ZmZlciIsImhhc2giLCJjcmVhdGVIbWFjIiwiZGlnZXN0IiwidGltaW5nU2FmZUVxdWFsIiwiX3VudXNlZCIsIlRva2VuTWFuYWdlciIsInRva2VuT3JQcm92aWRlciIsInZhbGlkYXRlVG9rZW4iLCJ0b2tlblByb3ZpZGVyIiwibG9hZFRva2VuUHJvbWlzZSIsImFub24iLCJ0b2tlblVzZXJJZCIsIkFQSUVycm9yQ29kZXMiLCJyZXRyeWFibGUiLCJpc0FQSUVycm9yIiwiaXNFcnJvclJldHJ5YWJsZSIsImlzQ29ubmVjdGlvbklERXJyb3IiLCJpc0Vycm9yUmVzcG9uc2UiLCJvd25LZXlzJDIiLCJfb2JqZWN0U3ByZWFkJDIiLCJDb25uZWN0aW9uU3RhdGUiLCJXU0Nvbm5lY3Rpb25GYWxsYmFjayIsIl90aGlzJGNhbmNlbFRva2VuIiwiX3NldFN0YXRlIiwiQ2xvc2VkIiwiY2FuY2VsVG9rZW4iLCJjYW5jZWwiLCJjb25maWciLCJyZXRyeSIsIl90aGlzJGNhbmNlbFRva2VuMiIsIkNhbmNlbFRva2VuIiwiZG9BeGlvc1JlcXVlc3QiLCJyZXBsYWNlIiwiX3JlcSIsIl9kYXRhJGV2ZW50cyIsIkNvbm5lY3RlZCIsImV2ZW50cyIsImlzQ2FuY2VsIiwiRGlzY29ubmVjdGVkIiwicmVjb25uZWN0IiwiX3lpZWxkJF90aGlzJF9yZXEiLCJfYXJnczMiLCJDb25uZWN0aW5nIiwianNvbiIsIl9wb2xsIiwiX3RoaXMkY2FuY2VsVG9rZW4zIiwiX29ubGluZVN0YXR1c0NoYW5nZWQiLCJJbml0IiwiQ2FtcGFpZ24iLCJfY3JlYXRlIiwiX3RoaXMkZGF0YTgiLCJtZXNzYWdlX3RlbXBsYXRlIiwic2VnbWVudF9pZHMiLCJzZW5kZXJfaWQiLCJjaGFubmVsX3RlbXBsYXRlIiwiY3JlYXRlX2NoYW5uZWxzIiwiZGVzY3JpcHRpb24iLCJ1c2VyX2lkcyIsImNyZWF0ZUNhbXBhaWduIiwiY2FtcGFpZ24iLCJjcmVhdGUiLCJ2ZXJpZnlDYW1wYWlnbklkIiwiX3N0YXJ0Iiwic3RhcnRDYW1wYWlnbiIsInN0YXJ0IiwidXBkYXRlQ2FtcGFpZ24iLCJkZWxldGVDYW1wYWlnbiIsIl9zdG9wIiwic3RvcENhbXBhaWduIiwiX2dldCIsImdldENhbXBhaWduIiwiU2VnbWVudCIsImFsbF9zZW5kZXJfY2hhbm5lbHMiLCJhbGxfdXNlcnMiLCJjcmVhdGVTZWdtZW50IiwidmVyaWZ5U2VnbWVudElkIiwiZ2V0U2VnbWVudCIsInVwZGF0ZVNlZ21lbnQiLCJfYWRkVGFyZ2V0cyIsInRhcmdldHMiLCJhZGRTZWdtZW50VGFyZ2V0cyIsImFkZFRhcmdldHMiLCJfcmVtb3ZlVGFyZ2V0cyIsInJlbW92ZVNlZ21lbnRUYXJnZXRzIiwicmVtb3ZlVGFyZ2V0cyIsImRlbGV0ZVNlZ21lbnQiLCJfdGFyZ2V0RXhpc3RzIiwidGFyZ2V0SWQiLCJzZWdtZW50VGFyZ2V0RXhpc3RzIiwidGFyZ2V0RXhpc3RzIiwiX3F1ZXJ5VGFyZ2V0cyIsIl9hcmdzOCIsInF1ZXJ5U2VnbWVudFRhcmdldHMiLCJxdWVyeVRhcmdldHMiLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwiaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfY3JlYXRlU3VwZXJJbnRlcm5hbCIsIlN1cGVyIiwiTmV3VGFyZ2V0IiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsInNoYW0iLCJQcm94eSIsIkJvb2xlYW4iLCJ2YWx1ZU9mIiwiRXJyb3JGcm9tUmVzcG9uc2UiLCJfRXJyb3IiLCJfc3VwZXIiLCJhcmdzIiwiX2tleSIsIm93bktleXMkMSIsIl9vYmplY3RTcHJlYWQkMSIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMSIsIl9hcnJheUxpa2VUb0FycmF5JDEiLCJUaHJlYWQiLCJ0IiwicGFyZW50X21lc3NhZ2UiLCJsYXRlc3RSZXBsaWVzIiwibGF0ZXN0X3JlcGxpZXMiLCJwYXJ0aWNpcGFudHMiLCJyZXBseUNvdW50IiwiYWRkUmVwbHkiLCJ1cGRhdGVSZXBseSIsInVwZGF0ZU1lc3NhZ2VPclJlcGx5SWZFeGlzdHMiLCJfZXhjbHVkZWQiLCJfZXhjbHVkZWQyIiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJfYXJyYXlMaWtlVG9BcnJheSIsIm93bktleXMiLCJfb2JqZWN0U3ByZWFkIiwiaXNTdHJpbmciLCJTdHJlYW1DaGF0Iiwic2VjcmV0T3JPcHRpb25zIiwiX29wdGlvbnMiLCJfdGhpcyRvcHRpb25zIiwiX3RoaXMkd3NDb25uZWN0aW9uIiwiX3RoaXMkd3NGYWxsYmFjayIsIndzQ29ubmVjdGlvbiIsIndzRmFsbGJhY2siLCJfZ2V0Q29ubmVjdGlvbklEIiwidXNlclRva2VuT3JQcm92aWRlciIsInNldFRva2VuUHJvbWlzZSIsInNldFVzZXJQcm9taXNlIiwibm9kZSIsImFsbG93U2VydmVyU2lkZUNvbm5lY3QiLCJhbm9ueW1vdXMiLCJfc2V0VG9rZW4iLCJfc2V0VXNlciIsIm9wZW5Db25uZWN0aW9uIiwicGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlIiwiY2xvc2VDb25uZWN0aW9uIiwiZGlzY29ubmVjdFVzZXIiLCJjb25uZWN0VXNlciIsInNldFRva2VuT3JQcm92aWRlciIsIl90aGlzJHdzQ29ubmVjdGlvbjIiLCJfdGhpcyR3c0ZhbGxiYWNrMiIsImNsZWFuaW5nSW50ZXJ2YWxSZWYiLCJfdGhpcyR3c0Nvbm5lY3Rpb24zIiwiX3RoaXMkd3NDb25uZWN0aW9uNCIsIl90aGlzJHdzRmFsbGJhY2szIiwiX3N0YXJ0Q2xlYW5pbmciLCJiZWZvcmUiLCJfcmVmNCIsImNsb3NlUHJvbWlzZSIsIl9PYmplY3QkdmFsdWVzIiwidmFsdWVzIiwicmVzZXQiLCJhbm9ueW1vdXNVc2VyIiwiX3NldHVwQ29ubmVjdGlvbiIsImNvbm5lY3RBbm9ueW1vdXNVc2VyIiwiX3JlZjUiLCJyZXF1ZXN0Q29uZmlnIiwiX3JlcXVlc3RDb25maWckaGVhZGVyIiwiX2VucmljaEF4aW9zT3B0aW9ucyIsIl9sb2dBcGlSZXF1ZXN0IiwiYXhpb3NJbnN0YW5jZSIsInBvc3RGb3JtIiwicHV0IiwiX2xvZ0FwaVJlc3BvbnNlIiwiaGFuZGxlUmVzcG9uc2UiLCJjbGllbnRfcmVxdWVzdF9pZCIsImhlYWRlcnMiLCJfbG9nQXBpRXJyb3IiLCJwb3N0TGlzdGVuZXJDYWxsYmFja3MiLCJfaGFuZGxlQ2xpZW50RXZlbnQiLCJfY2FsbENsaWVudExpc3RlbmVycyIsIl9jYWxsQ2hhbm5lbExpc3RlbmVycyIsIm1lc3NhZ2VFdmVudCIsImpzb25TdHJpbmciLCJyZWZNYXAiLCJfY2hhbm5lbElEIiwiX2NoYW5uZWwyIiwiX3VwZGF0ZU1lbWJlcldhdGNoZXJSZWZlcmVuY2VzIiwiX2NoYW5uZWxJRDIiLCJfY2hhbm5lbDMiLCJ1cGRhdGVVc2VyTWVzc2FnZXMiLCJfY2hhbm5lbElEMyIsIl9jaGFubmVsNCIsImRlbGV0ZVVzZXJNZXNzYWdlcyIsIl9rZXkyIiwiX2tleTMiLCJfdXBkYXRlVXNlck1lc3NhZ2VSZWZlcmVuY2VzIiwibWFya19tZXNzYWdlc19kZWxldGVkIiwiX2RlbGV0ZVVzZXJNZXNzYWdlUmVmZXJlbmNlIiwiX2kyIiwiY2lkcyIsInJlY292ZXJTdGF0ZU9uUmVjb25uZWN0IiwicXVlcnlDaGFubmVscyIsIiRpbiIsImNoYW5uZWxUeXBlIiwiY3VzdG9tIiwidGVtcENpZCIsIl9rZXk0IiwiX2NoYW5uZWw1IiwibWVtYmVyc1N0ckluRXhpc3RpbmdDaGFubmVsIiwiX2NoYW5uZWw2IiwidXBzZXJ0VXNlcnMiLCJ1cHNlcnRVc2VyIiwidW5ibG9ja01lc3NhZ2UiLCJtYXJrQ2hhbm5lbHNSZWFkIiwibXV0ZWRDaGFubmVscyIsImlucHV0T3B0aW9ucyIsImJyb3dzZXIiLCJ3aXRoQ3JlZGVudGlhbHMiLCJ3YXJtVXAiLCJodHRwc0FnZW50IiwiQWdlbnQiLCJrZWVwQWxpdmUiLCJrZWVwQWxpdmVNc2VjcyIsInNldEJhc2VVUkwiLCJwcm9jZXNzIiwiZW52IiwiU1RSRUFNX0xPQ0FMX1RFU1RfUlVOIiwiU1RSRUFNX0xPQ0FMX1RFU1RfSE9TVCIsImRlZmF1bHRXU1RpbWVvdXRXaXRoRmFsbGJhY2siLCJkZWZhdWx0V1NUaW1lb3V0IiwiZGVmYXVsdHMiLCJwYXJhbXNTZXJpYWxpemVyIiwiZGV2VG9rZW4iLCJfdXBkYXRlQXBwU2V0dGluZ3MiLCJhcG5fY29uZmlnIiwicDEyX2NlcnQiLCJ1cGRhdGVBcHBTZXR0aW5ncyIsIl9yZXZva2VUb2tlbnMiLCJyZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmUiLCJfbm9ybWFsaXplRGF0ZSIsInJldm9rZVRva2VucyIsIl9yZXZva2VVc2VyVG9rZW4iLCJyZXZva2VVc2Vyc1Rva2VuIiwicmV2b2tlVXNlclRva2VuIiwiX3Jldm9rZVVzZXJzVG9rZW4iLCJ1c2VySURzIiwicGFydGlhbFVwZGF0ZVVzZXJzIiwiX2dldEFwcFNldHRpbmdzIiwiZ2V0QXBwU2V0dGluZ3MiLCJfdGVzdFB1c2hTZXR0aW5ncyIsImFwblRlbXBsYXRlIiwiYXBuX3RlbXBsYXRlIiwiZmlyZWJhc2VUZW1wbGF0ZSIsImZpcmViYXNlX3RlbXBsYXRlIiwiZmlyZWJhc2VEYXRhVGVtcGxhdGUiLCJmaXJlYmFzZV9kYXRhX3RlbXBsYXRlIiwic2tpcERldmljZXMiLCJza2lwX2RldmljZXMiLCJwdXNoUHJvdmlkZXJOYW1lIiwicHVzaF9wcm92aWRlcl9uYW1lIiwicHVzaFByb3ZpZGVyVHlwZSIsInB1c2hfcHJvdmlkZXJfdHlwZSIsInRlc3RQdXNoU2V0dGluZ3MiLCJfdGVzdFNRU1NldHRpbmdzIiwidGVzdFNRU1NldHRpbmdzIiwiX3Rlc3RTTlNTZXR0aW5ncyIsInRlc3RTTlNTZXR0aW5ncyIsIl9zZXRHdWVzdFVzZXIiLCJfcmVzcG9uc2UkdXNlciIsImd1ZXN0VXNlciIsImxhc3RfYWN0aXZlIiwiYWNjZXNzX3Rva2VuIiwic2V0R3Vlc3RVc2VyIiwiY3JlYXRlVG9rZW4iLCJleHAiLCJnZXRIZWFkZXJzIiwibWF4Q29udGVudExlbmd0aCIsIkluZmluaXR5IiwibWF4Qm9keUxlbmd0aCIsImVycm9yRnJvbVJlc3BvbnNlIiwiX2V2ZW50JG1lIiwiX2V2ZW50JG1lMiIsIl9oYW5kbGVVc2VyRXZlbnQiLCJtZSIsImFjdGl2ZUNoYW5uZWxLZXlzIiwiYWN0aXZlQ2hhbm5lbEtleSIsIl90aGlzJGFjdGl2ZUNoYW5uZWxzJCIsIl9tdXRlJGNoYW5uZWwiLCJleHBpcmVzIiwiZXhwaXJlc0F0IiwiX3NheUhpIiwibW9kZSIsIl9xdWVyeVVzZXJzIiwicXVlcnlVc2VycyIsIl9xdWVyeUJhbm5lZFVzZXJzIiwicXVlcnlCYW5uZWRVc2VycyIsIl9xdWVyeU1lc3NhZ2VGbGFncyIsInF1ZXJ5TWVzc2FnZUZsYWdzIiwiX3F1ZXJ5Q2hhbm5lbHMiLCJzdGF0ZU9wdGlvbnMiLCJoeWRyYXRlQWN0aXZlQ2hhbm5lbHMiLCJjaGFubmVsc0Zyb21BcGkiLCJza2lwSW5pdGlhbGl6YXRpb24iLCJfc3RhdGVPcHRpb25zJG9mZmxpbmUiLCJfY2hhbm5lbFN0YXRlIiwiX2FyZ3MyMSIsInNldExvY2FsRGV2aWNlIiwiX3RoaXMkd3NDb25uZWN0aW9uNSIsIl90aGlzJHdzQ29ubmVjdGlvbjYiLCJfdGhpcyR3c0ZhbGxiYWNrNCIsIl9hZGREZXZpY2UiLCJwdXNoX3Byb3ZpZGVyIiwiYWRkRGV2aWNlIiwiX2dldERldmljZXMiLCJnZXREZXZpY2VzIiwiX2dldFVucmVhZENvdW50IiwiZ2V0VW5yZWFkQ291bnQiLCJfZ2V0VW5yZWFkQ291bnRCYXRjaCIsImdldFVucmVhZENvdW50QmF0Y2giLCJfcmVtb3ZlRGV2aWNlIiwicmVtb3ZlRGV2aWNlIiwiX2dldFJhdGVMaW1pdHMiLCJfcmVmNyIsInNlcnZlclNpZGUiLCJ3ZWIiLCJhbmRyb2lkIiwiaW9zIiwiZW5kcG9pbnRzIiwic2VydmVyX3NpZGUiLCJnZXRSYXRlTGltaXRzIiwiX3JlZjgiLCJjaGFubmVsSURPckN1c3RvbSIsIl9jdXN0b20kbWVtYmVycyIsImdldENoYW5uZWxCeU1lbWJlcnMiLCJnZXRDaGFubmVsQnlJZCIsIl9wYXJ0aWFsVXBkYXRlVXNlciIsInBhcnRpYWxVc2VyT2JqZWN0IiwicGFydGlhbFVwZGF0ZVVzZXIiLCJfdXBzZXJ0VXNlcnMiLCJ1c2VyTWFwIiwiX2l0ZXJhdG9yNCIsIl9zdGVwNCIsInVzZXJPYmplY3QiLCJmaW5pc2giLCJfcGFydGlhbFVwZGF0ZVVzZXJzIiwiX2l0ZXJhdG9yNSIsIl9zdGVwNSIsIl9kZWxldGVVc2VyIiwiZGVsZXRlVXNlciIsIl9yZXN0b3JlVXNlcnMiLCJyZXN0b3JlVXNlcnMiLCJfcmVhY3RpdmF0ZVVzZXIiLCJyZWFjdGl2YXRlVXNlciIsIl9yZWFjdGl2YXRlVXNlcnMiLCJyZWFjdGl2YXRlVXNlcnMiLCJfZGVhY3RpdmF0ZVVzZXIiLCJkZWFjdGl2YXRlVXNlciIsIl9kZWFjdGl2YXRlVXNlcnMiLCJkZWFjdGl2YXRlVXNlcnMiLCJfeDQyIiwiX3g0MyIsIl9leHBvcnRVc2VyIiwiZXhwb3J0VXNlciIsIl94NDQiLCJfeDQ1IiwidGFyZ2V0X3VzZXJfaWQiLCJfeDQ2IiwiX3g0NyIsIl94NDgiLCJfeDQ5IiwiX2NhbGxlZTQwIiwiX2NhbGxlZTQwJCIsIl9jb250ZXh0NDAiLCJfeDUwIiwiX3g1MSIsIl9jYWxsZWU0MSIsIl9jYWxsZWU0MSQiLCJfY29udGV4dDQxIiwiX3g1MiIsIl94NTMiLCJfbXV0ZVVzZXIiLCJfY2FsbGVlNDIiLCJ0YXJnZXRJRCIsIl9hcmdzNDIiLCJfY2FsbGVlNDIkIiwiX2NvbnRleHQ0MiIsInRhcmdldF9pZCIsIm11dGVVc2VyIiwiX3g1NCIsIl94NTUiLCJfdW5tdXRlVXNlciIsIl9jYWxsZWU0MyIsImN1cnJlbnRVc2VySUQiLCJfY2FsbGVlNDMkIiwiX2NvbnRleHQ0MyIsInVubXV0ZVVzZXIiLCJfeDU2IiwiX3g1NyIsIl9mbGFnTWVzc2FnZSIsIl9jYWxsZWU0NCIsInRhcmdldE1lc3NhZ2VJRCIsIl9hcmdzNDQiLCJfY2FsbGVlNDQkIiwiX2NvbnRleHQ0NCIsInRhcmdldF9tZXNzYWdlX2lkIiwiZmxhZ01lc3NhZ2UiLCJfeDU4IiwiX2ZsYWdVc2VyIiwiX2NhbGxlZTQ1IiwiX2FyZ3M0NSIsIl9jYWxsZWU0NSQiLCJfY29udGV4dDQ1IiwiZmxhZ1VzZXIiLCJfeDU5IiwiX3VuZmxhZ01lc3NhZ2UiLCJfY2FsbGVlNDYiLCJfYXJnczQ2IiwiX2NhbGxlZTQ2JCIsIl9jb250ZXh0NDYiLCJ1bmZsYWdNZXNzYWdlIiwiX3g2MCIsIl91bmZsYWdVc2VyIiwiX2NhbGxlZTQ3IiwiX2FyZ3M0NyIsIl9jYWxsZWU0NyQiLCJfY29udGV4dDQ3IiwidW5mbGFnVXNlciIsIl94NjEiLCJfZ2V0Q2FsbFRva2VuIiwiX2NhbGxlZTQ4IiwiY2FsbElEIiwiX2FyZ3M0OCIsIl9jYWxsZWU0OCQiLCJfY29udGV4dDQ4IiwiZ2V0Q2FsbFRva2VuIiwiX3g2MiIsIl9xdWVyeUZsYWdzMiIsIl9jYWxsZWU0OSIsIl9hcmdzNDkiLCJfY2FsbGVlNDkkIiwiX2NvbnRleHQ0OSIsIl9xdWVyeUZsYWdzIiwiX3F1ZXJ5RmxhZ1JlcG9ydHMyIiwiX2NhbGxlZTUwIiwiX2FyZ3M1MCIsIl9jYWxsZWU1MCQiLCJfY29udGV4dDUwIiwiX3F1ZXJ5RmxhZ1JlcG9ydHMiLCJfcmV2aWV3RmxhZ1JlcG9ydDIiLCJfY2FsbGVlNTEiLCJyZXZpZXdSZXN1bHQiLCJfYXJnczUxIiwiX2NhbGxlZTUxJCIsIl9jb250ZXh0NTEiLCJyZXZpZXdfcmVzdWx0IiwiX3Jldmlld0ZsYWdSZXBvcnQiLCJfeDYzIiwiX3g2NCIsIl91bmJsb2NrTWVzc2FnZSIsIl9jYWxsZWU1MiIsIl9hcmdzNTIiLCJfY2FsbGVlNTIkIiwiX2NvbnRleHQ1MiIsIl94NjUiLCJfbWFya0NoYW5uZWxzUmVhZCIsIl9jYWxsZWU1MyIsIl9hcmdzNTMiLCJfY2FsbGVlNTMkIiwiX2NvbnRleHQ1MyIsImNyZWF0ZUNvbW1hbmQiLCJnZXRDb21tYW5kIiwidXBkYXRlQ29tbWFuZCIsImRlbGV0ZUNvbW1hbmQiLCJsaXN0Q29tbWFuZHMiLCJjcmVhdGVDaGFubmVsVHlwZSIsImNvbW1hbmRzIiwiZ2V0Q2hhbm5lbFR5cGUiLCJ1cGRhdGVDaGFubmVsVHlwZSIsImRlbGV0ZUNoYW5uZWxUeXBlIiwibGlzdENoYW5uZWxUeXBlcyIsIl90cmFuc2xhdGVNZXNzYWdlIiwiX2NhbGxlZTU0IiwibGFuZ3VhZ2UiLCJfY2FsbGVlNTQkIiwiX2NvbnRleHQ1NCIsInRyYW5zbGF0ZU1lc3NhZ2UiLCJfeDY2IiwiX3g2NyIsIl9ub3JtYWxpemVFeHBpcmF0aW9uIiwidGltZW91dE9yRXhwaXJhdGlvbkRhdGUiLCJwaW5FeHBpcmVzIiwic2V0U2Vjb25kcyIsImdldFNlY29uZHMiLCJfdmFsaWRhdGVBbmRHZXRNZXNzYWdlSWQiLCJtZXNzYWdlT3JNZXNzYWdlSWQiLCJlcnJvclRleHQiLCJwaW5NZXNzYWdlIiwicGlubmVkQnkiLCJwaW5uZWRBdCIsInBhcnRpYWxVcGRhdGVNZXNzYWdlIiwicGluX2V4cGlyZXMiLCJ1bnBpbk1lc3NhZ2UiLCJfY2FsbGVlNTUiLCJjbG9uZWRNZXNzYWdlIiwicmVzZXJ2ZWRNZXNzYWdlRmllbGRzIiwiX2NhbGxlZTU1JCIsIl9jb250ZXh0NTUiLCJtdSIsIl94NjgiLCJfeDY5IiwiX3g3MCIsIl9wYXJ0aWFsVXBkYXRlTWVzc2FnZSIsIl9jYWxsZWU1NiIsInBhcnRpYWxNZXNzYWdlT2JqZWN0IiwiX2NhbGxlZTU2JCIsIl9jb250ZXh0NTYiLCJfeDcxIiwiX3g3MiIsIl94NzMiLCJfeDc0IiwiX2RlbGV0ZU1lc3NhZ2UiLCJfY2FsbGVlNTciLCJfY2FsbGVlNTckIiwiX2NvbnRleHQ1NyIsImhhcmQiLCJkZWxldGVNZXNzYWdlIiwiX3g3NSIsIl94NzYiLCJfdW5kZWxldGVNZXNzYWdlIiwiX2NhbGxlZTU4IiwiX2NhbGxlZTU4JCIsIl9jb250ZXh0NTgiLCJ1bmRlbGV0ZWRfYnkiLCJ1bmRlbGV0ZU1lc3NhZ2UiLCJfeDc3IiwiX3g3OCIsIl9nZXRNZXNzYWdlIiwiX2NhbGxlZTU5IiwiX2NhbGxlZTU5JCIsIl9jb250ZXh0NTkiLCJnZXRNZXNzYWdlIiwiX3g3OSIsIl94ODAiLCJfcXVlcnlUaHJlYWRzIiwiX2NhbGxlZTYwIiwiX2NhbGxlZTYwJCIsIl9jb250ZXh0NjAiLCJwYXJ0aWNpcGFudF9saW1pdCIsInJlcGx5X2xpbWl0IiwicXVlcnlUaHJlYWRzIiwiX3g4MSIsIl9nZXRUaHJlYWQiLCJfY2FsbGVlNjEiLCJfYXJnczYxIiwiX2NhbGxlZTYxJCIsIl9jb250ZXh0NjEiLCJnZXRUaHJlYWQiLCJfeDgyIiwiX3BhcnRpYWxVcGRhdGVUaHJlYWQiLCJfY2FsbGVlNjIiLCJwYXJ0aWFsVGhyZWFkT2JqZWN0IiwicmVzZXJ2ZWRUaHJlYWRGaWVsZHMiLCJfa2V5NSIsIl9jYWxsZWU2MiQiLCJfY29udGV4dDYyIiwidW5zZXQiLCJwYXJ0aWFsVXBkYXRlVGhyZWFkIiwiX3g4MyIsIl94ODQiLCJzZXRVc2VyQWdlbnQiLCJfb3B0aW9ucyRoZWFkZXJzIiwiX2dldFRva2VuIiwiYXV0aG9yaXphdGlvbiIsIkF1dGhvcml6YXRpb24iLCJzaWduYWwiLCJuZXh0UmVxdWVzdEFib3J0Q29udHJvbGxlciIsIl9yZWY5IiwiYXhpb3NSZXF1ZXN0Q29uZmlnIiwiYXhpb3NSZXF1ZXN0Q29uZmlnUGFyYW1zIiwiYXhpb3NSZXF1ZXN0Q29uZmlnSGVhZGVycyIsImF4aW9zUmVxdWVzdENvbmZpZ1Jlc3QiLCJ0aGF0Iiwic2V0SW50ZXJ2YWwiLCJfaTMiLCJfT2JqZWN0JHZhbHVlczIiLCJfY2hhbm5lbDciLCJ2ZXJpZnlXZWJob29rIiwicmVxdWVzdEJvZHkiLCJ4U2lnbmF0dXJlIiwiZ2V0UGVybWlzc2lvbiIsImNyZWF0ZVBlcm1pc3Npb24iLCJwZXJtaXNzaW9uRGF0YSIsInVwZGF0ZVBlcm1pc3Npb24iLCJkZWxldGVQZXJtaXNzaW9uIiwibGlzdFBlcm1pc3Npb25zIiwiY3JlYXRlUm9sZSIsImxpc3RSb2xlcyIsImRlbGV0ZVJvbGUiLCJzeW5jIiwiY2hhbm5lbF9jaWRzIiwibGFzdF9zeW5jX2F0IiwiX3NlbmRVc2VyQ3VzdG9tRXZlbnQiLCJfY2FsbGVlNjMiLCJfY2FsbGVlNjMkIiwiX2NvbnRleHQ2MyIsInNlbmRVc2VyQ3VzdG9tRXZlbnQiLCJfeDg1IiwiX3g4NiIsImNyZWF0ZUJsb2NrTGlzdCIsImJsb2NrTGlzdCIsImxpc3RCbG9ja0xpc3RzIiwiZ2V0QmxvY2tMaXN0IiwidXBkYXRlQmxvY2tMaXN0IiwiZGVsZXRlQmxvY2tMaXN0IiwiZXhwb3J0Q2hhbm5lbHMiLCJyZXF1ZXN0IiwiZXhwb3J0VXNlcnMiLCJleHBvcnRDaGFubmVsIiwiZ2V0RXhwb3J0Q2hhbm5lbFN0YXR1cyIsImlkT3JEYXRhIiwic2VnbWVudCIsInZhbGlkYXRlU2VydmVyU2lkZUF1dGgiLCJfY3JlYXRlU2VnbWVudCIsIl9jYWxsZWU2NCIsIl9jYWxsZWU2NCQiLCJfY29udGV4dDY0IiwiX3g4NyIsIl94ODgiLCJfeDg5IiwiX2NyZWF0ZVVzZXJTZWdtZW50IiwiX2NhbGxlZTY1IiwiX2NhbGxlZTY1JCIsIl9jb250ZXh0NjUiLCJjcmVhdGVVc2VyU2VnbWVudCIsIl94OTAiLCJfeDkxIiwiX2NyZWF0ZUNoYW5uZWxTZWdtZW50IiwiX2NhbGxlZTY2IiwiX2NhbGxlZTY2JCIsIl9jb250ZXh0NjYiLCJjcmVhdGVDaGFubmVsU2VnbWVudCIsIl94OTIiLCJfeDkzIiwiX2dldFNlZ21lbnQiLCJfY2FsbGVlNjciLCJfY2FsbGVlNjckIiwiX2NvbnRleHQ2NyIsIl94OTQiLCJfdXBkYXRlU2VnbWVudCIsIl9jYWxsZWU2OCIsIl9jYWxsZWU2OCQiLCJfY29udGV4dDY4IiwiX3g5NSIsIl94OTYiLCJfYWRkU2VnbWVudFRhcmdldHMiLCJfY2FsbGVlNjkiLCJfY2FsbGVlNjkkIiwiX2NvbnRleHQ2OSIsInRhcmdldF9pZHMiLCJfeDk3IiwiX3g5OCIsIl9xdWVyeVNlZ21lbnRUYXJnZXRzIiwiX2NhbGxlZTcwIiwiX2FyZ3M3MCIsIl9jYWxsZWU3MCQiLCJfY29udGV4dDcwIiwiX3g5OSIsIl9yZW1vdmVTZWdtZW50VGFyZ2V0cyIsIl9jYWxsZWU3MSIsIl9jYWxsZWU3MSQiLCJfY29udGV4dDcxIiwiX3gxMDAiLCJfeDEwMSIsIl9xdWVyeVNlZ21lbnRzIiwiX2NhbGxlZTcyIiwiX2FyZ3M3MiIsIl9jYWxsZWU3MiQiLCJfY29udGV4dDcyIiwicXVlcnlTZWdtZW50cyIsIl94MTAyIiwiX3gxMDMiLCJfZGVsZXRlU2VnbWVudCIsIl9jYWxsZWU3MyIsIl9jYWxsZWU3MyQiLCJfY29udGV4dDczIiwiX3gxMDQiLCJfc2VnbWVudFRhcmdldEV4aXN0cyIsIl9jYWxsZWU3NCIsInNlZ21lbnRJZCIsIl9jYWxsZWU3NCQiLCJfY29udGV4dDc0IiwiX3gxMDUiLCJfeDEwNiIsIl9jcmVhdGVDYW1wYWlnbiIsIl9jYWxsZWU3NSIsIl9jYWxsZWU3NSQiLCJfY29udGV4dDc1IiwiX3gxMDciLCJfZ2V0Q2FtcGFpZ24iLCJfY2FsbGVlNzYiLCJfY2FsbGVlNzYkIiwiX2NvbnRleHQ3NiIsIl94MTA4IiwiX3N0YXJ0Q2FtcGFpZ24iLCJfY2FsbGVlNzciLCJfY2FsbGVlNzckIiwiX2NvbnRleHQ3NyIsInNjaGVkdWxlZF9mb3IiLCJzY2hlZHVsZWRGb3IiLCJzdG9wX2F0Iiwic3RvcEF0IiwiX3gxMDkiLCJfeDExMCIsIl9xdWVyeUNhbXBhaWducyIsIl9jYWxsZWU3OCIsIl9jYWxsZWU3OCQiLCJfY29udGV4dDc4IiwicXVlcnlDYW1wYWlnbnMiLCJfeDExMSIsIl94MTEyIiwiX3gxMTMiLCJfdXBkYXRlQ2FtcGFpZ24iLCJfY2FsbGVlNzkiLCJfY2FsbGVlNzkkIiwiX2NvbnRleHQ3OSIsIl94MTE0IiwiX3gxMTUiLCJfZGVsZXRlQ2FtcGFpZ24iLCJfY2FsbGVlODAiLCJfY2FsbGVlODAkIiwiX2NvbnRleHQ4MCIsIl94MTE2IiwiX3N0b3BDYW1wYWlnbiIsIl9jYWxsZWU4MSIsIl9jYWxsZWU4MSQiLCJfY29udGV4dDgxIiwiX3gxMTciLCJfZW5yaWNoVVJMIiwiX2NhbGxlZTgyIiwiX2NhbGxlZTgyJCIsIl9jb250ZXh0ODIiLCJlbnJpY2hVUkwiLCJfeDExOCIsIl9nZXRUYXNrIiwiX2NhbGxlZTgzIiwiX2NhbGxlZTgzJCIsIl9jb250ZXh0ODMiLCJnZXRUYXNrIiwiX3gxMTkiLCJfZGVsZXRlQ2hhbm5lbHMiLCJfY2FsbGVlODQiLCJfYXJnczg0IiwiX2NhbGxlZTg0JCIsIl9jb250ZXh0ODQiLCJkZWxldGVDaGFubmVscyIsIl94MTIwIiwiX2RlbGV0ZVVzZXJzIiwiX2NhbGxlZTg1IiwiX2FyZ3M4NSIsIl9jYWxsZWU4NSQiLCJfY29udGV4dDg1IiwiY29udmVyc2F0aW9ucyIsImRlbGV0ZVVzZXJzIiwiX3gxMjEiLCJfY3JlYXRlSW1wb3J0VVJMMiIsIl9jYWxsZWU4NiIsImZpbGVuYW1lIiwiX2NhbGxlZTg2JCIsIl9jb250ZXh0ODYiLCJfY3JlYXRlSW1wb3J0VVJMIiwiX3gxMjIiLCJfY3JlYXRlSW1wb3J0MiIsIl9jYWxsZWU4NyIsInBhdGgiLCJfYXJnczg3IiwiX2NhbGxlZTg3JCIsIl9jb250ZXh0ODciLCJfY3JlYXRlSW1wb3J0IiwiX3gxMjMiLCJfZ2V0SW1wb3J0MiIsIl9jYWxsZWU4OCIsIl9jYWxsZWU4OCQiLCJfY29udGV4dDg4IiwiX2dldEltcG9ydCIsIl94MTI0IiwiX2xpc3RJbXBvcnRzMiIsIl9jYWxsZWU4OSIsIl9jYWxsZWU4OSQiLCJfY29udGV4dDg5IiwiX2xpc3RJbXBvcnRzIiwiX3gxMjUiLCJfdXBzZXJ0UHVzaFByb3ZpZGVyIiwiX2NhbGxlZTkwIiwicHVzaFByb3ZpZGVyIiwiX2NhbGxlZTkwJCIsIl9jb250ZXh0OTAiLCJ1cHNlcnRQdXNoUHJvdmlkZXIiLCJfeDEyNiIsIl9kZWxldGVQdXNoUHJvdmlkZXIiLCJfY2FsbGVlOTEiLCJfcmVmMTAiLCJfY2FsbGVlOTEkIiwiX2NvbnRleHQ5MSIsImRlbGV0ZVB1c2hQcm92aWRlciIsIl94MTI3IiwiX2xpc3RQdXNoUHJvdmlkZXJzIiwiX2NhbGxlZTkyIiwiX2NhbGxlZTkyJCIsIl9jb250ZXh0OTIiLCJsaXN0UHVzaFByb3ZpZGVycyIsImNyZWF0ZUFib3J0Q29udHJvbGxlckZvck5leHRSZXF1ZXN0IiwiQWJvcnRDb250cm9sbGVyIiwiX2NvbW1pdE1lc3NhZ2UiLCJfY2FsbGVlOTMiLCJfY2FsbGVlOTMkIiwiX2NvbnRleHQ5MyIsImNvbW1pdE1lc3NhZ2UiLCJfeDEyOCIsImdldEluc3RhbmNlIiwiX2luc3RhbmNlIiwiRVZFTlRfTUFQIiwiQWxsb3ciLCJEZW55IiwiQW55UmVzb3VyY2UiLCJBbnlSb2xlIiwiTWF4UHJpb3JpdHkiLCJNaW5Qcmlvcml0eSIsIlBlcm1pc3Npb24iLCJwcmlvcml0eSIsInJlc291cmNlcyIsIm93bmVyIiwiYWN0aW9uIiwiQWxsb3dBbGwiLCJEZW55QWxsIiwiQnVpbHRpblJvbGVzIiwiQWRtaW4iLCJBbm9ueW1vdXMiLCJDaGFubmVsTWVtYmVyIiwiQ2hhbm5lbE1vZGVyYXRvciIsIkd1ZXN0IiwiVXNlciIsIkJ1aWx0aW5QZXJtaXNzaW9ucyIsIkFkZExpbmtzIiwiQmFuVXNlciIsIkNyZWF0ZUNoYW5uZWwiLCJDcmVhdGVNZXNzYWdlIiwiQ3JlYXRlUmVhY3Rpb24iLCJEZWxldGVBbnlBdHRhY2htZW50IiwiRGVsZXRlQW55Q2hhbm5lbCIsIkRlbGV0ZUFueU1lc3NhZ2UiLCJEZWxldGVBbnlSZWFjdGlvbiIsIkRlbGV0ZU93bkF0dGFjaG1lbnQiLCJEZWxldGVPd25DaGFubmVsIiwiRGVsZXRlT3duTWVzc2FnZSIsIkRlbGV0ZU93blJlYWN0aW9uIiwiUmVhZEFueUNoYW5uZWwiLCJSZWFkT3duQ2hhbm5lbCIsIlJ1bk1lc3NhZ2VBY3Rpb24iLCJVcGRhdGVBbnlDaGFubmVsIiwiVXBkYXRlQW55TWVzc2FnZSIsIlVwZGF0ZU1lbWJlcnNBbnlDaGFubmVsIiwiVXBkYXRlTWVtYmVyc093bkNoYW5uZWwiLCJVcGRhdGVPd25DaGFubmVsIiwiVXBkYXRlT3duTWVzc2FnZSIsIlVwbG9hZEF0dGFjaG1lbnQiLCJVc2VGcm96ZW5DaGFubmVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/dist/index.es.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/isomorphic-ws/node.js":
/*!*********************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/isomorphic-ws/node.js ***!
  \*********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nmodule.exports = __webpack_require__(/*! ws */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/index.js\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvaXNvbW9ycGhpYy13cy9ub2RlLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNIQUE4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rldi1maW5kZXIvLi9ub2RlX21vZHVsZXMvc3RyZWFtLWNoYXQvbm9kZV9tb2R1bGVzL2lzb21vcnBoaWMtd3Mvbm9kZS5qcz8zYzM2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ3dzJyk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/isomorphic-ws/node.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/index.js ***!
  \***********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst WebSocket = __webpack_require__(/*! ./lib/websocket */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/websocket.js\");\n\nWebSocket.createWebSocketStream = __webpack_require__(/*! ./lib/stream */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/stream.js\");\nWebSocket.Server = __webpack_require__(/*! ./lib/websocket-server */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/websocket-server.js\");\nWebSocket.Receiver = __webpack_require__(/*! ./lib/receiver */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/receiver.js\");\nWebSocket.Sender = __webpack_require__(/*! ./lib/sender */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/sender.js\");\n\nmodule.exports = WebSocket;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsa0JBQWtCLG1CQUFPLENBQUMscUdBQWlCOztBQUUzQyxrQ0FBa0MsbUJBQU8sQ0FBQywrRkFBYztBQUN4RCxtQkFBbUIsbUJBQU8sQ0FBQyxtSEFBd0I7QUFDbkQscUJBQXFCLG1CQUFPLENBQUMsbUdBQWdCO0FBQzdDLG1CQUFtQixtQkFBTyxDQUFDLCtGQUFjOztBQUV6QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rldi1maW5kZXIvLi9ub2RlX21vZHVsZXMvc3RyZWFtLWNoYXQvbm9kZV9tb2R1bGVzL3dzL2luZGV4LmpzP2E5OTkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBXZWJTb2NrZXQgPSByZXF1aXJlKCcuL2xpYi93ZWJzb2NrZXQnKTtcblxuV2ViU29ja2V0LmNyZWF0ZVdlYlNvY2tldFN0cmVhbSA9IHJlcXVpcmUoJy4vbGliL3N0cmVhbScpO1xuV2ViU29ja2V0LlNlcnZlciA9IHJlcXVpcmUoJy4vbGliL3dlYnNvY2tldC1zZXJ2ZXInKTtcbldlYlNvY2tldC5SZWNlaXZlciA9IHJlcXVpcmUoJy4vbGliL3JlY2VpdmVyJyk7XG5XZWJTb2NrZXQuU2VuZGVyID0gcmVxdWlyZSgnLi9saWIvc2VuZGVyJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gV2ViU29ja2V0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/buffer-util.js":
/*!*********************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/buffer-util.js ***!
  \*********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst { EMPTY_BUFFER } = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/constants.js\");\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) return target.slice(0, offset);\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n  const length = buffer.length;\n  for (let i = 0; i < length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = Buffer.from(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\ntry {\n  const bufferUtil = __webpack_require__(/*! bufferutil */ \"?6549\");\n  const bu = bufferUtil.BufferUtil || bufferUtil;\n\n  module.exports = {\n    concat,\n    mask(source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bu.mask(source, mask, output, offset, length);\n    },\n    toArrayBuffer,\n    toBuffer,\n    unmask(buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bu.unmask(buffer, mask);\n    }\n  };\n} catch (e) /* istanbul ignore next */ {\n  module.exports = {\n    concat,\n    mask: _mask,\n    toArrayBuffer,\n    toBuffer,\n    unmask: _unmask\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL2J1ZmZlci11dGlsLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFFBQVEsZUFBZSxFQUFFLG1CQUFPLENBQUMsaUdBQWE7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQixXQUFXLFFBQVE7QUFDbkIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0IsaUJBQWlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsWUFBWTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFlBQVk7QUFDOUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsWUFBWSxRQUFRO0FBQ3BCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLG1CQUFPLENBQUMseUJBQVk7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2LWZpbmRlci8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL2J1ZmZlci11dGlsLmpzPzljOWMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB7IEVNUFRZX0JVRkZFUiB9ID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcblxuLyoqXG4gKiBNZXJnZXMgYW4gYXJyYXkgb2YgYnVmZmVycyBpbnRvIGEgbmV3IGJ1ZmZlci5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcltdfSBsaXN0IFRoZSBhcnJheSBvZiBidWZmZXJzIHRvIGNvbmNhdFxuICogQHBhcmFtIHtOdW1iZXJ9IHRvdGFsTGVuZ3RoIFRoZSB0b3RhbCBsZW5ndGggb2YgYnVmZmVycyBpbiB0aGUgbGlzdFxuICogQHJldHVybiB7QnVmZmVyfSBUaGUgcmVzdWx0aW5nIGJ1ZmZlclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBjb25jYXQobGlzdCwgdG90YWxMZW5ndGgpIHtcbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSByZXR1cm4gRU1QVFlfQlVGRkVSO1xuICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHJldHVybiBsaXN0WzBdO1xuXG4gIGNvbnN0IHRhcmdldCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSh0b3RhbExlbmd0aCk7XG4gIGxldCBvZmZzZXQgPSAwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGJ1ZiA9IGxpc3RbaV07XG4gICAgdGFyZ2V0LnNldChidWYsIG9mZnNldCk7XG4gICAgb2Zmc2V0ICs9IGJ1Zi5sZW5ndGg7XG4gIH1cblxuICBpZiAob2Zmc2V0IDwgdG90YWxMZW5ndGgpIHJldHVybiB0YXJnZXQuc2xpY2UoMCwgb2Zmc2V0KTtcblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIE1hc2tzIGEgYnVmZmVyIHVzaW5nIHRoZSBnaXZlbiBtYXNrLlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfSBzb3VyY2UgVGhlIGJ1ZmZlciB0byBtYXNrXG4gKiBAcGFyYW0ge0J1ZmZlcn0gbWFzayBUaGUgbWFzayB0byB1c2VcbiAqIEBwYXJhbSB7QnVmZmVyfSBvdXRwdXQgVGhlIGJ1ZmZlciB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0IFRoZSBvZmZzZXQgYXQgd2hpY2ggdG8gc3RhcnQgd3JpdGluZ1xuICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgbnVtYmVyIG9mIGJ5dGVzIHRvIG1hc2suXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIF9tYXNrKHNvdXJjZSwgbWFzaywgb3V0cHV0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgb3V0cHV0W29mZnNldCArIGldID0gc291cmNlW2ldIF4gbWFza1tpICYgM107XG4gIH1cbn1cblxuLyoqXG4gKiBVbm1hc2tzIGEgYnVmZmVyIHVzaW5nIHRoZSBnaXZlbiBtYXNrLlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgVGhlIGJ1ZmZlciB0byB1bm1hc2tcbiAqIEBwYXJhbSB7QnVmZmVyfSBtYXNrIFRoZSBtYXNrIHRvIHVzZVxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBfdW5tYXNrKGJ1ZmZlciwgbWFzaykge1xuICAvLyBSZXF1aXJlZCB1bnRpbCBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzkwMDYgaXMgcmVzb2x2ZWQuXG4gIGNvbnN0IGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBidWZmZXJbaV0gXj0gbWFza1tpICYgM107XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGJ1ZmZlciB0byBhbiBgQXJyYXlCdWZmZXJgLlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWYgVGhlIGJ1ZmZlciB0byBjb252ZXJ0XG4gKiBAcmV0dXJuIHtBcnJheUJ1ZmZlcn0gQ29udmVydGVkIGJ1ZmZlclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiB0b0FycmF5QnVmZmVyKGJ1Zikge1xuICBpZiAoYnVmLmJ5dGVMZW5ndGggPT09IGJ1Zi5idWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgIHJldHVybiBidWYuYnVmZmVyO1xuICB9XG5cbiAgcmV0dXJuIGJ1Zi5idWZmZXIuc2xpY2UoYnVmLmJ5dGVPZmZzZXQsIGJ1Zi5ieXRlT2Zmc2V0ICsgYnVmLmJ5dGVMZW5ndGgpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBkYXRhYCB0byBhIGBCdWZmZXJgLlxuICpcbiAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgZGF0YSB0byBjb252ZXJ0XG4gKiBAcmV0dXJuIHtCdWZmZXJ9IFRoZSBidWZmZXJcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn1cbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gdG9CdWZmZXIoZGF0YSkge1xuICB0b0J1ZmZlci5yZWFkT25seSA9IHRydWU7XG5cbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihkYXRhKSkgcmV0dXJuIGRhdGE7XG5cbiAgbGV0IGJ1ZjtcblxuICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgYnVmID0gQnVmZmVyLmZyb20oZGF0YSk7XG4gIH0gZWxzZSBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGRhdGEpKSB7XG4gICAgYnVmID0gQnVmZmVyLmZyb20oZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKTtcbiAgfSBlbHNlIHtcbiAgICBidWYgPSBCdWZmZXIuZnJvbShkYXRhKTtcbiAgICB0b0J1ZmZlci5yZWFkT25seSA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGJ1Zjtcbn1cblxudHJ5IHtcbiAgY29uc3QgYnVmZmVyVXRpbCA9IHJlcXVpcmUoJ2J1ZmZlcnV0aWwnKTtcbiAgY29uc3QgYnUgPSBidWZmZXJVdGlsLkJ1ZmZlclV0aWwgfHwgYnVmZmVyVXRpbDtcblxuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjb25jYXQsXG4gICAgbWFzayhzb3VyY2UsIG1hc2ssIG91dHB1dCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgIGlmIChsZW5ndGggPCA0OCkgX21hc2soc291cmNlLCBtYXNrLCBvdXRwdXQsIG9mZnNldCwgbGVuZ3RoKTtcbiAgICAgIGVsc2UgYnUubWFzayhzb3VyY2UsIG1hc2ssIG91dHB1dCwgb2Zmc2V0LCBsZW5ndGgpO1xuICAgIH0sXG4gICAgdG9BcnJheUJ1ZmZlcixcbiAgICB0b0J1ZmZlcixcbiAgICB1bm1hc2soYnVmZmVyLCBtYXNrKSB7XG4gICAgICBpZiAoYnVmZmVyLmxlbmd0aCA8IDMyKSBfdW5tYXNrKGJ1ZmZlciwgbWFzayk7XG4gICAgICBlbHNlIGJ1LnVubWFzayhidWZmZXIsIG1hc2spO1xuICAgIH1cbiAgfTtcbn0gY2F0Y2ggKGUpIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY29uY2F0LFxuICAgIG1hc2s6IF9tYXNrLFxuICAgIHRvQXJyYXlCdWZmZXIsXG4gICAgdG9CdWZmZXIsXG4gICAgdW5tYXNrOiBfdW5tYXNrXG4gIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/buffer-util.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/constants.js":
/*!*******************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/constants.js ***!
  \*******************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  EMPTY_BUFFER: Buffer.alloc(0),\n  NOOP: () => {}\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2LWZpbmRlci8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL2NvbnN0YW50cy5qcz9jODMxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIEJJTkFSWV9UWVBFUzogWydub2RlYnVmZmVyJywgJ2FycmF5YnVmZmVyJywgJ2ZyYWdtZW50cyddLFxuICBHVUlEOiAnMjU4RUFGQTUtRTkxNC00N0RBLTk1Q0EtQzVBQjBEQzg1QjExJyxcbiAga1N0YXR1c0NvZGU6IFN5bWJvbCgnc3RhdHVzLWNvZGUnKSxcbiAga1dlYlNvY2tldDogU3ltYm9sKCd3ZWJzb2NrZXQnKSxcbiAgRU1QVFlfQlVGRkVSOiBCdWZmZXIuYWxsb2MoMCksXG4gIE5PT1A6ICgpID0+IHt9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/constants.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/event-target.js":
/*!**********************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/event-target.js ***!
  \**********************************************************************/
/***/ ((module) => {

eval("\n\n/**\n * Class representing an event.\n *\n * @private\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(type, target) {\n    this.target = target;\n    this.type = type;\n  }\n}\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n * @private\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The received data\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(data, target) {\n    super('message', target);\n\n    this.data = data;\n  }\n}\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n * @private\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {Number} code The status code explaining why the connection is being\n   *     closed\n   * @param {String} reason A human-readable string explaining why the\n   *     connection is closing\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(code, reason, target) {\n    super('close', target);\n\n    this.wasClean = target._closeFrameReceived && target._closeFrameSent;\n    this.reason = reason;\n    this.code = code;\n  }\n}\n\n/**\n * Class representing an open event.\n *\n * @extends Event\n * @private\n */\nclass OpenEvent extends Event {\n  /**\n   * Create a new `OpenEvent`.\n   *\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(target) {\n    super('open', target);\n  }\n}\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n * @private\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {Object} error The error that generated this event\n   * @param {WebSocket} target A reference to the target to which the event was\n   *     dispatched\n   */\n  constructor(error, target) {\n    super('error', target);\n\n    this.message = error.message;\n    this.error = error;\n  }\n}\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {Function} listener The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean`` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, listener, options) {\n    if (typeof listener !== 'function') return;\n\n    function onMessage(data) {\n      listener.call(this, new MessageEvent(data, this));\n    }\n\n    function onClose(code, message) {\n      listener.call(this, new CloseEvent(code, message, this));\n    }\n\n    function onError(error) {\n      listener.call(this, new ErrorEvent(error, this));\n    }\n\n    function onOpen() {\n      listener.call(this, new OpenEvent(this));\n    }\n\n    const method = options && options.once ? 'once' : 'on';\n\n    if (type === 'message') {\n      onMessage._listener = listener;\n      this[method](type, onMessage);\n    } else if (type === 'close') {\n      onClose._listener = listener;\n      this[method](type, onClose);\n    } else if (type === 'error') {\n      onError._listener = listener;\n      this[method](type, onError);\n    } else if (type === 'open') {\n      onOpen._listener = listener;\n      this[method](type, onOpen);\n    } else {\n      this[method](type, listener);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {Function} listener The listener to remove\n   * @public\n   */\n  removeEventListener(type, listener) {\n    const listeners = this.listeners(type);\n\n    for (let i = 0; i < listeners.length; i++) {\n      if (listeners[i] === listener || listeners[i]._listener === listener) {\n        this.removeListener(type, listeners[i]);\n      }\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL2V2ZW50LXRhcmdldC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzQ0FBc0M7QUFDbkQsYUFBYSxXQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsV0FBVztBQUN4QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxXQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFdBQVc7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixzQkFBc0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2LWZpbmRlci8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL2V2ZW50LXRhcmdldC5qcz8yYmJhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYW4gZXZlbnQuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgRXZlbnQge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGBFdmVudGAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IEEgcmVmZXJlbmNlIHRvIHRoZSB0YXJnZXQgdG8gd2hpY2ggdGhlIGV2ZW50IHdhc1xuICAgKiAgICAgZGlzcGF0Y2hlZFxuICAgKi9cbiAgY29uc3RydWN0b3IodHlwZSwgdGFyZ2V0KSB7XG4gICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgfVxufVxuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIG1lc3NhZ2UgZXZlbnQuXG4gKlxuICogQGV4dGVuZHMgRXZlbnRcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIE1lc3NhZ2VFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBgTWVzc2FnZUV2ZW50YC5cbiAgICpcbiAgICogQHBhcmFtIHsoU3RyaW5nfEJ1ZmZlcnxBcnJheUJ1ZmZlcnxCdWZmZXJbXSl9IGRhdGEgVGhlIHJlY2VpdmVkIGRhdGFcbiAgICogQHBhcmFtIHtXZWJTb2NrZXR9IHRhcmdldCBBIHJlZmVyZW5jZSB0byB0aGUgdGFyZ2V0IHRvIHdoaWNoIHRoZSBldmVudCB3YXNcbiAgICogICAgIGRpc3BhdGNoZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHRhcmdldCkge1xuICAgIHN1cGVyKCdtZXNzYWdlJywgdGFyZ2V0KTtcblxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSBjbG9zZSBldmVudC5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgQ2xvc2VFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBgQ2xvc2VFdmVudGAuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlIFRoZSBzdGF0dXMgY29kZSBleHBsYWluaW5nIHdoeSB0aGUgY29ubmVjdGlvbiBpcyBiZWluZ1xuICAgKiAgICAgY2xvc2VkXG4gICAqIEBwYXJhbSB7U3RyaW5nfSByZWFzb24gQSBodW1hbi1yZWFkYWJsZSBzdHJpbmcgZXhwbGFpbmluZyB3aHkgdGhlXG4gICAqICAgICBjb25uZWN0aW9uIGlzIGNsb3NpbmdcbiAgICogQHBhcmFtIHtXZWJTb2NrZXR9IHRhcmdldCBBIHJlZmVyZW5jZSB0byB0aGUgdGFyZ2V0IHRvIHdoaWNoIHRoZSBldmVudCB3YXNcbiAgICogICAgIGRpc3BhdGNoZWRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvZGUsIHJlYXNvbiwgdGFyZ2V0KSB7XG4gICAgc3VwZXIoJ2Nsb3NlJywgdGFyZ2V0KTtcblxuICAgIHRoaXMud2FzQ2xlYW4gPSB0YXJnZXQuX2Nsb3NlRnJhbWVSZWNlaXZlZCAmJiB0YXJnZXQuX2Nsb3NlRnJhbWVTZW50O1xuICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYW4gb3BlbiBldmVudC5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudFxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgT3BlbkV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGBPcGVuRXZlbnRgLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYlNvY2tldH0gdGFyZ2V0IEEgcmVmZXJlbmNlIHRvIHRoZSB0YXJnZXQgdG8gd2hpY2ggdGhlIGV2ZW50IHdhc1xuICAgKiAgICAgZGlzcGF0Y2hlZFxuICAgKi9cbiAgY29uc3RydWN0b3IodGFyZ2V0KSB7XG4gICAgc3VwZXIoJ29wZW4nLCB0YXJnZXQpO1xuICB9XG59XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGFuIGVycm9yIGV2ZW50LlxuICpcbiAqIEBleHRlbmRzIEV2ZW50XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBFcnJvckV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGBFcnJvckV2ZW50YC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGVycm9yIFRoZSBlcnJvciB0aGF0IGdlbmVyYXRlZCB0aGlzIGV2ZW50XG4gICAqIEBwYXJhbSB7V2ViU29ja2V0fSB0YXJnZXQgQSByZWZlcmVuY2UgdG8gdGhlIHRhcmdldCB0byB3aGljaCB0aGUgZXZlbnQgd2FzXG4gICAqICAgICBkaXNwYXRjaGVkXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlcnJvciwgdGFyZ2V0KSB7XG4gICAgc3VwZXIoJ2Vycm9yJywgdGFyZ2V0KTtcblxuICAgIHRoaXMubWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogVGhpcyBwcm92aWRlcyBtZXRob2RzIGZvciBlbXVsYXRpbmcgdGhlIGBFdmVudFRhcmdldGAgaW50ZXJmYWNlLiBJdCdzIG5vdFxuICogbWVhbnQgdG8gYmUgdXNlZCBkaXJlY3RseS5cbiAqXG4gKiBAbWl4aW5cbiAqL1xuY29uc3QgRXZlbnRUYXJnZXQgPSB7XG4gIC8qKlxuICAgKiBSZWdpc3RlciBhbiBldmVudCBsaXN0ZW5lci5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBldmVudCB0eXBlIHRvIGxpc3RlbiBmb3JcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIHRvIGFkZFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIEFuIG9wdGlvbnMgb2JqZWN0IHNwZWNpZmllcyBjaGFyYWN0ZXJpc3RpY3MgYWJvdXRcbiAgICogICAgIHRoZSBldmVudCBsaXN0ZW5lclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm9uY2U9ZmFsc2VdIEEgYEJvb2xlYW5gYCBpbmRpY2F0aW5nIHRoYXQgdGhlXG4gICAqICAgICBsaXN0ZW5lciBzaG91bGQgYmUgaW52b2tlZCBhdCBtb3N0IG9uY2UgYWZ0ZXIgYmVpbmcgYWRkZWQuIElmIGB0cnVlYCxcbiAgICogICAgIHRoZSBsaXN0ZW5lciB3b3VsZCBiZSBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgd2hlbiBpbnZva2VkLlxuICAgKiBAcHVibGljXG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuO1xuXG4gICAgZnVuY3Rpb24gb25NZXNzYWdlKGRhdGEpIHtcbiAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgbmV3IE1lc3NhZ2VFdmVudChkYXRhLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25DbG9zZShjb2RlLCBtZXNzYWdlKSB7XG4gICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIG5ldyBDbG9zZUV2ZW50KGNvZGUsIG1lc3NhZ2UsIHRoaXMpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkVycm9yKGVycm9yKSB7XG4gICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIG5ldyBFcnJvckV2ZW50KGVycm9yLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25PcGVuKCkge1xuICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBuZXcgT3BlbkV2ZW50KHRoaXMpKTtcbiAgICB9XG5cbiAgICBjb25zdCBtZXRob2QgPSBvcHRpb25zICYmIG9wdGlvbnMub25jZSA/ICdvbmNlJyA6ICdvbic7XG5cbiAgICBpZiAodHlwZSA9PT0gJ21lc3NhZ2UnKSB7XG4gICAgICBvbk1lc3NhZ2UuX2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICB0aGlzW21ldGhvZF0odHlwZSwgb25NZXNzYWdlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdjbG9zZScpIHtcbiAgICAgIG9uQ2xvc2UuX2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICB0aGlzW21ldGhvZF0odHlwZSwgb25DbG9zZSk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgICBvbkVycm9yLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgdGhpc1ttZXRob2RdKHR5cGUsIG9uRXJyb3IpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29wZW4nKSB7XG4gICAgICBvbk9wZW4uX2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICB0aGlzW21ldGhvZF0odHlwZSwgb25PcGVuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpc1ttZXRob2RdKHR5cGUsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lci5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBldmVudCB0eXBlIHRvIHJlbW92ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgdG8gcmVtb3ZlXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycyh0eXBlKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldID09PSBsaXN0ZW5lciB8fCBsaXN0ZW5lcnNbaV0uX2xpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50VGFyZ2V0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/event-target.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/extension.js":
/*!*******************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/extension.js ***!
  \*******************************************************************/
/***/ ((module) => {

eval("\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n\n  if (header === undefined || header === '') return offers;\n\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 /* ' ' */ || code === 0x09 /* '\\t' */) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL2V4dGVuc2lvbi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyx5QkFBeUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxtQkFBbUI7QUFDNUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUSw0QkFBNEI7QUFDcEM7QUFDQSxpRUFBaUUsRUFBRTtBQUNuRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1IsK0RBQStELEVBQUU7QUFDakU7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLGlFQUFpRSxFQUFFO0FBQ25FOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsK0RBQStELEVBQUU7QUFDakU7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsRUFBRTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1YsaUVBQWlFLEVBQUU7QUFDbkU7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQSxpRUFBaUUsRUFBRTtBQUNuRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUiwrREFBK0QsRUFBRTtBQUNqRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxFQUFFLEdBQUcsRUFBRTtBQUMxRCwyQkFBMkI7QUFDM0IsZUFBZTtBQUNmO0FBQ0EscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBLG1CQUFtQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rldi1maW5kZXIvLi9ub2RlX21vZHVsZXMvc3RyZWFtLWNoYXQvbm9kZV9tb2R1bGVzL3dzL2xpYi9leHRlbnNpb24uanM/MzNkOCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbi8vXG4vLyBBbGxvd2VkIHRva2VuIGNoYXJhY3RlcnM6XG4vL1xuLy8gJyEnLCAnIycsICckJywgJyUnLCAnJicsICcnJywgJyonLCAnKycsICctJyxcbi8vICcuJywgMC05LCBBLVosICdeJywgJ18nLCAnYCcsIGEteiwgJ3wnLCAnfidcbi8vXG4vLyB0b2tlbkNoYXJzWzMyXSA9PT0gMCAvLyAnICdcbi8vIHRva2VuQ2hhcnNbMzNdID09PSAxIC8vICchJ1xuLy8gdG9rZW5DaGFyc1szNF0gPT09IDAgLy8gJ1wiJ1xuLy8gLi4uXG4vL1xuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCB0b2tlbkNoYXJzID0gW1xuICAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAvLyAwIC0gMTVcbiAgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgLy8gMTYgLSAzMVxuICAwLCAxLCAwLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAxLCAxLCAwLCAxLCAxLCAwLCAvLyAzMiAtIDQ3XG4gIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDAsIDAsIDAsIDAsIDAsIC8vIDQ4IC0gNjNcbiAgMCwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgLy8gNjQgLSA3OVxuICAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAwLCAwLCAwLCAxLCAxLCAvLyA4MCAtIDk1XG4gIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIC8vIDk2IC0gMTExXG4gIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDAsIDEsIDAsIDEsIDAgLy8gMTEyIC0gMTI3XG5dO1xuXG4vKipcbiAqIEFkZHMgYW4gb2ZmZXIgdG8gdGhlIG1hcCBvZiBleHRlbnNpb24gb2ZmZXJzIG9yIGEgcGFyYW1ldGVyIHRvIHRoZSBtYXAgb2ZcbiAqIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlc3QgVGhlIG1hcCBvZiBleHRlbnNpb24gb2ZmZXJzIG9yIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSBleHRlbnNpb24gb3IgcGFyYW1ldGVyIG5hbWVcbiAqIEBwYXJhbSB7KE9iamVjdHxCb29sZWFufFN0cmluZyl9IGVsZW0gVGhlIGV4dGVuc2lvbiBwYXJhbWV0ZXJzIG9yIHRoZVxuICogICAgIHBhcmFtZXRlciB2YWx1ZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcHVzaChkZXN0LCBuYW1lLCBlbGVtKSB7XG4gIGlmIChkZXN0W25hbWVdID09PSB1bmRlZmluZWQpIGRlc3RbbmFtZV0gPSBbZWxlbV07XG4gIGVsc2UgZGVzdFtuYW1lXS5wdXNoKGVsZW0pO1xufVxuXG4vKipcbiAqIFBhcnNlcyB0aGUgYFNlYy1XZWJTb2NrZXQtRXh0ZW5zaW9uc2AgaGVhZGVyIGludG8gYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkZXIgVGhlIGZpZWxkIHZhbHVlIG9mIHRoZSBoZWFkZXJcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIHBhcnNlZCBvYmplY3RcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gcGFyc2UoaGVhZGVyKSB7XG4gIGNvbnN0IG9mZmVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgaWYgKGhlYWRlciA9PT0gdW5kZWZpbmVkIHx8IGhlYWRlciA9PT0gJycpIHJldHVybiBvZmZlcnM7XG5cbiAgbGV0IHBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGxldCBtdXN0VW5lc2NhcGUgPSBmYWxzZTtcbiAgbGV0IGlzRXNjYXBpbmcgPSBmYWxzZTtcbiAgbGV0IGluUXVvdGVzID0gZmFsc2U7XG4gIGxldCBleHRlbnNpb25OYW1lO1xuICBsZXQgcGFyYW1OYW1lO1xuICBsZXQgc3RhcnQgPSAtMTtcbiAgbGV0IGVuZCA9IC0xO1xuICBsZXQgaSA9IDA7XG5cbiAgZm9yICg7IGkgPCBoZWFkZXIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjb2RlID0gaGVhZGVyLmNoYXJDb2RlQXQoaSk7XG5cbiAgICBpZiAoZXh0ZW5zaW9uTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoZW5kID09PSAtMSAmJiB0b2tlbkNoYXJzW2NvZGVdID09PSAxKSB7XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHN0YXJ0ID0gaTtcbiAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgyMCAvKiAnICcgKi8gfHwgY29kZSA9PT0gMHgwOSAvKiAnXFx0JyAqLykge1xuICAgICAgICBpZiAoZW5kID09PSAtMSAmJiBzdGFydCAhPT0gLTEpIGVuZCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4M2IgLyogJzsnICovIHx8IGNvZGUgPT09IDB4MmMgLyogJywnICovKSB7XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbmQgPT09IC0xKSBlbmQgPSBpO1xuICAgICAgICBjb25zdCBuYW1lID0gaGVhZGVyLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICBpZiAoY29kZSA9PT0gMHgyYykge1xuICAgICAgICAgIHB1c2gob2ZmZXJzLCBuYW1lLCBwYXJhbXMpO1xuICAgICAgICAgIHBhcmFtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXh0ZW5zaW9uTmFtZSA9IG5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBzdGFydCA9IGVuZCA9IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhdCBpbmRleCAke2l9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwYXJhbU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGVuZCA9PT0gLTEgJiYgdG9rZW5DaGFyc1tjb2RlXSA9PT0gMSkge1xuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSBzdGFydCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4MjAgfHwgY29kZSA9PT0gMHgwOSkge1xuICAgICAgICBpZiAoZW5kID09PSAtMSAmJiBzdGFydCAhPT0gLTEpIGVuZCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKGNvZGUgPT09IDB4M2IgfHwgY29kZSA9PT0gMHgyYykge1xuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBVbmV4cGVjdGVkIGNoYXJhY3RlciBhdCBpbmRleCAke2l9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5kID09PSAtMSkgZW5kID0gaTtcbiAgICAgICAgcHVzaChwYXJhbXMsIGhlYWRlci5zbGljZShzdGFydCwgZW5kKSwgdHJ1ZSk7XG4gICAgICAgIGlmIChjb2RlID09PSAweDJjKSB7XG4gICAgICAgICAgcHVzaChvZmZlcnMsIGV4dGVuc2lvbk5hbWUsIHBhcmFtcyk7XG4gICAgICAgICAgcGFyYW1zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBleHRlbnNpb25OYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhcnQgPSBlbmQgPSAtMTtcbiAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgzZCAvKiAnPScgKi8gJiYgc3RhcnQgIT09IC0xICYmIGVuZCA9PT0gLTEpIHtcbiAgICAgICAgcGFyYW1OYW1lID0gaGVhZGVyLnNsaWNlKHN0YXJ0LCBpKTtcbiAgICAgICAgc3RhcnQgPSBlbmQgPSAtMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgVW5leHBlY3RlZCBjaGFyYWN0ZXIgYXQgaW5kZXggJHtpfWApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvL1xuICAgICAgLy8gVGhlIHZhbHVlIG9mIGEgcXVvdGVkLXN0cmluZyBhZnRlciB1bmVzY2FwaW5nIG11c3QgY29uZm9ybSB0byB0aGVcbiAgICAgIC8vIHRva2VuIEFCTkYsIHNvIG9ubHkgdG9rZW4gY2hhcmFjdGVycyBhcmUgdmFsaWQuXG4gICAgICAvLyBSZWY6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NDU1I3NlY3Rpb24tOS4xXG4gICAgICAvL1xuICAgICAgaWYgKGlzRXNjYXBpbmcpIHtcbiAgICAgICAgaWYgKHRva2VuQ2hhcnNbY29kZV0gIT09IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSBzdGFydCA9IGk7XG4gICAgICAgIGVsc2UgaWYgKCFtdXN0VW5lc2NhcGUpIG11c3RVbmVzY2FwZSA9IHRydWU7XG4gICAgICAgIGlzRXNjYXBpbmcgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAoaW5RdW90ZXMpIHtcbiAgICAgICAgaWYgKHRva2VuQ2hhcnNbY29kZV0gPT09IDEpIHtcbiAgICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSBzdGFydCA9IGk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgyMiAvKiAnXCInICovICYmIHN0YXJ0ICE9PSAtMSkge1xuICAgICAgICAgIGluUXVvdGVzID0gZmFsc2U7XG4gICAgICAgICAgZW5kID0gaTtcbiAgICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDVjIC8qICdcXCcgKi8pIHtcbiAgICAgICAgICBpc0VzY2FwaW5nID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAweDIyICYmIGhlYWRlci5jaGFyQ29kZUF0KGkgLSAxKSA9PT0gMHgzZCkge1xuICAgICAgICBpblF1b3RlcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGVuZCA9PT0gLTEgJiYgdG9rZW5DaGFyc1tjb2RlXSA9PT0gMSkge1xuICAgICAgICBpZiAoc3RhcnQgPT09IC0xKSBzdGFydCA9IGk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0ICE9PSAtMSAmJiAoY29kZSA9PT0gMHgyMCB8fCBjb2RlID09PSAweDA5KSkge1xuICAgICAgICBpZiAoZW5kID09PSAtMSkgZW5kID0gaTtcbiAgICAgIH0gZWxzZSBpZiAoY29kZSA9PT0gMHgzYiB8fCBjb2RlID09PSAweDJjKSB7XG4gICAgICAgIGlmIChzdGFydCA9PT0gLTEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbmQgPT09IC0xKSBlbmQgPSBpO1xuICAgICAgICBsZXQgdmFsdWUgPSBoZWFkZXIuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIGlmIChtdXN0VW5lc2NhcGUpIHtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgICAgICAgIG11c3RVbmVzY2FwZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHB1c2gocGFyYW1zLCBwYXJhbU5hbWUsIHZhbHVlKTtcbiAgICAgICAgaWYgKGNvZGUgPT09IDB4MmMpIHtcbiAgICAgICAgICBwdXNoKG9mZmVycywgZXh0ZW5zaW9uTmFtZSwgcGFyYW1zKTtcbiAgICAgICAgICBwYXJhbXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGV4dGVuc2lvbk5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJhbU5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHN0YXJ0ID0gZW5kID0gLTE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoYFVuZXhwZWN0ZWQgY2hhcmFjdGVyIGF0IGluZGV4ICR7aX1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc3RhcnQgPT09IC0xIHx8IGluUXVvdGVzKSB7XG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdVbmV4cGVjdGVkIGVuZCBvZiBpbnB1dCcpO1xuICB9XG5cbiAgaWYgKGVuZCA9PT0gLTEpIGVuZCA9IGk7XG4gIGNvbnN0IHRva2VuID0gaGVhZGVyLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICBpZiAoZXh0ZW5zaW9uTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcHVzaChvZmZlcnMsIHRva2VuLCBwYXJhbXMpO1xuICB9IGVsc2Uge1xuICAgIGlmIChwYXJhbU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcHVzaChwYXJhbXMsIHRva2VuLCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKG11c3RVbmVzY2FwZSkge1xuICAgICAgcHVzaChwYXJhbXMsIHBhcmFtTmFtZSwgdG9rZW4ucmVwbGFjZSgvXFxcXC9nLCAnJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwdXNoKHBhcmFtcywgcGFyYW1OYW1lLCB0b2tlbik7XG4gICAgfVxuICAgIHB1c2gob2ZmZXJzLCBleHRlbnNpb25OYW1lLCBwYXJhbXMpO1xuICB9XG5cbiAgcmV0dXJuIG9mZmVycztcbn1cblxuLyoqXG4gKiBCdWlsZHMgdGhlIGBTZWMtV2ViU29ja2V0LUV4dGVuc2lvbnNgIGhlYWRlciBmaWVsZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZXh0ZW5zaW9ucyBUaGUgbWFwIG9mIGV4dGVuc2lvbnMgYW5kIHBhcmFtZXRlcnMgdG8gZm9ybWF0XG4gKiBAcmV0dXJuIHtTdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gb2JqZWN0XG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdChleHRlbnNpb25zKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhleHRlbnNpb25zKVxuICAgIC5tYXAoKGV4dGVuc2lvbikgPT4ge1xuICAgICAgbGV0IGNvbmZpZ3VyYXRpb25zID0gZXh0ZW5zaW9uc1tleHRlbnNpb25dO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbmZpZ3VyYXRpb25zKSkgY29uZmlndXJhdGlvbnMgPSBbY29uZmlndXJhdGlvbnNdO1xuICAgICAgcmV0dXJuIGNvbmZpZ3VyYXRpb25zXG4gICAgICAgIC5tYXAoKHBhcmFtcykgPT4ge1xuICAgICAgICAgIHJldHVybiBbZXh0ZW5zaW9uXVxuICAgICAgICAgICAgLmNvbmNhdChcbiAgICAgICAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoKGspID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWVzID0gcGFyYW1zW2tdO1xuICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB2YWx1ZXMgPSBbdmFsdWVzXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzXG4gICAgICAgICAgICAgICAgICAubWFwKCh2KSA9PiAodiA9PT0gdHJ1ZSA/IGsgOiBgJHtrfT0ke3Z9YCkpXG4gICAgICAgICAgICAgICAgICAuam9pbignOyAnKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5qb2luKCc7ICcpO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbignLCAnKTtcbiAgICB9KVxuICAgIC5qb2luKCcsICcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHsgZm9ybWF0LCBwYXJzZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/extension.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/limiter.js":
/*!*****************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/limiter.js ***!
  \*****************************************************************/
/***/ ((module) => {

eval("\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL2xpbWl0ZXIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXYtZmluZGVyLy4vbm9kZV9tb2R1bGVzL3N0cmVhbS1jaGF0L25vZGVfbW9kdWxlcy93cy9saWIvbGltaXRlci5qcz9hN2Y2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3Qga0RvbmUgPSBTeW1ib2woJ2tEb25lJyk7XG5jb25zdCBrUnVuID0gU3ltYm9sKCdrUnVuJyk7XG5cbi8qKlxuICogQSB2ZXJ5IHNpbXBsZSBqb2IgcXVldWUgd2l0aCBhZGp1c3RhYmxlIGNvbmN1cnJlbmN5LiBBZGFwdGVkIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9TVFJNTC9hc3luYy1saW1pdGVyXG4gKi9cbmNsYXNzIExpbWl0ZXIge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBgTGltaXRlcmAuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbY29uY3VycmVuY3k9SW5maW5pdHldIFRoZSBtYXhpbXVtIG51bWJlciBvZiBqb2JzIGFsbG93ZWRcbiAgICogICAgIHRvIHJ1biBjb25jdXJyZW50bHlcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmN1cnJlbmN5KSB7XG4gICAgdGhpc1trRG9uZV0gPSAoKSA9PiB7XG4gICAgICB0aGlzLnBlbmRpbmctLTtcbiAgICAgIHRoaXNba1J1bl0oKTtcbiAgICB9O1xuICAgIHRoaXMuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeSB8fCBJbmZpbml0eTtcbiAgICB0aGlzLmpvYnMgPSBbXTtcbiAgICB0aGlzLnBlbmRpbmcgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBqb2IgdG8gdGhlIHF1ZXVlLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBqb2IgVGhlIGpvYiB0byBydW5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgYWRkKGpvYikge1xuICAgIHRoaXMuam9icy5wdXNoKGpvYik7XG4gICAgdGhpc1trUnVuXSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBqb2IgZnJvbSB0aGUgcXVldWUgYW5kIHJ1bnMgaXQgaWYgcG9zc2libGUuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBba1J1bl0oKSB7XG4gICAgaWYgKHRoaXMucGVuZGluZyA9PT0gdGhpcy5jb25jdXJyZW5jeSkgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMuam9icy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGpvYiA9IHRoaXMuam9icy5zaGlmdCgpO1xuXG4gICAgICB0aGlzLnBlbmRpbmcrKztcbiAgICAgIGpvYih0aGlzW2tEb25lXSk7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTGltaXRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/limiter.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/permessage-deflate.js":
/*!****************************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/permessage-deflate.js ***!
  \****************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst zlib = __webpack_require__(/*! zlib */ \"zlib\");\n\nconst bufferUtil = __webpack_require__(/*! ./buffer-util */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/buffer-util.js\");\nconst Limiter = __webpack_require__(/*! ./limiter */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/limiter.js\");\nconst { kStatusCode, NOOP } = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/constants.js\");\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {Buffer} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      //\n      // An `'error'` event is emitted, only on Node.js < 10.0.0, if the\n      // `zlib.DeflateRaw` instance is closed while data is being processed.\n      // This can happen if `PerMessageDeflate#cleanup()` is called at the wrong\n      // time due to an abnormal WebSocket closure.\n      //\n      this._deflate.on('error', NOOP);\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL3Blcm1lc3NhZ2UtZGVmbGF0ZS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixhQUFhLG1CQUFPLENBQUMsa0JBQU07O0FBRTNCLG1CQUFtQixtQkFBTyxDQUFDLHFHQUFlO0FBQzFDLGdCQUFnQixtQkFBTyxDQUFDLDZGQUFXO0FBQ25DLFFBQVEsb0JBQW9CLEVBQUUsbUJBQU8sQ0FBQyxpR0FBYTs7QUFFbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLGtCQUFrQjtBQUMvQjtBQUNBLGFBQWEsa0JBQWtCO0FBQy9CO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0EsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIs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QTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGdDQUFnQyxTQUFTO0FBQ3pDO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXYtZmluZGVyLy4vbm9kZV9tb2R1bGVzL3N0cmVhbS1jaGF0L25vZGVfbW9kdWxlcy93cy9saWIvcGVybWVzc2FnZS1kZWZsYXRlLmpzPzNiOWEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB6bGliID0gcmVxdWlyZSgnemxpYicpO1xuXG5jb25zdCBidWZmZXJVdGlsID0gcmVxdWlyZSgnLi9idWZmZXItdXRpbCcpO1xuY29uc3QgTGltaXRlciA9IHJlcXVpcmUoJy4vbGltaXRlcicpO1xuY29uc3QgeyBrU3RhdHVzQ29kZSwgTk9PUCB9ID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcblxuY29uc3QgVFJBSUxFUiA9IEJ1ZmZlci5mcm9tKFsweDAwLCAweDAwLCAweGZmLCAweGZmXSk7XG5jb25zdCBrUGVyTWVzc2FnZURlZmxhdGUgPSBTeW1ib2woJ3Blcm1lc3NhZ2UtZGVmbGF0ZScpO1xuY29uc3Qga1RvdGFsTGVuZ3RoID0gU3ltYm9sKCd0b3RhbC1sZW5ndGgnKTtcbmNvbnN0IGtDYWxsYmFjayA9IFN5bWJvbCgnY2FsbGJhY2snKTtcbmNvbnN0IGtCdWZmZXJzID0gU3ltYm9sKCdidWZmZXJzJyk7XG5jb25zdCBrRXJyb3IgPSBTeW1ib2woJ2Vycm9yJyk7XG5cbi8vXG4vLyBXZSBsaW1pdCB6bGliIGNvbmN1cnJlbmN5LCB3aGljaCBwcmV2ZW50cyBzZXZlcmUgbWVtb3J5IGZyYWdtZW50YXRpb25cbi8vIGFzIGRvY3VtZW50ZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2lzc3Vlcy84ODcxI2lzc3VlY29tbWVudC0yNTA5MTU5MTNcbi8vIGFuZCBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9pc3N1ZXMvMTIwMlxuLy9cbi8vIEludGVudGlvbmFsbHkgZ2xvYmFsOyBpdCdzIHRoZSBnbG9iYWwgdGhyZWFkIHBvb2wgdGhhdCdzIGFuIGlzc3VlLlxuLy9cbmxldCB6bGliTGltaXRlcjtcblxuLyoqXG4gKiBwZXJtZXNzYWdlLWRlZmxhdGUgaW1wbGVtZW50YXRpb24uXG4gKi9cbmNsYXNzIFBlck1lc3NhZ2VEZWZsYXRlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBQZXJNZXNzYWdlRGVmbGF0ZSBpbnN0YW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBDb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5zZXJ2ZXJOb0NvbnRleHRUYWtlb3Zlcj1mYWxzZV0gUmVxdWVzdC9hY2NlcHRcbiAgICogICAgIGRpc2FibGluZyBvZiBzZXJ2ZXIgY29udGV4dCB0YWtlb3ZlclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNsaWVudE5vQ29udGV4dFRha2VvdmVyPWZhbHNlXSBBZHZlcnRpc2UvXG4gICAqICAgICBhY2tub3dsZWRnZSBkaXNhYmxpbmcgb2YgY2xpZW50IGNvbnRleHQgdGFrZW92ZXJcbiAgICogQHBhcmFtIHsoQm9vbGVhbnxOdW1iZXIpfSBbb3B0aW9ucy5zZXJ2ZXJNYXhXaW5kb3dCaXRzXSBSZXF1ZXN0L2NvbmZpcm0gdGhlXG4gICAqICAgICB1c2Ugb2YgYSBjdXN0b20gc2VydmVyIHdpbmRvdyBzaXplXG4gICAqIEBwYXJhbSB7KEJvb2xlYW58TnVtYmVyKX0gW29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0c10gQWR2ZXJ0aXNlIHN1cHBvcnRcbiAgICogICAgIGZvciwgb3IgcmVxdWVzdCwgYSBjdXN0b20gY2xpZW50IHdpbmRvdyBzaXplXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy56bGliRGVmbGF0ZU9wdGlvbnNdIE9wdGlvbnMgdG8gcGFzcyB0byB6bGliIG9uXG4gICAqICAgICBkZWZsYXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy56bGliSW5mbGF0ZU9wdGlvbnNdIE9wdGlvbnMgdG8gcGFzcyB0byB6bGliIG9uXG4gICAqICAgICBpbmZsYXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50aHJlc2hvbGQ9MTAyNF0gU2l6ZSAoaW4gYnl0ZXMpIGJlbG93IHdoaWNoXG4gICAqICAgICBtZXNzYWdlcyBzaG91bGQgbm90IGJlIGNvbXByZXNzZWRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvbmN1cnJlbmN5TGltaXQ9MTBdIFRoZSBudW1iZXIgb2YgY29uY3VycmVudFxuICAgKiAgICAgY2FsbHMgdG8gemxpYlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpc1NlcnZlcj1mYWxzZV0gQ3JlYXRlIHRoZSBpbnN0YW5jZSBpbiBlaXRoZXIgc2VydmVyIG9yXG4gICAqICAgICBjbGllbnQgbW9kZVxuICAgKiBAcGFyYW0ge051bWJlcn0gW21heFBheWxvYWQ9MF0gVGhlIG1heGltdW0gYWxsb3dlZCBtZXNzYWdlIGxlbmd0aFxuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucywgaXNTZXJ2ZXIsIG1heFBheWxvYWQpIHtcbiAgICB0aGlzLl9tYXhQYXlsb2FkID0gbWF4UGF5bG9hZCB8IDA7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy5fdGhyZXNob2xkID1cbiAgICAgIHRoaXMuX29wdGlvbnMudGhyZXNob2xkICE9PSB1bmRlZmluZWQgPyB0aGlzLl9vcHRpb25zLnRocmVzaG9sZCA6IDEwMjQ7XG4gICAgdGhpcy5faXNTZXJ2ZXIgPSAhIWlzU2VydmVyO1xuICAgIHRoaXMuX2RlZmxhdGUgPSBudWxsO1xuICAgIHRoaXMuX2luZmxhdGUgPSBudWxsO1xuXG4gICAgdGhpcy5wYXJhbXMgPSBudWxsO1xuXG4gICAgaWYgKCF6bGliTGltaXRlcikge1xuICAgICAgY29uc3QgY29uY3VycmVuY3kgPVxuICAgICAgICB0aGlzLl9vcHRpb25zLmNvbmN1cnJlbmN5TGltaXQgIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gdGhpcy5fb3B0aW9ucy5jb25jdXJyZW5jeUxpbWl0XG4gICAgICAgICAgOiAxMDtcbiAgICAgIHpsaWJMaW1pdGVyID0gbmV3IExpbWl0ZXIoY29uY3VycmVuY3kpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgc3RhdGljIGdldCBleHRlbnNpb25OYW1lKCkge1xuICAgIHJldHVybiAncGVybWVzc2FnZS1kZWZsYXRlJztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gZXh0ZW5zaW9uIG5lZ290aWF0aW9uIG9mZmVyLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEV4dGVuc2lvbiBwYXJhbWV0ZXJzXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIG9mZmVyKCkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHt9O1xuXG4gICAgaWYgKHRoaXMuX29wdGlvbnMuc2VydmVyTm9Db250ZXh0VGFrZW92ZXIpIHtcbiAgICAgIHBhcmFtcy5zZXJ2ZXJfbm9fY29udGV4dF90YWtlb3ZlciA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLl9vcHRpb25zLmNsaWVudE5vQ29udGV4dFRha2VvdmVyKSB7XG4gICAgICBwYXJhbXMuY2xpZW50X25vX2NvbnRleHRfdGFrZW92ZXIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5fb3B0aW9ucy5zZXJ2ZXJNYXhXaW5kb3dCaXRzKSB7XG4gICAgICBwYXJhbXMuc2VydmVyX21heF93aW5kb3dfYml0cyA9IHRoaXMuX29wdGlvbnMuc2VydmVyTWF4V2luZG93Qml0cztcbiAgICB9XG4gICAgaWYgKHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cykge1xuICAgICAgcGFyYW1zLmNsaWVudF9tYXhfd2luZG93X2JpdHMgPSB0aGlzLl9vcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHM7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9vcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHMgPT0gbnVsbCkge1xuICAgICAgcGFyYW1zLmNsaWVudF9tYXhfd2luZG93X2JpdHMgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICAvKipcbiAgICogQWNjZXB0IGFuIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiBvZmZlci9yZXNwb25zZS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gY29uZmlndXJhdGlvbnMgVGhlIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiBvZmZlcnMvcmVwb25zZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEFjY2VwdGVkIGNvbmZpZ3VyYXRpb25cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgYWNjZXB0KGNvbmZpZ3VyYXRpb25zKSB7XG4gICAgY29uZmlndXJhdGlvbnMgPSB0aGlzLm5vcm1hbGl6ZVBhcmFtcyhjb25maWd1cmF0aW9ucyk7XG5cbiAgICB0aGlzLnBhcmFtcyA9IHRoaXMuX2lzU2VydmVyXG4gICAgICA/IHRoaXMuYWNjZXB0QXNTZXJ2ZXIoY29uZmlndXJhdGlvbnMpXG4gICAgICA6IHRoaXMuYWNjZXB0QXNDbGllbnQoY29uZmlndXJhdGlvbnMpO1xuXG4gICAgcmV0dXJuIHRoaXMucGFyYW1zO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbGVhc2VzIGFsbCByZXNvdXJjZXMgdXNlZCBieSB0aGUgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBjbGVhbnVwKCkge1xuICAgIGlmICh0aGlzLl9pbmZsYXRlKSB7XG4gICAgICB0aGlzLl9pbmZsYXRlLmNsb3NlKCk7XG4gICAgICB0aGlzLl9pbmZsYXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZGVmbGF0ZSkge1xuICAgICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLl9kZWZsYXRlW2tDYWxsYmFja107XG5cbiAgICAgIHRoaXMuX2RlZmxhdGUuY2xvc2UoKTtcbiAgICAgIHRoaXMuX2RlZmxhdGUgPSBudWxsO1xuXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ1RoZSBkZWZsYXRlIHN0cmVhbSB3YXMgY2xvc2VkIHdoaWxlIGRhdGEgd2FzIGJlaW5nIHByb2Nlc3NlZCdcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqICBBY2NlcHQgYW4gZXh0ZW5zaW9uIG5lZ290aWF0aW9uIG9mZmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBvZmZlcnMgVGhlIGV4dGVuc2lvbiBuZWdvdGlhdGlvbiBvZmZlcnNcbiAgICogQHJldHVybiB7T2JqZWN0fSBBY2NlcHRlZCBjb25maWd1cmF0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhY2NlcHRBc1NlcnZlcihvZmZlcnMpIHtcbiAgICBjb25zdCBvcHRzID0gdGhpcy5fb3B0aW9ucztcbiAgICBjb25zdCBhY2NlcHRlZCA9IG9mZmVycy5maW5kKChwYXJhbXMpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgKG9wdHMuc2VydmVyTm9Db250ZXh0VGFrZW92ZXIgPT09IGZhbHNlICYmXG4gICAgICAgICAgcGFyYW1zLnNlcnZlcl9ub19jb250ZXh0X3Rha2VvdmVyKSB8fFxuICAgICAgICAocGFyYW1zLnNlcnZlcl9tYXhfd2luZG93X2JpdHMgJiZcbiAgICAgICAgICAob3B0cy5zZXJ2ZXJNYXhXaW5kb3dCaXRzID09PSBmYWxzZSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBvcHRzLnNlcnZlck1heFdpbmRvd0JpdHMgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgIG9wdHMuc2VydmVyTWF4V2luZG93Qml0cyA+IHBhcmFtcy5zZXJ2ZXJfbWF4X3dpbmRvd19iaXRzKSkpIHx8XG4gICAgICAgICh0eXBlb2Ygb3B0cy5jbGllbnRNYXhXaW5kb3dCaXRzID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICFwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cylcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuXG4gICAgaWYgKCFhY2NlcHRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb25lIG9mIHRoZSBleHRlbnNpb24gb2ZmZXJzIGNhbiBiZSBhY2NlcHRlZCcpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnNlcnZlck5vQ29udGV4dFRha2VvdmVyKSB7XG4gICAgICBhY2NlcHRlZC5zZXJ2ZXJfbm9fY29udGV4dF90YWtlb3ZlciA9IHRydWU7XG4gICAgfVxuICAgIGlmIChvcHRzLmNsaWVudE5vQ29udGV4dFRha2VvdmVyKSB7XG4gICAgICBhY2NlcHRlZC5jbGllbnRfbm9fY29udGV4dF90YWtlb3ZlciA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb3B0cy5zZXJ2ZXJNYXhXaW5kb3dCaXRzID09PSAnbnVtYmVyJykge1xuICAgICAgYWNjZXB0ZWQuc2VydmVyX21heF93aW5kb3dfYml0cyA9IG9wdHMuc2VydmVyTWF4V2luZG93Qml0cztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLmNsaWVudE1heFdpbmRvd0JpdHMgPT09ICdudW1iZXInKSB7XG4gICAgICBhY2NlcHRlZC5jbGllbnRfbWF4X3dpbmRvd19iaXRzID0gb3B0cy5jbGllbnRNYXhXaW5kb3dCaXRzO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBhY2NlcHRlZC5jbGllbnRfbWF4X3dpbmRvd19iaXRzID09PSB0cnVlIHx8XG4gICAgICBvcHRzLmNsaWVudE1heFdpbmRvd0JpdHMgPT09IGZhbHNlXG4gICAgKSB7XG4gICAgICBkZWxldGUgYWNjZXB0ZWQuY2xpZW50X21heF93aW5kb3dfYml0cztcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjZXB0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogQWNjZXB0IHRoZSBleHRlbnNpb24gbmVnb3RpYXRpb24gcmVzcG9uc2UuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IHJlc3BvbnNlIFRoZSBleHRlbnNpb24gbmVnb3RpYXRpb24gcmVzcG9uc2VcbiAgICogQHJldHVybiB7T2JqZWN0fSBBY2NlcHRlZCBjb25maWd1cmF0aW9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBhY2NlcHRBc0NsaWVudChyZXNwb25zZSkge1xuICAgIGNvbnN0IHBhcmFtcyA9IHJlc3BvbnNlWzBdO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5fb3B0aW9ucy5jbGllbnROb0NvbnRleHRUYWtlb3ZlciA9PT0gZmFsc2UgJiZcbiAgICAgIHBhcmFtcy5jbGllbnRfbm9fY29udGV4dF90YWtlb3ZlclxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHBhcmFtZXRlciBcImNsaWVudF9ub19jb250ZXh0X3Rha2VvdmVyXCInKTtcbiAgICB9XG5cbiAgICBpZiAoIXBhcmFtcy5jbGllbnRfbWF4X3dpbmRvd19iaXRzKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcGFyYW1zLmNsaWVudF9tYXhfd2luZG93X2JpdHMgPSB0aGlzLl9vcHRpb25zLmNsaWVudE1heFdpbmRvd0JpdHM7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cyA9PT0gZmFsc2UgfHxcbiAgICAgICh0eXBlb2YgdGhpcy5fb3B0aW9ucy5jbGllbnRNYXhXaW5kb3dCaXRzID09PSAnbnVtYmVyJyAmJlxuICAgICAgICBwYXJhbXMuY2xpZW50X21heF93aW5kb3dfYml0cyA+IHRoaXMuX29wdGlvbnMuY2xpZW50TWF4V2luZG93Qml0cylcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1VuZXhwZWN0ZWQgb3IgaW52YWxpZCBwYXJhbWV0ZXIgXCJjbGllbnRfbWF4X3dpbmRvd19iaXRzXCInXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICAvKipcbiAgICogTm9ybWFsaXplIHBhcmFtZXRlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNvbmZpZ3VyYXRpb25zIFRoZSBleHRlbnNpb24gbmVnb3RpYXRpb24gb2ZmZXJzL3JlcG9uc2VcbiAgICogQHJldHVybiB7QXJyYXl9IFRoZSBvZmZlcnMvcmVzcG9uc2Ugd2l0aCBub3JtYWxpemVkIHBhcmFtZXRlcnNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIG5vcm1hbGl6ZVBhcmFtcyhjb25maWd1cmF0aW9ucykge1xuICAgIGNvbmZpZ3VyYXRpb25zLmZvckVhY2goKHBhcmFtcykgPT4ge1xuICAgICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyYW1zW2tleV07XG5cbiAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFBhcmFtZXRlciBcIiR7a2V5fVwiIG11c3QgaGF2ZSBvbmx5IGEgc2luZ2xlIHZhbHVlYCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YWx1ZSA9IHZhbHVlWzBdO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdjbGllbnRfbWF4X3dpbmRvd19iaXRzJykge1xuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgbnVtID0gK3ZhbHVlO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG51bSkgfHwgbnVtIDwgOCB8fCBudW0gPiAxNSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICAgIGBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgXCIke2tleX1cIjogJHt2YWx1ZX1gXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IG51bTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc1NlcnZlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgYEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciBcIiR7a2V5fVwiOiAke3ZhbHVlfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3NlcnZlcl9tYXhfd2luZG93X2JpdHMnKSB7XG4gICAgICAgICAgY29uc3QgbnVtID0gK3ZhbHVlO1xuICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihudW0pIHx8IG51bSA8IDggfHwgbnVtID4gMTUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgIGBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgXCIke2tleX1cIjogJHt2YWx1ZX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YWx1ZSA9IG51bTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBrZXkgPT09ICdjbGllbnRfbm9fY29udGV4dF90YWtlb3ZlcicgfHxcbiAgICAgICAgICBrZXkgPT09ICdzZXJ2ZXJfbm9fY29udGV4dF90YWtlb3ZlcidcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHZhbHVlICE9PSB0cnVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICAgICBgSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyIFwiJHtrZXl9XCI6ICR7dmFsdWV9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHBhcmFtZXRlciBcIiR7a2V5fVwiYCk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJhbXNba2V5XSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY29uZmlndXJhdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogRGVjb21wcmVzcyBkYXRhLiBDb25jdXJyZW5jeSBsaW1pdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBDb21wcmVzc2VkIGRhdGFcbiAgICogQHBhcmFtIHtCb29sZWFufSBmaW4gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRoaXMgaXMgdGhlIGxhc3QgZnJhZ21lbnRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2tcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZGVjb21wcmVzcyhkYXRhLCBmaW4sIGNhbGxiYWNrKSB7XG4gICAgemxpYkxpbWl0ZXIuYWRkKChkb25lKSA9PiB7XG4gICAgICB0aGlzLl9kZWNvbXByZXNzKGRhdGEsIGZpbiwgKGVyciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29tcHJlc3MgZGF0YS4gQ29uY3VycmVuY3kgbGltaXRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgRGF0YSB0byBjb21wcmVzc1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZpbiBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdGhpcyBpcyB0aGUgbGFzdCBmcmFnbWVudFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFja1xuICAgKiBAcHVibGljXG4gICAqL1xuICBjb21wcmVzcyhkYXRhLCBmaW4sIGNhbGxiYWNrKSB7XG4gICAgemxpYkxpbWl0ZXIuYWRkKChkb25lKSA9PiB7XG4gICAgICB0aGlzLl9jb21wcmVzcyhkYXRhLCBmaW4sIChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgICBkb25lKCk7XG4gICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERlY29tcHJlc3MgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgQ29tcHJlc3NlZCBkYXRhXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gZmluIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGlzIHRoZSBsYXN0IGZyYWdtZW50XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZGVjb21wcmVzcyhkYXRhLCBmaW4sIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLl9pc1NlcnZlciA/ICdjbGllbnQnIDogJ3NlcnZlcic7XG5cbiAgICBpZiAoIXRoaXMuX2luZmxhdGUpIHtcbiAgICAgIGNvbnN0IGtleSA9IGAke2VuZHBvaW50fV9tYXhfd2luZG93X2JpdHNgO1xuICAgICAgY29uc3Qgd2luZG93Qml0cyA9XG4gICAgICAgIHR5cGVvZiB0aGlzLnBhcmFtc1trZXldICE9PSAnbnVtYmVyJ1xuICAgICAgICAgID8gemxpYi5aX0RFRkFVTFRfV0lORE9XQklUU1xuICAgICAgICAgIDogdGhpcy5wYXJhbXNba2V5XTtcblxuICAgICAgdGhpcy5faW5mbGF0ZSA9IHpsaWIuY3JlYXRlSW5mbGF0ZVJhdyh7XG4gICAgICAgIC4uLnRoaXMuX29wdGlvbnMuemxpYkluZmxhdGVPcHRpb25zLFxuICAgICAgICB3aW5kb3dCaXRzXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2luZmxhdGVba1Blck1lc3NhZ2VEZWZsYXRlXSA9IHRoaXM7XG4gICAgICB0aGlzLl9pbmZsYXRlW2tUb3RhbExlbmd0aF0gPSAwO1xuICAgICAgdGhpcy5faW5mbGF0ZVtrQnVmZmVyc10gPSBbXTtcbiAgICAgIHRoaXMuX2luZmxhdGUub24oJ2Vycm9yJywgaW5mbGF0ZU9uRXJyb3IpO1xuICAgICAgdGhpcy5faW5mbGF0ZS5vbignZGF0YScsIGluZmxhdGVPbkRhdGEpO1xuICAgIH1cblxuICAgIHRoaXMuX2luZmxhdGVba0NhbGxiYWNrXSA9IGNhbGxiYWNrO1xuXG4gICAgdGhpcy5faW5mbGF0ZS53cml0ZShkYXRhKTtcbiAgICBpZiAoZmluKSB0aGlzLl9pbmZsYXRlLndyaXRlKFRSQUlMRVIpO1xuXG4gICAgdGhpcy5faW5mbGF0ZS5mbHVzaCgoKSA9PiB7XG4gICAgICBjb25zdCBlcnIgPSB0aGlzLl9pbmZsYXRlW2tFcnJvcl07XG5cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgdGhpcy5faW5mbGF0ZS5jbG9zZSgpO1xuICAgICAgICB0aGlzLl9pbmZsYXRlID0gbnVsbDtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYnVmZmVyVXRpbC5jb25jYXQoXG4gICAgICAgIHRoaXMuX2luZmxhdGVba0J1ZmZlcnNdLFxuICAgICAgICB0aGlzLl9pbmZsYXRlW2tUb3RhbExlbmd0aF1cbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLl9pbmZsYXRlLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICAgICAgdGhpcy5faW5mbGF0ZS5jbG9zZSgpO1xuICAgICAgICB0aGlzLl9pbmZsYXRlID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2luZmxhdGVba1RvdGFsTGVuZ3RoXSA9IDA7XG4gICAgICAgIHRoaXMuX2luZmxhdGVba0J1ZmZlcnNdID0gW107XG5cbiAgICAgICAgaWYgKGZpbiAmJiB0aGlzLnBhcmFtc1tgJHtlbmRwb2ludH1fbm9fY29udGV4dF90YWtlb3ZlcmBdKSB7XG4gICAgICAgICAgdGhpcy5faW5mbGF0ZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrKG51bGwsIGRhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXByZXNzIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIERhdGEgdG8gY29tcHJlc3NcbiAgICogQHBhcmFtIHtCb29sZWFufSBmaW4gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRoaXMgaXMgdGhlIGxhc3QgZnJhZ21lbnRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jb21wcmVzcyhkYXRhLCBmaW4sIGNhbGxiYWNrKSB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLl9pc1NlcnZlciA/ICdzZXJ2ZXInIDogJ2NsaWVudCc7XG5cbiAgICBpZiAoIXRoaXMuX2RlZmxhdGUpIHtcbiAgICAgIGNvbnN0IGtleSA9IGAke2VuZHBvaW50fV9tYXhfd2luZG93X2JpdHNgO1xuICAgICAgY29uc3Qgd2luZG93Qml0cyA9XG4gICAgICAgIHR5cGVvZiB0aGlzLnBhcmFtc1trZXldICE9PSAnbnVtYmVyJ1xuICAgICAgICAgID8gemxpYi5aX0RFRkFVTFRfV0lORE9XQklUU1xuICAgICAgICAgIDogdGhpcy5wYXJhbXNba2V5XTtcblxuICAgICAgdGhpcy5fZGVmbGF0ZSA9IHpsaWIuY3JlYXRlRGVmbGF0ZVJhdyh7XG4gICAgICAgIC4uLnRoaXMuX29wdGlvbnMuemxpYkRlZmxhdGVPcHRpb25zLFxuICAgICAgICB3aW5kb3dCaXRzXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fZGVmbGF0ZVtrVG90YWxMZW5ndGhdID0gMDtcbiAgICAgIHRoaXMuX2RlZmxhdGVba0J1ZmZlcnNdID0gW107XG5cbiAgICAgIC8vXG4gICAgICAvLyBBbiBgJ2Vycm9yJ2AgZXZlbnQgaXMgZW1pdHRlZCwgb25seSBvbiBOb2RlLmpzIDwgMTAuMC4wLCBpZiB0aGVcbiAgICAgIC8vIGB6bGliLkRlZmxhdGVSYXdgIGluc3RhbmNlIGlzIGNsb3NlZCB3aGlsZSBkYXRhIGlzIGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBgUGVyTWVzc2FnZURlZmxhdGUjY2xlYW51cCgpYCBpcyBjYWxsZWQgYXQgdGhlIHdyb25nXG4gICAgICAvLyB0aW1lIGR1ZSB0byBhbiBhYm5vcm1hbCBXZWJTb2NrZXQgY2xvc3VyZS5cbiAgICAgIC8vXG4gICAgICB0aGlzLl9kZWZsYXRlLm9uKCdlcnJvcicsIE5PT1ApO1xuICAgICAgdGhpcy5fZGVmbGF0ZS5vbignZGF0YScsIGRlZmxhdGVPbkRhdGEpO1xuICAgIH1cblxuICAgIHRoaXMuX2RlZmxhdGVba0NhbGxiYWNrXSA9IGNhbGxiYWNrO1xuXG4gICAgdGhpcy5fZGVmbGF0ZS53cml0ZShkYXRhKTtcbiAgICB0aGlzLl9kZWZsYXRlLmZsdXNoKHpsaWIuWl9TWU5DX0ZMVVNILCAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuX2RlZmxhdGUpIHtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhlIGRlZmxhdGUgc3RyZWFtIHdhcyBjbG9zZWQgd2hpbGUgZGF0YSB3YXMgYmVpbmcgcHJvY2Vzc2VkLlxuICAgICAgICAvL1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBkYXRhID0gYnVmZmVyVXRpbC5jb25jYXQoXG4gICAgICAgIHRoaXMuX2RlZmxhdGVba0J1ZmZlcnNdLFxuICAgICAgICB0aGlzLl9kZWZsYXRlW2tUb3RhbExlbmd0aF1cbiAgICAgICk7XG5cbiAgICAgIGlmIChmaW4pIGRhdGEgPSBkYXRhLnNsaWNlKDAsIGRhdGEubGVuZ3RoIC0gNCk7XG5cbiAgICAgIC8vXG4gICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgY2FsbGJhY2sgd2lsbCBub3QgYmUgY2FsbGVkIGFnYWluIGluXG4gICAgICAvLyBgUGVyTWVzc2FnZURlZmxhdGUjY2xlYW51cCgpYC5cbiAgICAgIC8vXG4gICAgICB0aGlzLl9kZWZsYXRlW2tDYWxsYmFja10gPSBudWxsO1xuXG4gICAgICB0aGlzLl9kZWZsYXRlW2tUb3RhbExlbmd0aF0gPSAwO1xuICAgICAgdGhpcy5fZGVmbGF0ZVtrQnVmZmVyc10gPSBbXTtcblxuICAgICAgaWYgKGZpbiAmJiB0aGlzLnBhcmFtc1tgJHtlbmRwb2ludH1fbm9fY29udGV4dF90YWtlb3ZlcmBdKSB7XG4gICAgICAgIHRoaXMuX2RlZmxhdGUucmVzZXQoKTtcbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sobnVsbCwgZGF0YSk7XG4gICAgfSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQZXJNZXNzYWdlRGVmbGF0ZTtcblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGB6bGliLkRlZmxhdGVSYXdgIHN0cmVhbSBgJ2RhdGEnYCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gY2h1bmsgQSBjaHVuayBvZiBkYXRhXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBkZWZsYXRlT25EYXRhKGNodW5rKSB7XG4gIHRoaXNba0J1ZmZlcnNdLnB1c2goY2h1bmspO1xuICB0aGlzW2tUb3RhbExlbmd0aF0gKz0gY2h1bmsubGVuZ3RoO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYHpsaWIuSW5mbGF0ZVJhd2Agc3RyZWFtIGAnZGF0YSdgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfSBjaHVuayBBIGNodW5rIG9mIGRhdGFcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGluZmxhdGVPbkRhdGEoY2h1bmspIHtcbiAgdGhpc1trVG90YWxMZW5ndGhdICs9IGNodW5rLmxlbmd0aDtcblxuICBpZiAoXG4gICAgdGhpc1trUGVyTWVzc2FnZURlZmxhdGVdLl9tYXhQYXlsb2FkIDwgMSB8fFxuICAgIHRoaXNba1RvdGFsTGVuZ3RoXSA8PSB0aGlzW2tQZXJNZXNzYWdlRGVmbGF0ZV0uX21heFBheWxvYWRcbiAgKSB7XG4gICAgdGhpc1trQnVmZmVyc10ucHVzaChjaHVuayk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpc1trRXJyb3JdID0gbmV3IFJhbmdlRXJyb3IoJ01heCBwYXlsb2FkIHNpemUgZXhjZWVkZWQnKTtcbiAgdGhpc1trRXJyb3JdLmNvZGUgPSAnV1NfRVJSX1VOU1VQUE9SVEVEX01FU1NBR0VfTEVOR1RIJztcbiAgdGhpc1trRXJyb3JdW2tTdGF0dXNDb2RlXSA9IDEwMDk7XG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBpbmZsYXRlT25EYXRhKTtcbiAgdGhpcy5yZXNldCgpO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYHpsaWIuSW5mbGF0ZVJhd2Agc3RyZWFtIGAnZXJyb3InYCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnIgVGhlIGVtaXR0ZWQgZXJyb3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGluZmxhdGVPbkVycm9yKGVycikge1xuICAvL1xuICAvLyBUaGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgYFpsaWIjY2xvc2UoKWAgYXMgdGhlIGhhbmRsZSBpcyBhdXRvbWF0aWNhbGx5XG4gIC8vIGNsb3NlZCB3aGVuIGFuIGVycm9yIGlzIGVtaXR0ZWQuXG4gIC8vXG4gIHRoaXNba1Blck1lc3NhZ2VEZWZsYXRlXS5faW5mbGF0ZSA9IG51bGw7XG4gIGVycltrU3RhdHVzQ29kZV0gPSAxMDA3O1xuICB0aGlzW2tDYWxsYmFja10oZXJyKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/permessage-deflate.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/receiver.js":
/*!******************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/receiver.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst { Writable } = __webpack_require__(/*! stream */ \"stream\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/permessage-deflate.js\");\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/constants.js\");\nconst { concat, toArrayBuffer, unmask } = __webpack_require__(/*! ./buffer-util */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/buffer-util.js\");\nconst { isValidStatusCode, isValidUTF8 } = __webpack_require__(/*! ./validation */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/validation.js\");\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {String} [binaryType=nodebuffer] The type for binary data\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Boolean} [isServer=false] Specifies whether to operate in client or\n   *     server mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(binaryType, extensions, isServer, maxPayload) {\n    super();\n\n    this._binaryType = binaryType || BINARY_TYPES[0];\n    this[kWebSocket] = undefined;\n    this._extensions = extensions || {};\n    this._isServer = !!isServer;\n    this._maxPayload = maxPayload | 0;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n      if (this._masked) unmask(data, this._mask);\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its lenght is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf.toString());\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, '');\n        this.end();\n      } else if (data.length === 1) {\n        return error(\n          RangeError,\n          'invalid payload length 1',\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = data.slice(2);\n\n        if (!isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf.toString());\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL3JlY2VpdmVyLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFFBQVEsV0FBVyxFQUFFLG1CQUFPLENBQUMsc0JBQVE7O0FBRXJDLDBCQUEwQixtQkFBTyxDQUFDLG1IQUFzQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxFQUFFLG1CQUFPLENBQUMsaUdBQWE7QUFDekIsUUFBUSxnQ0FBZ0MsRUFBRSxtQkFBTyxDQUFDLHFHQUFlO0FBQ2pFLFFBQVEsaUNBQWlDLEVBQUUsbUJBQU8sQ0FBQyxtR0FBYzs7QUFFakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckIsYUFBYSxTQUFTO0FBQ3RCO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxRQUFRO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsd0JBQXdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGFBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvQkFBb0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsYUFBYTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsd0JBQXdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFVBQVU7QUFDdkIsY0FBYyw4QkFBOEI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG1CQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGNBQWMsOEJBQThCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxLQUFLO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdDQUFnQztBQUMzQyxXQUFXLFFBQVE7QUFDbkIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZLG9CQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxRQUFRO0FBQ2pEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXYtZmluZGVyLy4vbm9kZV9tb2R1bGVzL3N0cmVhbS1jaGF0L25vZGVfbW9kdWxlcy93cy9saWIvcmVjZWl2ZXIuanM/MzliYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHsgV3JpdGFibGUgfSA9IHJlcXVpcmUoJ3N0cmVhbScpO1xuXG5jb25zdCBQZXJNZXNzYWdlRGVmbGF0ZSA9IHJlcXVpcmUoJy4vcGVybWVzc2FnZS1kZWZsYXRlJyk7XG5jb25zdCB7XG4gIEJJTkFSWV9UWVBFUyxcbiAgRU1QVFlfQlVGRkVSLFxuICBrU3RhdHVzQ29kZSxcbiAga1dlYlNvY2tldFxufSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG5jb25zdCB7IGNvbmNhdCwgdG9BcnJheUJ1ZmZlciwgdW5tYXNrIH0gPSByZXF1aXJlKCcuL2J1ZmZlci11dGlsJyk7XG5jb25zdCB7IGlzVmFsaWRTdGF0dXNDb2RlLCBpc1ZhbGlkVVRGOCB9ID0gcmVxdWlyZSgnLi92YWxpZGF0aW9uJyk7XG5cbmNvbnN0IEdFVF9JTkZPID0gMDtcbmNvbnN0IEdFVF9QQVlMT0FEX0xFTkdUSF8xNiA9IDE7XG5jb25zdCBHRVRfUEFZTE9BRF9MRU5HVEhfNjQgPSAyO1xuY29uc3QgR0VUX01BU0sgPSAzO1xuY29uc3QgR0VUX0RBVEEgPSA0O1xuY29uc3QgSU5GTEFUSU5HID0gNTtcblxuLyoqXG4gKiBIeUJpIFJlY2VpdmVyIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEBleHRlbmRzIFdyaXRhYmxlXG4gKi9cbmNsYXNzIFJlY2VpdmVyIGV4dGVuZHMgV3JpdGFibGUge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIFJlY2VpdmVyIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gW2JpbmFyeVR5cGU9bm9kZWJ1ZmZlcl0gVGhlIHR5cGUgZm9yIGJpbmFyeSBkYXRhXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZXh0ZW5zaW9uc10gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG5lZ290aWF0ZWQgZXh0ZW5zaW9uc1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpc1NlcnZlcj1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgdG8gb3BlcmF0ZSBpbiBjbGllbnQgb3JcbiAgICogICAgIHNlcnZlciBtb2RlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbbWF4UGF5bG9hZD0wXSBUaGUgbWF4aW11bSBhbGxvd2VkIG1lc3NhZ2UgbGVuZ3RoXG4gICAqL1xuICBjb25zdHJ1Y3RvcihiaW5hcnlUeXBlLCBleHRlbnNpb25zLCBpc1NlcnZlciwgbWF4UGF5bG9hZCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9iaW5hcnlUeXBlID0gYmluYXJ5VHlwZSB8fCBCSU5BUllfVFlQRVNbMF07XG4gICAgdGhpc1trV2ViU29ja2V0XSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9leHRlbnNpb25zID0gZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICB0aGlzLl9pc1NlcnZlciA9ICEhaXNTZXJ2ZXI7XG4gICAgdGhpcy5fbWF4UGF5bG9hZCA9IG1heFBheWxvYWQgfCAwO1xuXG4gICAgdGhpcy5fYnVmZmVyZWRCeXRlcyA9IDA7XG4gICAgdGhpcy5fYnVmZmVycyA9IFtdO1xuXG4gICAgdGhpcy5fY29tcHJlc3NlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3BheWxvYWRMZW5ndGggPSAwO1xuICAgIHRoaXMuX21hc2sgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fZnJhZ21lbnRlZCA9IDA7XG4gICAgdGhpcy5fbWFza2VkID0gZmFsc2U7XG4gICAgdGhpcy5fZmluID0gZmFsc2U7XG4gICAgdGhpcy5fb3Bjb2RlID0gMDtcblxuICAgIHRoaXMuX3RvdGFsUGF5bG9hZExlbmd0aCA9IDA7XG4gICAgdGhpcy5fbWVzc2FnZUxlbmd0aCA9IDA7XG4gICAgdGhpcy5fZnJhZ21lbnRzID0gW107XG5cbiAgICB0aGlzLl9zdGF0ZSA9IEdFVF9JTkZPO1xuICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBsZW1lbnRzIGBXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlKClgLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gY2h1bmsgVGhlIGNodW5rIG9mIGRhdGEgdG8gd3JpdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGVuY29kaW5nIFRoZSBjaGFyYWN0ZXIgZW5jb2Rpbmcgb2YgYGNodW5rYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBDYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgICBpZiAodGhpcy5fb3Bjb2RlID09PSAweDA4ICYmIHRoaXMuX3N0YXRlID09IEdFVF9JTkZPKSByZXR1cm4gY2IoKTtcblxuICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZXMgKz0gY2h1bmsubGVuZ3RoO1xuICAgIHRoaXMuX2J1ZmZlcnMucHVzaChjaHVuayk7XG4gICAgdGhpcy5zdGFydExvb3AoY2IpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN1bWVzIGBuYCBieXRlcyBmcm9tIHRoZSBidWZmZXJlZCBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGJ5dGVzIHRvIGNvbnN1bWVcbiAgICogQHJldHVybiB7QnVmZmVyfSBUaGUgY29uc3VtZWQgYnl0ZXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN1bWUobikge1xuICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZXMgLT0gbjtcblxuICAgIGlmIChuID09PSB0aGlzLl9idWZmZXJzWzBdLmxlbmd0aCkgcmV0dXJuIHRoaXMuX2J1ZmZlcnMuc2hpZnQoKTtcblxuICAgIGlmIChuIDwgdGhpcy5fYnVmZmVyc1swXS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGJ1ZiA9IHRoaXMuX2J1ZmZlcnNbMF07XG4gICAgICB0aGlzLl9idWZmZXJzWzBdID0gYnVmLnNsaWNlKG4pO1xuICAgICAgcmV0dXJuIGJ1Zi5zbGljZSgwLCBuKTtcbiAgICB9XG5cbiAgICBjb25zdCBkc3QgPSBCdWZmZXIuYWxsb2NVbnNhZmUobik7XG5cbiAgICBkbyB7XG4gICAgICBjb25zdCBidWYgPSB0aGlzLl9idWZmZXJzWzBdO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gZHN0Lmxlbmd0aCAtIG47XG5cbiAgICAgIGlmIChuID49IGJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgZHN0LnNldCh0aGlzLl9idWZmZXJzLnNoaWZ0KCksIG9mZnNldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkc3Quc2V0KG5ldyBVaW50OEFycmF5KGJ1Zi5idWZmZXIsIGJ1Zi5ieXRlT2Zmc2V0LCBuKSwgb2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fYnVmZmVyc1swXSA9IGJ1Zi5zbGljZShuKTtcbiAgICAgIH1cblxuICAgICAgbiAtPSBidWYubGVuZ3RoO1xuICAgIH0gd2hpbGUgKG4gPiAwKTtcblxuICAgIHJldHVybiBkc3Q7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBwYXJzaW5nIGxvb3AuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIENhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzdGFydExvb3AoY2IpIHtcbiAgICBsZXQgZXJyO1xuICAgIHRoaXMuX2xvb3AgPSB0cnVlO1xuXG4gICAgZG8ge1xuICAgICAgc3dpdGNoICh0aGlzLl9zdGF0ZSkge1xuICAgICAgICBjYXNlIEdFVF9JTkZPOlxuICAgICAgICAgIGVyciA9IHRoaXMuZ2V0SW5mbygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdFVF9QQVlMT0FEX0xFTkdUSF8xNjpcbiAgICAgICAgICBlcnIgPSB0aGlzLmdldFBheWxvYWRMZW5ndGgxNigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdFVF9QQVlMT0FEX0xFTkdUSF82NDpcbiAgICAgICAgICBlcnIgPSB0aGlzLmdldFBheWxvYWRMZW5ndGg2NCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdFVF9NQVNLOlxuICAgICAgICAgIHRoaXMuZ2V0TWFzaygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdFVF9EQVRBOlxuICAgICAgICAgIGVyciA9IHRoaXMuZ2V0RGF0YShjYik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gYElORkxBVElOR2BcbiAgICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKHRoaXMuX2xvb3ApO1xuXG4gICAgY2IoZXJyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgZmlyc3QgdHdvIGJ5dGVzIG9mIGEgZnJhbWUuXG4gICAqXG4gICAqIEByZXR1cm4geyhSYW5nZUVycm9yfHVuZGVmaW5lZCl9IEEgcG9zc2libGUgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGdldEluZm8oKSB7XG4gICAgaWYgKHRoaXMuX2J1ZmZlcmVkQnl0ZXMgPCAyKSB7XG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYnVmID0gdGhpcy5jb25zdW1lKDIpO1xuXG4gICAgaWYgKChidWZbMF0gJiAweDMwKSAhPT0gMHgwMCkge1xuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAnUlNWMiBhbmQgUlNWMyBtdXN0IGJlIGNsZWFyJyxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgMTAwMixcbiAgICAgICAgJ1dTX0VSUl9VTkVYUEVDVEVEX1JTVl8yXzMnXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXByZXNzZWQgPSAoYnVmWzBdICYgMHg0MCkgPT09IDB4NDA7XG5cbiAgICBpZiAoY29tcHJlc3NlZCAmJiAhdGhpcy5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSkge1xuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAnUlNWMSBtdXN0IGJlIGNsZWFyJyxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgMTAwMixcbiAgICAgICAgJ1dTX0VSUl9VTkVYUEVDVEVEX1JTVl8xJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9maW4gPSAoYnVmWzBdICYgMHg4MCkgPT09IDB4ODA7XG4gICAgdGhpcy5fb3Bjb2RlID0gYnVmWzBdICYgMHgwZjtcbiAgICB0aGlzLl9wYXlsb2FkTGVuZ3RoID0gYnVmWzFdICYgMHg3ZjtcblxuICAgIGlmICh0aGlzLl9vcGNvZGUgPT09IDB4MDApIHtcbiAgICAgIGlmIChjb21wcmVzc2VkKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgJ1JTVjEgbXVzdCBiZSBjbGVhcicsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAxMDAyLFxuICAgICAgICAgICdXU19FUlJfVU5FWFBFQ1RFRF9SU1ZfMSdcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9mcmFnbWVudGVkKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgJ2ludmFsaWQgb3Bjb2RlIDAnLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgMTAwMixcbiAgICAgICAgICAnV1NfRVJSX0lOVkFMSURfT1BDT0RFJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9vcGNvZGUgPSB0aGlzLl9mcmFnbWVudGVkO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fb3Bjb2RlID09PSAweDAxIHx8IHRoaXMuX29wY29kZSA9PT0gMHgwMikge1xuICAgICAgaWYgKHRoaXMuX2ZyYWdtZW50ZWQpIHtcbiAgICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICBgaW52YWxpZCBvcGNvZGUgJHt0aGlzLl9vcGNvZGV9YCxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIDEwMDIsXG4gICAgICAgICAgJ1dTX0VSUl9JTlZBTElEX09QQ09ERSdcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY29tcHJlc3NlZCA9IGNvbXByZXNzZWQ7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9vcGNvZGUgPiAweDA3ICYmIHRoaXMuX29wY29kZSA8IDB4MGIpIHtcbiAgICAgIGlmICghdGhpcy5fZmluKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgJ0ZJTiBtdXN0IGJlIHNldCcsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAxMDAyLFxuICAgICAgICAgICdXU19FUlJfRVhQRUNURURfRklOJ1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29tcHJlc3NlZCkge1xuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgICdSU1YxIG11c3QgYmUgY2xlYXInLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgMTAwMixcbiAgICAgICAgICAnV1NfRVJSX1VORVhQRUNURURfUlNWXzEnXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9wYXlsb2FkTGVuZ3RoID4gMHg3ZCkge1xuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgIGBpbnZhbGlkIHBheWxvYWQgbGVuZ3RoICR7dGhpcy5fcGF5bG9hZExlbmd0aH1gLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgMTAwMixcbiAgICAgICAgICAnV1NfRVJSX0lOVkFMSURfQ09OVFJPTF9QQVlMT0FEX0xFTkdUSCdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICBgaW52YWxpZCBvcGNvZGUgJHt0aGlzLl9vcGNvZGV9YCxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgMTAwMixcbiAgICAgICAgJ1dTX0VSUl9JTlZBTElEX09QQ09ERSdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9maW4gJiYgIXRoaXMuX2ZyYWdtZW50ZWQpIHRoaXMuX2ZyYWdtZW50ZWQgPSB0aGlzLl9vcGNvZGU7XG4gICAgdGhpcy5fbWFza2VkID0gKGJ1ZlsxXSAmIDB4ODApID09PSAweDgwO1xuXG4gICAgaWYgKHRoaXMuX2lzU2VydmVyKSB7XG4gICAgICBpZiAoIXRoaXMuX21hc2tlZCkge1xuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICBSYW5nZUVycm9yLFxuICAgICAgICAgICdNQVNLIG11c3QgYmUgc2V0JyxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIDEwMDIsXG4gICAgICAgICAgJ1dTX0VSUl9FWFBFQ1RFRF9NQVNLJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fbWFza2VkKSB7XG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICdNQVNLIG11c3QgYmUgY2xlYXInLFxuICAgICAgICB0cnVlLFxuICAgICAgICAxMDAyLFxuICAgICAgICAnV1NfRVJSX1VORVhQRUNURURfTUFTSydcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3BheWxvYWRMZW5ndGggPT09IDEyNikgdGhpcy5fc3RhdGUgPSBHRVRfUEFZTE9BRF9MRU5HVEhfMTY7XG4gICAgZWxzZSBpZiAodGhpcy5fcGF5bG9hZExlbmd0aCA9PT0gMTI3KSB0aGlzLl9zdGF0ZSA9IEdFVF9QQVlMT0FEX0xFTkdUSF82NDtcbiAgICBlbHNlIHJldHVybiB0aGlzLmhhdmVMZW5ndGgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGV4dGVuZGVkIHBheWxvYWQgbGVuZ3RoICg3KzE2KS5cbiAgICpcbiAgICogQHJldHVybiB7KFJhbmdlRXJyb3J8dW5kZWZpbmVkKX0gQSBwb3NzaWJsZSBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UGF5bG9hZExlbmd0aDE2KCkge1xuICAgIGlmICh0aGlzLl9idWZmZXJlZEJ5dGVzIDwgMikge1xuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3BheWxvYWRMZW5ndGggPSB0aGlzLmNvbnN1bWUoMikucmVhZFVJbnQxNkJFKDApO1xuICAgIHJldHVybiB0aGlzLmhhdmVMZW5ndGgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGV4dGVuZGVkIHBheWxvYWQgbGVuZ3RoICg3KzY0KS5cbiAgICpcbiAgICogQHJldHVybiB7KFJhbmdlRXJyb3J8dW5kZWZpbmVkKX0gQSBwb3NzaWJsZSBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UGF5bG9hZExlbmd0aDY0KCkge1xuICAgIGlmICh0aGlzLl9idWZmZXJlZEJ5dGVzIDwgOCkge1xuICAgICAgdGhpcy5fbG9vcCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGJ1ZiA9IHRoaXMuY29uc3VtZSg4KTtcbiAgICBjb25zdCBudW0gPSBidWYucmVhZFVJbnQzMkJFKDApO1xuXG4gICAgLy9cbiAgICAvLyBUaGUgbWF4aW11bSBzYWZlIGludGVnZXIgaW4gSmF2YVNjcmlwdCBpcyAyXjUzIC0gMS4gQW4gZXJyb3IgaXMgcmV0dXJuZWRcbiAgICAvLyBpZiBwYXlsb2FkIGxlbmd0aCBpcyBncmVhdGVyIHRoYW4gdGhpcyBudW1iZXIuXG4gICAgLy9cbiAgICBpZiAobnVtID4gTWF0aC5wb3coMiwgNTMgLSAzMikgLSAxKSB7XG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICdVbnN1cHBvcnRlZCBXZWJTb2NrZXQgZnJhbWU6IHBheWxvYWQgbGVuZ3RoID4gMl41MyAtIDEnLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgMTAwOSxcbiAgICAgICAgJ1dTX0VSUl9VTlNVUFBPUlRFRF9EQVRBX1BBWUxPQURfTEVOR1RIJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLl9wYXlsb2FkTGVuZ3RoID0gbnVtICogTWF0aC5wb3coMiwgMzIpICsgYnVmLnJlYWRVSW50MzJCRSg0KTtcbiAgICByZXR1cm4gdGhpcy5oYXZlTGVuZ3RoKCk7XG4gIH1cblxuICAvKipcbiAgICogUGF5bG9hZCBsZW5ndGggaGFzIGJlZW4gcmVhZC5cbiAgICpcbiAgICogQHJldHVybiB7KFJhbmdlRXJyb3J8dW5kZWZpbmVkKX0gQSBwb3NzaWJsZSBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgaGF2ZUxlbmd0aCgpIHtcbiAgICBpZiAodGhpcy5fcGF5bG9hZExlbmd0aCAmJiB0aGlzLl9vcGNvZGUgPCAweDA4KSB7XG4gICAgICB0aGlzLl90b3RhbFBheWxvYWRMZW5ndGggKz0gdGhpcy5fcGF5bG9hZExlbmd0aDtcbiAgICAgIGlmICh0aGlzLl90b3RhbFBheWxvYWRMZW5ndGggPiB0aGlzLl9tYXhQYXlsb2FkICYmIHRoaXMuX21heFBheWxvYWQgPiAwKSB7XG4gICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgJ01heCBwYXlsb2FkIHNpemUgZXhjZWVkZWQnLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIDEwMDksXG4gICAgICAgICAgJ1dTX0VSUl9VTlNVUFBPUlRFRF9NRVNTQUdFX0xFTkdUSCdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbWFza2VkKSB0aGlzLl9zdGF0ZSA9IEdFVF9NQVNLO1xuICAgIGVsc2UgdGhpcy5fc3RhdGUgPSBHRVRfREFUQTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyBtYXNrIGJ5dGVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0TWFzaygpIHtcbiAgICBpZiAodGhpcy5fYnVmZmVyZWRCeXRlcyA8IDQpIHtcbiAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9tYXNrID0gdGhpcy5jb25zdW1lKDQpO1xuICAgIHRoaXMuX3N0YXRlID0gR0VUX0RBVEE7XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgZGF0YSBieXRlcy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgQ2FsbGJhY2tcbiAgICogQHJldHVybiB7KEVycm9yfFJhbmdlRXJyb3J8dW5kZWZpbmVkKX0gQSBwb3NzaWJsZSBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZ2V0RGF0YShjYikge1xuICAgIGxldCBkYXRhID0gRU1QVFlfQlVGRkVSO1xuXG4gICAgaWYgKHRoaXMuX3BheWxvYWRMZW5ndGgpIHtcbiAgICAgIGlmICh0aGlzLl9idWZmZXJlZEJ5dGVzIDwgdGhpcy5fcGF5bG9hZExlbmd0aCkge1xuICAgICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZGF0YSA9IHRoaXMuY29uc3VtZSh0aGlzLl9wYXlsb2FkTGVuZ3RoKTtcbiAgICAgIGlmICh0aGlzLl9tYXNrZWQpIHVubWFzayhkYXRhLCB0aGlzLl9tYXNrKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fb3Bjb2RlID4gMHgwNykgcmV0dXJuIHRoaXMuY29udHJvbE1lc3NhZ2UoZGF0YSk7XG5cbiAgICBpZiAodGhpcy5fY29tcHJlc3NlZCkge1xuICAgICAgdGhpcy5fc3RhdGUgPSBJTkZMQVRJTkc7XG4gICAgICB0aGlzLmRlY29tcHJlc3MoZGF0YSwgY2IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkYXRhLmxlbmd0aCkge1xuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgbWVzc2FnZSBpcyBub3QgY29tcHJlc3NlZCBzbyBpdHMgbGVuZ2h0IGlzIHRoZSBzdW0gb2YgdGhlIHBheWxvYWRcbiAgICAgIC8vIGxlbmd0aCBvZiBhbGwgZnJhZ21lbnRzLlxuICAgICAgLy9cbiAgICAgIHRoaXMuX21lc3NhZ2VMZW5ndGggPSB0aGlzLl90b3RhbFBheWxvYWRMZW5ndGg7XG4gICAgICB0aGlzLl9mcmFnbWVudHMucHVzaChkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5kYXRhTWVzc2FnZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlY29tcHJlc3NlcyBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBDb21wcmVzc2VkIGRhdGFcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgQ2FsbGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRlY29tcHJlc3MoZGF0YSwgY2IpIHtcbiAgICBjb25zdCBwZXJNZXNzYWdlRGVmbGF0ZSA9IHRoaXMuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV07XG5cbiAgICBwZXJNZXNzYWdlRGVmbGF0ZS5kZWNvbXByZXNzKGRhdGEsIHRoaXMuX2ZpbiwgKGVyciwgYnVmKSA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKTtcblxuICAgICAgaWYgKGJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZUxlbmd0aCArPSBidWYubGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5fbWVzc2FnZUxlbmd0aCA+IHRoaXMuX21heFBheWxvYWQgJiYgdGhpcy5fbWF4UGF5bG9hZCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gY2IoXG4gICAgICAgICAgICBlcnJvcihcbiAgICAgICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICAgICAgJ01heCBwYXlsb2FkIHNpemUgZXhjZWVkZWQnLFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgMTAwOSxcbiAgICAgICAgICAgICAgJ1dTX0VSUl9VTlNVUFBPUlRFRF9NRVNTQUdFX0xFTkdUSCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZnJhZ21lbnRzLnB1c2goYnVmKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXIgPSB0aGlzLmRhdGFNZXNzYWdlKCk7XG4gICAgICBpZiAoZXIpIHJldHVybiBjYihlcik7XG5cbiAgICAgIHRoaXMuc3RhcnRMb29wKGNiKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGEgZGF0YSBtZXNzYWdlLlxuICAgKlxuICAgKiBAcmV0dXJuIHsoRXJyb3J8dW5kZWZpbmVkKX0gQSBwb3NzaWJsZSBlcnJvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGF0YU1lc3NhZ2UoKSB7XG4gICAgaWYgKHRoaXMuX2Zpbikge1xuICAgICAgY29uc3QgbWVzc2FnZUxlbmd0aCA9IHRoaXMuX21lc3NhZ2VMZW5ndGg7XG4gICAgICBjb25zdCBmcmFnbWVudHMgPSB0aGlzLl9mcmFnbWVudHM7XG5cbiAgICAgIHRoaXMuX3RvdGFsUGF5bG9hZExlbmd0aCA9IDA7XG4gICAgICB0aGlzLl9tZXNzYWdlTGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuX2ZyYWdtZW50ZWQgPSAwO1xuICAgICAgdGhpcy5fZnJhZ21lbnRzID0gW107XG5cbiAgICAgIGlmICh0aGlzLl9vcGNvZGUgPT09IDIpIHtcbiAgICAgICAgbGV0IGRhdGE7XG5cbiAgICAgICAgaWYgKHRoaXMuX2JpbmFyeVR5cGUgPT09ICdub2RlYnVmZmVyJykge1xuICAgICAgICAgIGRhdGEgPSBjb25jYXQoZnJhZ21lbnRzLCBtZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9iaW5hcnlUeXBlID09PSAnYXJyYXlidWZmZXInKSB7XG4gICAgICAgICAgZGF0YSA9IHRvQXJyYXlCdWZmZXIoY29uY2F0KGZyYWdtZW50cywgbWVzc2FnZUxlbmd0aCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEgPSBmcmFnbWVudHM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ21lc3NhZ2UnLCBkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IGNvbmNhdChmcmFnbWVudHMsIG1lc3NhZ2VMZW5ndGgpO1xuXG4gICAgICAgIGlmICghaXNWYWxpZFVURjgoYnVmKSkge1xuICAgICAgICAgIHRoaXMuX2xvb3AgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgICBFcnJvcixcbiAgICAgICAgICAgICdpbnZhbGlkIFVURi04IHNlcXVlbmNlJyxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAxMDA3LFxuICAgICAgICAgICAgJ1dTX0VSUl9JTlZBTElEX1VURjgnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIGJ1Zi50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9zdGF0ZSA9IEdFVF9JTkZPO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYSBjb250cm9sIG1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIERhdGEgdG8gaGFuZGxlXG4gICAqIEByZXR1cm4geyhFcnJvcnxSYW5nZUVycm9yfHVuZGVmaW5lZCl9IEEgcG9zc2libGUgZXJyb3JcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnRyb2xNZXNzYWdlKGRhdGEpIHtcbiAgICBpZiAodGhpcy5fb3Bjb2RlID09PSAweDA4KSB7XG4gICAgICB0aGlzLl9sb29wID0gZmFsc2U7XG5cbiAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLmVtaXQoJ2NvbmNsdWRlJywgMTAwNSwgJycpO1xuICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgfSBlbHNlIGlmIChkYXRhLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgUmFuZ2VFcnJvcixcbiAgICAgICAgICAnaW52YWxpZCBwYXlsb2FkIGxlbmd0aCAxJyxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIDEwMDIsXG4gICAgICAgICAgJ1dTX0VSUl9JTlZBTElEX0NPTlRST0xfUEFZTE9BRF9MRU5HVEgnXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjb2RlID0gZGF0YS5yZWFkVUludDE2QkUoMCk7XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkU3RhdHVzQ29kZShjb2RlKSkge1xuICAgICAgICAgIHJldHVybiBlcnJvcihcbiAgICAgICAgICAgIFJhbmdlRXJyb3IsXG4gICAgICAgICAgICBgaW52YWxpZCBzdGF0dXMgY29kZSAke2NvZGV9YCxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAxMDAyLFxuICAgICAgICAgICAgJ1dTX0VSUl9JTlZBTElEX0NMT1NFX0NPREUnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJ1ZiA9IGRhdGEuc2xpY2UoMik7XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkVVRGOChidWYpKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgICAgRXJyb3IsXG4gICAgICAgICAgICAnaW52YWxpZCBVVEYtOCBzZXF1ZW5jZScsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgMTAwNyxcbiAgICAgICAgICAgICdXU19FUlJfSU5WQUxJRF9VVEY4J1xuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ2NvbmNsdWRlJywgY29kZSwgYnVmLnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5fb3Bjb2RlID09PSAweDA5KSB7XG4gICAgICB0aGlzLmVtaXQoJ3BpbmcnLCBkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbWl0KCdwb25nJywgZGF0YSk7XG4gICAgfVxuXG4gICAgdGhpcy5fc3RhdGUgPSBHRVRfSU5GTztcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlY2VpdmVyO1xuXG4vKipcbiAqIEJ1aWxkcyBhbiBlcnJvciBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6RXJyb3J8UmFuZ2VFcnJvcil9IEVycm9yQ3RvciBUaGUgZXJyb3IgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHByZWZpeCBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gYWRkIGEgZGVmYXVsdCBwcmVmaXggdG9cbiAqICAgICBgbWVzc2FnZWBcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGF0dXNDb2RlIFRoZSBzdGF0dXMgY29kZVxuICogQHBhcmFtIHtTdHJpbmd9IGVycm9yQ29kZSBUaGUgZXhwb3NlZCBlcnJvciBjb2RlXG4gKiBAcmV0dXJuIHsoRXJyb3J8UmFuZ2VFcnJvcil9IFRoZSBlcnJvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXJyb3IoRXJyb3JDdG9yLCBtZXNzYWdlLCBwcmVmaXgsIHN0YXR1c0NvZGUsIGVycm9yQ29kZSkge1xuICBjb25zdCBlcnIgPSBuZXcgRXJyb3JDdG9yKFxuICAgIHByZWZpeCA/IGBJbnZhbGlkIFdlYlNvY2tldCBmcmFtZTogJHttZXNzYWdlfWAgOiBtZXNzYWdlXG4gICk7XG5cbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyLCBlcnJvcik7XG4gIGVyci5jb2RlID0gZXJyb3JDb2RlO1xuICBlcnJba1N0YXR1c0NvZGVdID0gc3RhdHVzQ29kZTtcbiAgcmV0dXJuIGVycjtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/receiver.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/sender.js":
/*!****************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/sender.js ***!
  \****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n\n\nconst net = __webpack_require__(/*! net */ \"net\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst { randomFillSync } = __webpack_require__(/*! crypto */ \"crypto\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/permessage-deflate.js\");\nconst { EMPTY_BUFFER } = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/constants.js\");\nconst { isValidStatusCode } = __webpack_require__(/*! ./validation */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/validation.js\");\nconst { mask: applyMask, toBuffer } = __webpack_require__(/*! ./buffer-util */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/buffer-util.js\");\n\nconst mask = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   */\n  constructor(socket, extensions) {\n    this._extensions = extensions || {};\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {Buffer} data The data to frame\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {Buffer[]} The framed data as a list of `Buffer` instances\n   * @public\n   */\n  static frame(data, options) {\n    const merge = options.mask && options.readOnly;\n    let offset = options.mask ? 6 : 2;\n    let payloadLength = data.length;\n\n    if (data.length >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (data.length > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? data.length + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(data.length, 2);\n    } else if (payloadLength === 127) {\n      target.writeUInt32BE(0, 2);\n      target.writeUInt32BE(data.length, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    randomFillSync(mask, 0, 4);\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, data.length);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, data.length);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {String} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || data === '') {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n      buf.write(data, 2);\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doClose, buf, mask, cb]);\n    } else {\n      this.doClose(buf, mask, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a close message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doClose(data, mask, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x08,\n        mask,\n        readOnly: false\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    const buf = toBuffer(data);\n\n    if (buf.length > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPing, buf, mask, toBuffer.readOnly, cb]);\n    } else {\n      this.doPing(buf, mask, toBuffer.readOnly, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a ping message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Boolean} [readOnly=false] Specifies whether `data` can be modified\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doPing(data, mask, readOnly, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x09,\n        mask,\n        readOnly\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    const buf = toBuffer(data);\n\n    if (buf.length > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    if (this._deflating) {\n      this.enqueue([this.doPong, buf, mask, toBuffer.readOnly, cb]);\n    } else {\n      this.doPong(buf, mask, toBuffer.readOnly, cb);\n    }\n  }\n\n  /**\n   * Frames and sends a pong message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Boolean} [readOnly=false] Specifies whether `data` can be modified\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  doPong(data, mask, readOnly, cb) {\n    this.sendFrame(\n      Sender.frame(data, {\n        fin: true,\n        rsv1: false,\n        opcode: 0x0a,\n        mask,\n        readOnly\n      }),\n      cb\n    );\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const buf = toBuffer(data);\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (rsv1 && perMessageDeflate) {\n        rsv1 = buf.length >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        fin: options.fin,\n        rsv1,\n        opcode,\n        mask: options.mask,\n        readOnly: toBuffer.readOnly\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, buf, this._compress, opts, cb]);\n      } else {\n        this.dispatch(buf, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(buf, {\n          fin: options.fin,\n          rsv1: false,\n          opcode,\n          mask: options.mask,\n          readOnly: toBuffer.readOnly\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a data message.\n   *\n   * @param {Buffer} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += data.length;\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const callback = this._queue[i][4];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= data.length;\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[1].length;\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[1].length;\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL3NlbmRlci5qcyIsIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0Msa0NBQWtDOztBQUUzRDs7QUFFYixZQUFZLG1CQUFPLENBQUMsZ0JBQUs7QUFDekIsWUFBWSxtQkFBTyxDQUFDLGdCQUFLO0FBQ3pCLFFBQVEsaUJBQWlCLEVBQUUsbUJBQU8sQ0FBQyxzQkFBUTs7QUFFM0MsMEJBQTBCLG1CQUFPLENBQUMsbUhBQXNCO0FBQ3hELFFBQVEsZUFBZSxFQUFFLG1CQUFPLENBQUMsaUdBQWE7QUFDOUMsUUFBUSxvQkFBb0IsRUFBRSxtQkFBTyxDQUFDLG1HQUFjO0FBQ3BELFFBQVEsNEJBQTRCLEVBQUUsbUJBQU8sQ0FBQyxxR0FBZTs7QUFFN0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QyxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxjQUFjLFVBQVU7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxh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O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2LWZpbmRlci8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL3NlbmRlci5qcz8wNWFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcInZhcnNJZ25vcmVQYXR0ZXJuXCI6IFwiXm5ldHx0bHMkXCIgfV0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBuZXQgPSByZXF1aXJlKCduZXQnKTtcbmNvbnN0IHRscyA9IHJlcXVpcmUoJ3RscycpO1xuY29uc3QgeyByYW5kb21GaWxsU3luYyB9ID0gcmVxdWlyZSgnY3J5cHRvJyk7XG5cbmNvbnN0IFBlck1lc3NhZ2VEZWZsYXRlID0gcmVxdWlyZSgnLi9wZXJtZXNzYWdlLWRlZmxhdGUnKTtcbmNvbnN0IHsgRU1QVFlfQlVGRkVSIH0gPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xuY29uc3QgeyBpc1ZhbGlkU3RhdHVzQ29kZSB9ID0gcmVxdWlyZSgnLi92YWxpZGF0aW9uJyk7XG5jb25zdCB7IG1hc2s6IGFwcGx5TWFzaywgdG9CdWZmZXIgfSA9IHJlcXVpcmUoJy4vYnVmZmVyLXV0aWwnKTtcblxuY29uc3QgbWFzayA9IEJ1ZmZlci5hbGxvYyg0KTtcblxuLyoqXG4gKiBIeUJpIFNlbmRlciBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuY2xhc3MgU2VuZGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBTZW5kZXIgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7KG5ldC5Tb2NrZXR8dGxzLlNvY2tldCl9IHNvY2tldCBUaGUgY29ubmVjdGlvbiBzb2NrZXRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtleHRlbnNpb25zXSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgbmVnb3RpYXRlZCBleHRlbnNpb25zXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihzb2NrZXQsIGV4dGVuc2lvbnMpIHtcbiAgICB0aGlzLl9leHRlbnNpb25zID0gZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICB0aGlzLl9zb2NrZXQgPSBzb2NrZXQ7XG5cbiAgICB0aGlzLl9maXJzdEZyYWdtZW50ID0gdHJ1ZTtcbiAgICB0aGlzLl9jb21wcmVzcyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fYnVmZmVyZWRCeXRlcyA9IDA7XG4gICAgdGhpcy5fZGVmbGF0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGcmFtZXMgYSBwaWVjZSBvZiBkYXRhIGFjY29yZGluZyB0byB0aGUgSHlCaSBXZWJTb2NrZXQgcHJvdG9jb2wuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIFRoZSBkYXRhIHRvIGZyYW1lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLm9wY29kZSBUaGUgb3Bjb2RlXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmVhZE9ubHk9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIGBkYXRhYCBjYW4gYmVcbiAgICogICAgIG1vZGlmaWVkXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZmluPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gc2V0IHRoZVxuICAgKiAgICAgRklOIGJpdFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrXG4gICAqICAgICBgZGF0YWBcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yc3YxPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gc2V0IHRoZVxuICAgKiAgICAgUlNWMSBiaXRcbiAgICogQHJldHVybiB7QnVmZmVyW119IFRoZSBmcmFtZWQgZGF0YSBhcyBhIGxpc3Qgb2YgYEJ1ZmZlcmAgaW5zdGFuY2VzXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHN0YXRpYyBmcmFtZShkYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbWVyZ2UgPSBvcHRpb25zLm1hc2sgJiYgb3B0aW9ucy5yZWFkT25seTtcbiAgICBsZXQgb2Zmc2V0ID0gb3B0aW9ucy5tYXNrID8gNiA6IDI7XG4gICAgbGV0IHBheWxvYWRMZW5ndGggPSBkYXRhLmxlbmd0aDtcblxuICAgIGlmIChkYXRhLmxlbmd0aCA+PSA2NTUzNikge1xuICAgICAgb2Zmc2V0ICs9IDg7XG4gICAgICBwYXlsb2FkTGVuZ3RoID0gMTI3O1xuICAgIH0gZWxzZSBpZiAoZGF0YS5sZW5ndGggPiAxMjUpIHtcbiAgICAgIG9mZnNldCArPSAyO1xuICAgICAgcGF5bG9hZExlbmd0aCA9IDEyNjtcbiAgICB9XG5cbiAgICBjb25zdCB0YXJnZXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobWVyZ2UgPyBkYXRhLmxlbmd0aCArIG9mZnNldCA6IG9mZnNldCk7XG5cbiAgICB0YXJnZXRbMF0gPSBvcHRpb25zLmZpbiA/IG9wdGlvbnMub3Bjb2RlIHwgMHg4MCA6IG9wdGlvbnMub3Bjb2RlO1xuICAgIGlmIChvcHRpb25zLnJzdjEpIHRhcmdldFswXSB8PSAweDQwO1xuXG4gICAgdGFyZ2V0WzFdID0gcGF5bG9hZExlbmd0aDtcblxuICAgIGlmIChwYXlsb2FkTGVuZ3RoID09PSAxMjYpIHtcbiAgICAgIHRhcmdldC53cml0ZVVJbnQxNkJFKGRhdGEubGVuZ3RoLCAyKTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWRMZW5ndGggPT09IDEyNykge1xuICAgICAgdGFyZ2V0LndyaXRlVUludDMyQkUoMCwgMik7XG4gICAgICB0YXJnZXQud3JpdGVVSW50MzJCRShkYXRhLmxlbmd0aCwgNik7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLm1hc2spIHJldHVybiBbdGFyZ2V0LCBkYXRhXTtcblxuICAgIHJhbmRvbUZpbGxTeW5jKG1hc2ssIDAsIDQpO1xuXG4gICAgdGFyZ2V0WzFdIHw9IDB4ODA7XG4gICAgdGFyZ2V0W29mZnNldCAtIDRdID0gbWFza1swXTtcbiAgICB0YXJnZXRbb2Zmc2V0IC0gM10gPSBtYXNrWzFdO1xuICAgIHRhcmdldFtvZmZzZXQgLSAyXSA9IG1hc2tbMl07XG4gICAgdGFyZ2V0W29mZnNldCAtIDFdID0gbWFza1szXTtcblxuICAgIGlmIChtZXJnZSkge1xuICAgICAgYXBwbHlNYXNrKGRhdGEsIG1hc2ssIHRhcmdldCwgb2Zmc2V0LCBkYXRhLmxlbmd0aCk7XG4gICAgICByZXR1cm4gW3RhcmdldF07XG4gICAgfVxuXG4gICAgYXBwbHlNYXNrKGRhdGEsIG1hc2ssIGRhdGEsIDAsIGRhdGEubGVuZ3RoKTtcbiAgICByZXR1cm4gW3RhcmdldCwgZGF0YV07XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgYSBjbG9zZSBtZXNzYWdlIHRvIHRoZSBvdGhlciBwZWVyLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gW2NvZGVdIFRoZSBzdGF0dXMgY29kZSBjb21wb25lbnQgb2YgdGhlIGJvZHlcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtkYXRhXSBUaGUgbWVzc2FnZSBjb21wb25lbnQgb2YgdGhlIGJvZHlcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgdGhlIG1lc3NhZ2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xuICAgKiBAcHVibGljXG4gICAqL1xuICBjbG9zZShjb2RlLCBkYXRhLCBtYXNrLCBjYikge1xuICAgIGxldCBidWY7XG5cbiAgICBpZiAoY29kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBidWYgPSBFTVBUWV9CVUZGRVI7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29kZSAhPT0gJ251bWJlcicgfHwgIWlzVmFsaWRTdGF0dXNDb2RlKGNvZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgdmFsaWQgZXJyb3IgY29kZSBudW1iZXInKTtcbiAgICB9IGVsc2UgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCB8fCBkYXRhID09PSAnJykge1xuICAgICAgYnVmID0gQnVmZmVyLmFsbG9jVW5zYWZlKDIpO1xuICAgICAgYnVmLndyaXRlVUludDE2QkUoY29kZSwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxlbmd0aCA9IEJ1ZmZlci5ieXRlTGVuZ3RoKGRhdGEpO1xuXG4gICAgICBpZiAobGVuZ3RoID4gMTIzKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgbWVzc2FnZSBtdXN0IG5vdCBiZSBncmVhdGVyIHRoYW4gMTIzIGJ5dGVzJyk7XG4gICAgICB9XG5cbiAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvY1Vuc2FmZSgyICsgbGVuZ3RoKTtcbiAgICAgIGJ1Zi53cml0ZVVJbnQxNkJFKGNvZGUsIDApO1xuICAgICAgYnVmLndyaXRlKGRhdGEsIDIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9kZWZsYXRpbmcpIHtcbiAgICAgIHRoaXMuZW5xdWV1ZShbdGhpcy5kb0Nsb3NlLCBidWYsIG1hc2ssIGNiXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZG9DbG9zZShidWYsIG1hc2ssIGNiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRnJhbWVzIGFuZCBzZW5kcyBhIGNsb3NlIG1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIFRoZSBtZXNzYWdlIHRvIHNlbmRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgYGRhdGFgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRvQ2xvc2UoZGF0YSwgbWFzaywgY2IpIHtcbiAgICB0aGlzLnNlbmRGcmFtZShcbiAgICAgIFNlbmRlci5mcmFtZShkYXRhLCB7XG4gICAgICAgIGZpbjogdHJ1ZSxcbiAgICAgICAgcnN2MTogZmFsc2UsXG4gICAgICAgIG9wY29kZTogMHgwOCxcbiAgICAgICAgbWFzayxcbiAgICAgICAgcmVhZE9ubHk6IGZhbHNlXG4gICAgICB9KSxcbiAgICAgIGNiXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kcyBhIHBpbmcgbWVzc2FnZSB0byB0aGUgb3RoZXIgcGVlci5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBkYXRhIFRoZSBtZXNzYWdlIHRvIHNlbmRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgYGRhdGFgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgcGluZyhkYXRhLCBtYXNrLCBjYikge1xuICAgIGNvbnN0IGJ1ZiA9IHRvQnVmZmVyKGRhdGEpO1xuXG4gICAgaWYgKGJ1Zi5sZW5ndGggPiAxMjUpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgZGF0YSBzaXplIG11c3Qgbm90IGJlIGdyZWF0ZXIgdGhhbiAxMjUgYnl0ZXMnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZGVmbGF0aW5nKSB7XG4gICAgICB0aGlzLmVucXVldWUoW3RoaXMuZG9QaW5nLCBidWYsIG1hc2ssIHRvQnVmZmVyLnJlYWRPbmx5LCBjYl0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvUGluZyhidWYsIG1hc2ssIHRvQnVmZmVyLnJlYWRPbmx5LCBjYik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZyYW1lcyBhbmQgc2VuZHMgYSBwaW5nIG1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIFRoZSBtZXNzYWdlIHRvIHNlbmRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbWFzaz1mYWxzZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgYGRhdGFgXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlYWRPbmx5PWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBgZGF0YWAgY2FuIGJlIG1vZGlmaWVkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2tcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRvUGluZyhkYXRhLCBtYXNrLCByZWFkT25seSwgY2IpIHtcbiAgICB0aGlzLnNlbmRGcmFtZShcbiAgICAgIFNlbmRlci5mcmFtZShkYXRhLCB7XG4gICAgICAgIGZpbjogdHJ1ZSxcbiAgICAgICAgcnN2MTogZmFsc2UsXG4gICAgICAgIG9wY29kZTogMHgwOSxcbiAgICAgICAgbWFzayxcbiAgICAgICAgcmVhZE9ubHlcbiAgICAgIH0pLFxuICAgICAgY2JcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgcG9uZyBtZXNzYWdlIHRvIHRoZSBvdGhlciBwZWVyLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1lc3NhZ2UgdG8gc2VuZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFzayBgZGF0YWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xuICAgKiBAcHVibGljXG4gICAqL1xuICBwb25nKGRhdGEsIG1hc2ssIGNiKSB7XG4gICAgY29uc3QgYnVmID0gdG9CdWZmZXIoZGF0YSk7XG5cbiAgICBpZiAoYnVmLmxlbmd0aCA+IDEyNSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSBkYXRhIHNpemUgbXVzdCBub3QgYmUgZ3JlYXRlciB0aGFuIDEyNSBieXRlcycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9kZWZsYXRpbmcpIHtcbiAgICAgIHRoaXMuZW5xdWV1ZShbdGhpcy5kb1BvbmcsIGJ1ZiwgbWFzaywgdG9CdWZmZXIucmVhZE9ubHksIGNiXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZG9Qb25nKGJ1ZiwgbWFzaywgdG9CdWZmZXIucmVhZE9ubHksIGNiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRnJhbWVzIGFuZCBzZW5kcyBhIHBvbmcgbWVzc2FnZS5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgVGhlIG1lc3NhZ2UgdG8gc2VuZFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFttYXNrPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gbWFzayBgZGF0YWBcbiAgICogQHBhcmFtIHtCb29sZWFufSBbcmVhZE9ubHk9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIGBkYXRhYCBjYW4gYmUgbW9kaWZpZWRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZG9Qb25nKGRhdGEsIG1hc2ssIHJlYWRPbmx5LCBjYikge1xuICAgIHRoaXMuc2VuZEZyYW1lKFxuICAgICAgU2VuZGVyLmZyYW1lKGRhdGEsIHtcbiAgICAgICAgZmluOiB0cnVlLFxuICAgICAgICByc3YxOiBmYWxzZSxcbiAgICAgICAgb3Bjb2RlOiAweDBhLFxuICAgICAgICBtYXNrLFxuICAgICAgICByZWFkT25seVxuICAgICAgfSksXG4gICAgICBjYlxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgYSBkYXRhIG1lc3NhZ2UgdG8gdGhlIG90aGVyIHBlZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWVzc2FnZSB0byBzZW5kXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY29tcHJlc3M9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0b1xuICAgKiAgICAgY29tcHJlc3MgYGRhdGFgXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYmluYXJ5PWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBgZGF0YWAgaXMgYmluYXJ5XG4gICAqICAgICBvciB0ZXh0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZmluPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZnJhZ21lbnQgaXMgdGhlXG4gICAqICAgICBsYXN0IG9uZVxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrXG4gICAqICAgICBgZGF0YWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xuICAgKiBAcHVibGljXG4gICAqL1xuICBzZW5kKGRhdGEsIG9wdGlvbnMsIGNiKSB7XG4gICAgY29uc3QgYnVmID0gdG9CdWZmZXIoZGF0YSk7XG4gICAgY29uc3QgcGVyTWVzc2FnZURlZmxhdGUgPSB0aGlzLl9leHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdO1xuICAgIGxldCBvcGNvZGUgPSBvcHRpb25zLmJpbmFyeSA/IDIgOiAxO1xuICAgIGxldCByc3YxID0gb3B0aW9ucy5jb21wcmVzcztcblxuICAgIGlmICh0aGlzLl9maXJzdEZyYWdtZW50KSB7XG4gICAgICB0aGlzLl9maXJzdEZyYWdtZW50ID0gZmFsc2U7XG4gICAgICBpZiAocnN2MSAmJiBwZXJNZXNzYWdlRGVmbGF0ZSkge1xuICAgICAgICByc3YxID0gYnVmLmxlbmd0aCA+PSBwZXJNZXNzYWdlRGVmbGF0ZS5fdGhyZXNob2xkO1xuICAgICAgfVxuICAgICAgdGhpcy5fY29tcHJlc3MgPSByc3YxO1xuICAgIH0gZWxzZSB7XG4gICAgICByc3YxID0gZmFsc2U7XG4gICAgICBvcGNvZGUgPSAwO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmZpbikgdGhpcy5fZmlyc3RGcmFnbWVudCA9IHRydWU7XG5cbiAgICBpZiAocGVyTWVzc2FnZURlZmxhdGUpIHtcbiAgICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAgIGZpbjogb3B0aW9ucy5maW4sXG4gICAgICAgIHJzdjEsXG4gICAgICAgIG9wY29kZSxcbiAgICAgICAgbWFzazogb3B0aW9ucy5tYXNrLFxuICAgICAgICByZWFkT25seTogdG9CdWZmZXIucmVhZE9ubHlcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLl9kZWZsYXRpbmcpIHtcbiAgICAgICAgdGhpcy5lbnF1ZXVlKFt0aGlzLmRpc3BhdGNoLCBidWYsIHRoaXMuX2NvbXByZXNzLCBvcHRzLCBjYl0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaChidWYsIHRoaXMuX2NvbXByZXNzLCBvcHRzLCBjYik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VuZEZyYW1lKFxuICAgICAgICBTZW5kZXIuZnJhbWUoYnVmLCB7XG4gICAgICAgICAgZmluOiBvcHRpb25zLmZpbixcbiAgICAgICAgICByc3YxOiBmYWxzZSxcbiAgICAgICAgICBvcGNvZGUsXG4gICAgICAgICAgbWFzazogb3B0aW9ucy5tYXNrLFxuICAgICAgICAgIHJlYWRPbmx5OiB0b0J1ZmZlci5yZWFkT25seVxuICAgICAgICB9KSxcbiAgICAgICAgY2JcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYSBkYXRhIG1lc3NhZ2UuXG4gICAqXG4gICAqIEBwYXJhbSB7QnVmZmVyfSBkYXRhIFRoZSBtZXNzYWdlIHRvIHNlbmRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbY29tcHJlc3M9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBjb21wcmVzc1xuICAgKiAgICAgYGRhdGFgXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLm9wY29kZSBUaGUgb3Bjb2RlXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMucmVhZE9ubHk9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIGBkYXRhYCBjYW4gYmVcbiAgICogICAgIG1vZGlmaWVkXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZmluPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gc2V0IHRoZVxuICAgKiAgICAgRklOIGJpdFxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1hc2s9ZmFsc2VdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrXG4gICAqICAgICBgZGF0YWBcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yc3YxPWZhbHNlXSBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gc2V0IHRoZVxuICAgKiAgICAgUlNWMSBiaXRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSBDYWxsYmFja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZGlzcGF0Y2goZGF0YSwgY29tcHJlc3MsIG9wdGlvbnMsIGNiKSB7XG4gICAgaWYgKCFjb21wcmVzcykge1xuICAgICAgdGhpcy5zZW5kRnJhbWUoU2VuZGVyLmZyYW1lKGRhdGEsIG9wdGlvbnMpLCBjYik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGVyTWVzc2FnZURlZmxhdGUgPSB0aGlzLl9leHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdO1xuXG4gICAgdGhpcy5fYnVmZmVyZWRCeXRlcyArPSBkYXRhLmxlbmd0aDtcbiAgICB0aGlzLl9kZWZsYXRpbmcgPSB0cnVlO1xuICAgIHBlck1lc3NhZ2VEZWZsYXRlLmNvbXByZXNzKGRhdGEsIG9wdGlvbnMuZmluLCAoXywgYnVmKSA9PiB7XG4gICAgICBpZiAodGhpcy5fc29ja2V0LmRlc3Ryb3llZCkge1xuICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1RoZSBzb2NrZXQgd2FzIGNsb3NlZCB3aGlsZSBkYXRhIHdhcyBiZWluZyBjb21wcmVzc2VkJ1xuICAgICAgICApO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIGNiKGVycik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy5fcXVldWVbaV1bNF07XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9idWZmZXJlZEJ5dGVzIC09IGRhdGEubGVuZ3RoO1xuICAgICAgdGhpcy5fZGVmbGF0aW5nID0gZmFsc2U7XG4gICAgICBvcHRpb25zLnJlYWRPbmx5ID0gZmFsc2U7XG4gICAgICB0aGlzLnNlbmRGcmFtZShTZW5kZXIuZnJhbWUoYnVmLCBvcHRpb25zKSwgY2IpO1xuICAgICAgdGhpcy5kZXF1ZXVlKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgcXVldWVkIHNlbmQgb3BlcmF0aW9ucy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGRlcXVldWUoKSB7XG4gICAgd2hpbGUgKCF0aGlzLl9kZWZsYXRpbmcgJiYgdGhpcy5fcXVldWUubGVuZ3RoKSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSB0aGlzLl9xdWV1ZS5zaGlmdCgpO1xuXG4gICAgICB0aGlzLl9idWZmZXJlZEJ5dGVzIC09IHBhcmFtc1sxXS5sZW5ndGg7XG4gICAgICBSZWZsZWN0LmFwcGx5KHBhcmFtc1swXSwgdGhpcywgcGFyYW1zLnNsaWNlKDEpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRW5xdWV1ZXMgYSBzZW5kIG9wZXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIFNlbmQgb3BlcmF0aW9uIHBhcmFtZXRlcnMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBlbnF1ZXVlKHBhcmFtcykge1xuICAgIHRoaXMuX2J1ZmZlcmVkQnl0ZXMgKz0gcGFyYW1zWzFdLmxlbmd0aDtcbiAgICB0aGlzLl9xdWV1ZS5wdXNoKHBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZHMgYSBmcmFtZS5cbiAgICpcbiAgICogQHBhcmFtIHtCdWZmZXJbXX0gbGlzdCBUaGUgZnJhbWUgdG8gc2VuZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZW5kRnJhbWUobGlzdCwgY2IpIHtcbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDIpIHtcbiAgICAgIHRoaXMuX3NvY2tldC5jb3JrKCk7XG4gICAgICB0aGlzLl9zb2NrZXQud3JpdGUobGlzdFswXSk7XG4gICAgICB0aGlzLl9zb2NrZXQud3JpdGUobGlzdFsxXSwgY2IpO1xuICAgICAgdGhpcy5fc29ja2V0LnVuY29yaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zb2NrZXQud3JpdGUobGlzdFswXSwgY2IpO1xuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNlbmRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/sender.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/stream.js":
/*!****************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/stream.js ***!
  \****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\nconst { Duplex } = __webpack_require__(/*! stream */ \"stream\");\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let resumeOnReceiverDrain = true;\n  let terminateOnDestroy = true;\n\n  function receiverOnDrain() {\n    if (resumeOnReceiverDrain) ws._socket.resume();\n  }\n\n  if (ws.readyState === ws.CONNECTING) {\n    ws.once('open', function open() {\n      ws._receiver.removeAllListeners('drain');\n      ws._receiver.on('drain', receiverOnDrain);\n    });\n  } else {\n    ws._receiver.removeAllListeners('drain');\n    ws._receiver.on('drain', receiverOnDrain);\n  }\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg) {\n    if (!duplex.push(msg)) {\n      resumeOnReceiverDrain = false;\n      ws._socket.pause();\n    }\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (\n      (ws.readyState === ws.OPEN || ws.readyState === ws.CLOSING) &&\n      !resumeOnReceiverDrain\n    ) {\n      resumeOnReceiverDrain = true;\n      if (!ws._receiver._writableState.needDrain) ws._socket.resume();\n    }\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL3N0cmVhbS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixRQUFRLFNBQVMsRUFBRSxtQkFBTyxDQUFDLHNCQUFROztBQUVuQztBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsUUFBUTtBQUNuQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rldi1maW5kZXIvLi9ub2RlX21vZHVsZXMvc3RyZWFtLWNoYXQvbm9kZV9tb2R1bGVzL3dzL2xpYi9zdHJlYW0uanM/NDE0MiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHsgRHVwbGV4IH0gPSByZXF1aXJlKCdzdHJlYW0nKTtcblxuLyoqXG4gKiBFbWl0cyB0aGUgYCdjbG9zZSdgIGV2ZW50IG9uIGEgc3RyZWFtLlxuICpcbiAqIEBwYXJhbSB7RHVwbGV4fSBzdHJlYW0gVGhlIHN0cmVhbS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVtaXRDbG9zZShzdHJlYW0pIHtcbiAgc3RyZWFtLmVtaXQoJ2Nsb3NlJyk7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgJ2VuZCdgIGV2ZW50LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGR1cGxleE9uRW5kKCkge1xuICBpZiAoIXRoaXMuZGVzdHJveWVkICYmIHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQpIHtcbiAgICB0aGlzLmRlc3Ryb3koKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYCdlcnJvcidgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7RXJyb3J9IGVyciBUaGUgZXJyb3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGR1cGxleE9uRXJyb3IoZXJyKSB7XG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZHVwbGV4T25FcnJvcik7XG4gIHRoaXMuZGVzdHJveSgpO1xuICBpZiAodGhpcy5saXN0ZW5lckNvdW50KCdlcnJvcicpID09PSAwKSB7XG4gICAgLy8gRG8gbm90IHN1cHByZXNzIHRoZSB0aHJvd2luZyBiZWhhdmlvci5cbiAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgfVxufVxuXG4vKipcbiAqIFdyYXBzIGEgYFdlYlNvY2tldGAgaW4gYSBkdXBsZXggc3RyZWFtLlxuICpcbiAqIEBwYXJhbSB7V2ViU29ja2V0fSB3cyBUaGUgYFdlYlNvY2tldGAgdG8gd3JhcFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBmb3IgdGhlIGBEdXBsZXhgIGNvbnN0cnVjdG9yXG4gKiBAcmV0dXJuIHtEdXBsZXh9IFRoZSBkdXBsZXggc3RyZWFtXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdlYlNvY2tldFN0cmVhbSh3cywgb3B0aW9ucykge1xuICBsZXQgcmVzdW1lT25SZWNlaXZlckRyYWluID0gdHJ1ZTtcbiAgbGV0IHRlcm1pbmF0ZU9uRGVzdHJveSA9IHRydWU7XG5cbiAgZnVuY3Rpb24gcmVjZWl2ZXJPbkRyYWluKCkge1xuICAgIGlmIChyZXN1bWVPblJlY2VpdmVyRHJhaW4pIHdzLl9zb2NrZXQucmVzdW1lKCk7XG4gIH1cblxuICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gd3MuQ09OTkVDVElORykge1xuICAgIHdzLm9uY2UoJ29wZW4nLCBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgd3MuX3JlY2VpdmVyLnJlbW92ZUFsbExpc3RlbmVycygnZHJhaW4nKTtcbiAgICAgIHdzLl9yZWNlaXZlci5vbignZHJhaW4nLCByZWNlaXZlck9uRHJhaW4pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHdzLl9yZWNlaXZlci5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2RyYWluJyk7XG4gICAgd3MuX3JlY2VpdmVyLm9uKCdkcmFpbicsIHJlY2VpdmVyT25EcmFpbik7XG4gIH1cblxuICBjb25zdCBkdXBsZXggPSBuZXcgRHVwbGV4KHtcbiAgICAuLi5vcHRpb25zLFxuICAgIGF1dG9EZXN0cm95OiBmYWxzZSxcbiAgICBlbWl0Q2xvc2U6IGZhbHNlLFxuICAgIG9iamVjdE1vZGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlT2JqZWN0TW9kZTogZmFsc2VcbiAgfSk7XG5cbiAgd3Mub24oJ21lc3NhZ2UnLCBmdW5jdGlvbiBtZXNzYWdlKG1zZykge1xuICAgIGlmICghZHVwbGV4LnB1c2gobXNnKSkge1xuICAgICAgcmVzdW1lT25SZWNlaXZlckRyYWluID0gZmFsc2U7XG4gICAgICB3cy5fc29ja2V0LnBhdXNlKCk7XG4gICAgfVxuICB9KTtcblxuICB3cy5vbmNlKCdlcnJvcicsIGZ1bmN0aW9uIGVycm9yKGVycikge1xuICAgIGlmIChkdXBsZXguZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAvLyBQcmV2ZW50IGB3cy50ZXJtaW5hdGUoKWAgZnJvbSBiZWluZyBjYWxsZWQgYnkgYGR1cGxleC5fZGVzdHJveSgpYC5cbiAgICAvL1xuICAgIC8vIC0gSWYgdGhlIGAnZXJyb3InYCBldmVudCBpcyBlbWl0dGVkIGJlZm9yZSB0aGUgYCdvcGVuJ2AgZXZlbnQsIHRoZW5cbiAgICAvLyAgIGB3cy50ZXJtaW5hdGUoKWAgaXMgYSBub29wIGFzIG5vIHNvY2tldCBpcyBhc3NpZ25lZC5cbiAgICAvLyAtIE90aGVyd2lzZSwgdGhlIGVycm9yIGlzIHJlLWVtaXR0ZWQgYnkgdGhlIGxpc3RlbmVyIG9mIHRoZSBgJ2Vycm9yJ2BcbiAgICAvLyAgIGV2ZW50IG9mIHRoZSBgUmVjZWl2ZXJgIG9iamVjdC4gVGhlIGxpc3RlbmVyIGFscmVhZHkgY2xvc2VzIHRoZVxuICAgIC8vICAgY29ubmVjdGlvbiBieSBjYWxsaW5nIGB3cy5jbG9zZSgpYC4gVGhpcyBhbGxvd3MgYSBjbG9zZSBmcmFtZSB0byBiZVxuICAgIC8vICAgc2VudCB0byB0aGUgb3RoZXIgcGVlci4gSWYgYHdzLnRlcm1pbmF0ZSgpYCBpcyBjYWxsZWQgcmlnaHQgYWZ0ZXIgdGhpcyxcbiAgICAvLyAgIHRoZW4gdGhlIGNsb3NlIGZyYW1lIG1pZ2h0IG5vdCBiZSBzZW50LlxuICAgIHRlcm1pbmF0ZU9uRGVzdHJveSA9IGZhbHNlO1xuICAgIGR1cGxleC5kZXN0cm95KGVycik7XG4gIH0pO1xuXG4gIHdzLm9uY2UoJ2Nsb3NlJywgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgaWYgKGR1cGxleC5kZXN0cm95ZWQpIHJldHVybjtcblxuICAgIGR1cGxleC5wdXNoKG51bGwpO1xuICB9KTtcblxuICBkdXBsZXguX2Rlc3Ryb3kgPSBmdW5jdGlvbiAoZXJyLCBjYWxsYmFjaykge1xuICAgIGlmICh3cy5yZWFkeVN0YXRlID09PSB3cy5DTE9TRUQpIHtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZSwgZHVwbGV4KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG5cbiAgICB3cy5vbmNlKCdlcnJvcicsIGZ1bmN0aW9uIGVycm9yKGVycikge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG5cbiAgICB3cy5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgaWYgKCFjYWxsZWQpIGNhbGxiYWNrKGVycik7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGVtaXRDbG9zZSwgZHVwbGV4KTtcbiAgICB9KTtcblxuICAgIGlmICh0ZXJtaW5hdGVPbkRlc3Ryb3kpIHdzLnRlcm1pbmF0ZSgpO1xuICB9O1xuXG4gIGR1cGxleC5fZmluYWwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gd3MuQ09OTkVDVElORykge1xuICAgICAgd3Mub25jZSgnb3BlbicsIGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIGR1cGxleC5fZmluYWwoY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHZhbHVlIG9mIHRoZSBgX3NvY2tldGAgcHJvcGVydHkgaXMgYG51bGxgIGl0IG1lYW5zIHRoYXQgYHdzYCBpcyBhXG4gICAgLy8gY2xpZW50IHdlYnNvY2tldCBhbmQgdGhlIGhhbmRzaGFrZSBmYWlsZWQuIEluIGZhY3QsIHdoZW4gdGhpcyBoYXBwZW5zLCBhXG4gICAgLy8gc29ja2V0IGlzIG5ldmVyIGFzc2lnbmVkIHRvIHRoZSB3ZWJzb2NrZXQuIFdhaXQgZm9yIHRoZSBgJ2Vycm9yJ2AgZXZlbnRcbiAgICAvLyB0aGF0IHdpbGwgYmUgZW1pdHRlZCBieSB0aGUgd2Vic29ja2V0LlxuICAgIGlmICh3cy5fc29ja2V0ID09PSBudWxsKSByZXR1cm47XG5cbiAgICBpZiAod3MuX3NvY2tldC5fd3JpdGFibGVTdGF0ZS5maW5pc2hlZCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICAgIGlmIChkdXBsZXguX3JlYWRhYmxlU3RhdGUuZW5kRW1pdHRlZCkgZHVwbGV4LmRlc3Ryb3koKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd3MuX3NvY2tldC5vbmNlKCdmaW5pc2gnLCBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgICAgIC8vIGBkdXBsZXhgIGlzIG5vdCBkZXN0cm95ZWQgaGVyZSBiZWNhdXNlIHRoZSBgJ2VuZCdgIGV2ZW50IHdpbGwgYmVcbiAgICAgICAgLy8gZW1pdHRlZCBvbiBgZHVwbGV4YCBhZnRlciB0aGlzIGAnZmluaXNoJ2AgZXZlbnQuIFRoZSBFT0Ygc2lnbmFsaW5nXG4gICAgICAgIC8vIGBudWxsYCBjaHVuayBpcywgaW4gZmFjdCwgcHVzaGVkIHdoZW4gdGhlIHdlYnNvY2tldCBlbWl0cyBgJ2Nsb3NlJ2AuXG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICAgIHdzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIGR1cGxleC5fcmVhZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoXG4gICAgICAod3MucmVhZHlTdGF0ZSA9PT0gd3MuT1BFTiB8fCB3cy5yZWFkeVN0YXRlID09PSB3cy5DTE9TSU5HKSAmJlxuICAgICAgIXJlc3VtZU9uUmVjZWl2ZXJEcmFpblxuICAgICkge1xuICAgICAgcmVzdW1lT25SZWNlaXZlckRyYWluID0gdHJ1ZTtcbiAgICAgIGlmICghd3MuX3JlY2VpdmVyLl93cml0YWJsZVN0YXRlLm5lZWREcmFpbikgd3MuX3NvY2tldC5yZXN1bWUoKTtcbiAgICB9XG4gIH07XG5cbiAgZHVwbGV4Ll93cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHdzLnJlYWR5U3RhdGUgPT09IHdzLkNPTk5FQ1RJTkcpIHtcbiAgICAgIHdzLm9uY2UoJ29wZW4nLCBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBkdXBsZXguX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgd3Muc2VuZChjaHVuaywgY2FsbGJhY2spO1xuICB9O1xuXG4gIGR1cGxleC5vbignZW5kJywgZHVwbGV4T25FbmQpO1xuICBkdXBsZXgub24oJ2Vycm9yJywgZHVwbGV4T25FcnJvcik7XG4gIHJldHVybiBkdXBsZXg7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlV2ViU29ja2V0U3RyZWFtO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/stream.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/validation.js":
/*!********************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/validation.js ***!
  \********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\ntry {\n  let isValidUTF8 = __webpack_require__(/*! utf-8-validate */ \"?7ac6\");\n\n  /* istanbul ignore if */\n  if (typeof isValidUTF8 === 'object') {\n    isValidUTF8 = isValidUTF8.Validation.isValidUTF8; // utf-8-validate@<3.0.0\n  }\n\n  module.exports = {\n    isValidStatusCode,\n    isValidUTF8(buf) {\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    }\n  };\n} catch (e) /* istanbul ignore next */ {\n  module.exports = {\n    isValidStatusCode,\n    isValidUTF8: _isValidUTF8\n  };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL3ZhbGlkYXRpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLFNBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixtQkFBTyxDQUFDLDZCQUFnQjs7QUFFNUM7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rldi1maW5kZXIvLi9ub2RlX21vZHVsZXMvc3RyZWFtLWNoYXQvbm9kZV9tb2R1bGVzL3dzL2xpYi92YWxpZGF0aW9uLmpzPzBkNmYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENoZWNrcyBpZiBhIHN0YXR1cyBjb2RlIGlzIGFsbG93ZWQgaW4gYSBjbG9zZSBmcmFtZS5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gY29kZSBUaGUgc3RhdHVzIGNvZGVcbiAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgc3RhdHVzIGNvZGUgaXMgdmFsaWQsIGVsc2UgYGZhbHNlYFxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBpc1ZhbGlkU3RhdHVzQ29kZShjb2RlKSB7XG4gIHJldHVybiAoXG4gICAgKGNvZGUgPj0gMTAwMCAmJlxuICAgICAgY29kZSA8PSAxMDE0ICYmXG4gICAgICBjb2RlICE9PSAxMDA0ICYmXG4gICAgICBjb2RlICE9PSAxMDA1ICYmXG4gICAgICBjb2RlICE9PSAxMDA2KSB8fFxuICAgIChjb2RlID49IDMwMDAgJiYgY29kZSA8PSA0OTk5KVxuICApO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGdpdmVuIGJ1ZmZlciBjb250YWlucyBvbmx5IGNvcnJlY3QgVVRGLTguXG4gKiBQb3J0ZWQgZnJvbSBodHRwczovL3d3dy5jbC5jYW0uYWMudWsvJTdFbWdrMjUvdWNzL3V0ZjhfY2hlY2suYyBieVxuICogTWFya3VzIEt1aG4uXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZiBUaGUgYnVmZmVyIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgYGJ1ZmAgY29udGFpbnMgb25seSBjb3JyZWN0IFVURi04LCBlbHNlIGBmYWxzZWBcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gX2lzVmFsaWRVVEY4KGJ1Zikge1xuICBjb25zdCBsZW4gPSBidWYubGVuZ3RoO1xuICBsZXQgaSA9IDA7XG5cbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICBpZiAoKGJ1ZltpXSAmIDB4ODApID09PSAwKSB7XG4gICAgICAvLyAweHh4eHh4eFxuICAgICAgaSsrO1xuICAgIH0gZWxzZSBpZiAoKGJ1ZltpXSAmIDB4ZTApID09PSAweGMwKSB7XG4gICAgICAvLyAxMTB4eHh4eCAxMHh4eHh4eFxuICAgICAgaWYgKFxuICAgICAgICBpICsgMSA9PT0gbGVuIHx8XG4gICAgICAgIChidWZbaSArIDFdICYgMHhjMCkgIT09IDB4ODAgfHxcbiAgICAgICAgKGJ1ZltpXSAmIDB4ZmUpID09PSAweGMwIC8vIE92ZXJsb25nXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpICs9IDI7XG4gICAgfSBlbHNlIGlmICgoYnVmW2ldICYgMHhmMCkgPT09IDB4ZTApIHtcbiAgICAgIC8vIDExMTB4eHh4IDEweHh4eHh4IDEweHh4eHh4XG4gICAgICBpZiAoXG4gICAgICAgIGkgKyAyID49IGxlbiB8fFxuICAgICAgICAoYnVmW2kgKyAxXSAmIDB4YzApICE9PSAweDgwIHx8XG4gICAgICAgIChidWZbaSArIDJdICYgMHhjMCkgIT09IDB4ODAgfHxcbiAgICAgICAgKGJ1ZltpXSA9PT0gMHhlMCAmJiAoYnVmW2kgKyAxXSAmIDB4ZTApID09PSAweDgwKSB8fCAvLyBPdmVybG9uZ1xuICAgICAgICAoYnVmW2ldID09PSAweGVkICYmIChidWZbaSArIDFdICYgMHhlMCkgPT09IDB4YTApIC8vIFN1cnJvZ2F0ZSAoVStEODAwIC0gVStERkZGKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaSArPSAzO1xuICAgIH0gZWxzZSBpZiAoKGJ1ZltpXSAmIDB4ZjgpID09PSAweGYwKSB7XG4gICAgICAvLyAxMTExMHh4eCAxMHh4eHh4eCAxMHh4eHh4eCAxMHh4eHh4eFxuICAgICAgaWYgKFxuICAgICAgICBpICsgMyA+PSBsZW4gfHxcbiAgICAgICAgKGJ1ZltpICsgMV0gJiAweGMwKSAhPT0gMHg4MCB8fFxuICAgICAgICAoYnVmW2kgKyAyXSAmIDB4YzApICE9PSAweDgwIHx8XG4gICAgICAgIChidWZbaSArIDNdICYgMHhjMCkgIT09IDB4ODAgfHxcbiAgICAgICAgKGJ1ZltpXSA9PT0gMHhmMCAmJiAoYnVmW2kgKyAxXSAmIDB4ZjApID09PSAweDgwKSB8fCAvLyBPdmVybG9uZ1xuICAgICAgICAoYnVmW2ldID09PSAweGY0ICYmIGJ1ZltpICsgMV0gPiAweDhmKSB8fFxuICAgICAgICBidWZbaV0gPiAweGY0IC8vID4gVSsxMEZGRkZcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGkgKz0gNDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG50cnkge1xuICBsZXQgaXNWYWxpZFVURjggPSByZXF1aXJlKCd1dGYtOC12YWxpZGF0ZScpO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIGlzVmFsaWRVVEY4ID09PSAnb2JqZWN0Jykge1xuICAgIGlzVmFsaWRVVEY4ID0gaXNWYWxpZFVURjguVmFsaWRhdGlvbi5pc1ZhbGlkVVRGODsgLy8gdXRmLTgtdmFsaWRhdGVAPDMuMC4wXG4gIH1cblxuICBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBpc1ZhbGlkU3RhdHVzQ29kZSxcbiAgICBpc1ZhbGlkVVRGOChidWYpIHtcbiAgICAgIHJldHVybiBidWYubGVuZ3RoIDwgMTUwID8gX2lzVmFsaWRVVEY4KGJ1ZikgOiBpc1ZhbGlkVVRGOChidWYpO1xuICAgIH1cbiAgfTtcbn0gY2F0Y2ggKGUpIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaXNWYWxpZFN0YXR1c0NvZGUsXG4gICAgaXNWYWxpZFVURjg6IF9pc1ZhbGlkVVRGOFxuICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/validation.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/websocket-server.js":
/*!**************************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/websocket-server.js ***!
  \**************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\n\n\n\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\nconst http = __webpack_require__(/*! http */ \"http\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst { createHash } = __webpack_require__(/*! crypto */ \"crypto\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/permessage-deflate.js\");\nconst WebSocket = __webpack_require__(/*! ./websocket */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/websocket.js\");\nconst { format, parse } = __webpack_require__(/*! ./extension */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/extension.js\");\nconst { GUID, kWebSocket } = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/constants.js\");\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      maxPayload: 100 * 1024 * 1024,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) this.clients = new Set();\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Close the server.\n   *\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(cb) {\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSED) {\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    //\n    // Terminate all associated clients.\n    //\n    if (this.clients) {\n      for (const client of this.clients) client.terminate();\n    }\n\n    const server = this._server;\n\n    if (server) {\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // Close the http server if it was internally created.\n      //\n      if (this.options.port != null) {\n        server.close(emitClose.bind(undefined, this));\n        return;\n      }\n    }\n\n    process.nextTick(emitClose, this);\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key =\n      req.headers['sec-websocket-key'] !== undefined\n        ? req.headers['sec-websocket-key'].trim()\n        : false;\n    const version = +req.headers['sec-websocket-version'];\n    const extensions = {};\n\n    if (\n      req.method !== 'GET' ||\n      req.headers.upgrade.toLowerCase() !== 'websocket' ||\n      !key ||\n      !keyRegex.test(key) ||\n      (version !== 8 && version !== 13) ||\n      !this.shouldHandle(req)\n    ) {\n      return abortHandshake(socket, 400);\n    }\n\n    if (this.options.perMessageDeflate) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = parse(req.headers['sec-websocket-extensions']);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        return abortHandshake(socket, 400);\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(key, extensions, req, socket, head, cb);\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(key, extensions, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Object} extensions The accepted extensions\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(key, extensions, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new WebSocket(null);\n    let protocol = req.headers['sec-websocket-protocol'];\n\n    if (protocol) {\n      protocol = protocol.split(',').map(trim);\n\n      //\n      // Optionally call external protocol selection handler.\n      //\n      if (this.options.handleProtocols) {\n        protocol = this.options.handleProtocols(protocol, req);\n      } else {\n        protocol = protocol[0];\n      }\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, this.options.maxPayload);\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => this.clients.delete(ws));\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle premature socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  if (socket.writable) {\n    message = message || http.STATUS_CODES[code];\n    headers = {\n      Connection: 'close',\n      'Content-Type': 'text/html',\n      'Content-Length': Buffer.byteLength(message),\n      ...headers\n    };\n\n    socket.write(\n      `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n        Object.keys(headers)\n          .map((h) => `${h}: ${headers[h]}`)\n          .join('\\r\\n') +\n        '\\r\\n\\r\\n' +\n        message\n    );\n  }\n\n  socket.removeListener('error', socketOnError);\n  socket.destroy();\n}\n\n/**\n * Remove whitespace characters from both ends of a string.\n *\n * @param {String} str The string\n * @return {String} A new string representing `str` stripped of whitespace\n *     characters from both its beginning and end\n * @private\n */\nfunction trim(str) {\n  return str.trim();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL3dlYnNvY2tldC1zZXJ2ZXIuanMiLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDLHdDQUF3Qzs7QUFFakU7O0FBRWIscUJBQXFCLG1CQUFPLENBQUMsc0JBQVE7QUFDckMsYUFBYSxtQkFBTyxDQUFDLGtCQUFNO0FBQzNCLGNBQWMsbUJBQU8sQ0FBQyxvQkFBTztBQUM3QixZQUFZLG1CQUFPLENBQUMsZ0JBQUs7QUFDekIsWUFBWSxtQkFBTyxDQUFDLGdCQUFLO0FBQ3pCLFFBQVEsYUFBYSxFQUFFLG1CQUFPLENBQUMsc0JBQVE7O0FBRXZDLDBCQUEwQixtQkFBTyxDQUFDLG1IQUFzQjtBQUN4RCxrQkFBa0IsbUJBQU8sQ0FBQyxpR0FBYTtBQUN2QyxRQUFRLGdCQUFnQixFQUFFLG1CQUFPLENBQUMsaUdBQWE7QUFDL0MsUUFBUSxtQkFBbUIsRUFBRSxtQkFBTyxDQUFDLGlHQUFhOztBQUVsRCxpQ0FBaUMsR0FBRzs7QUFFcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQSxhQUFhLFVBQVU7QUFDdkIsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQjtBQUNBLGFBQWEsU0FBUztBQUN0QixhQUFhLFFBQVE7QUFDckIsYUFBYSxrQkFBa0I7QUFDL0I7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSw0QkFBNEI7QUFDekM7QUFDQSxhQUFhLFVBQVU7QUFDdkIsYUFBYSxVQUFVO0FBQ3ZCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHNCQUFzQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0JBQXNCO0FBQ25DLGNBQWMsU0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsc0JBQXNCO0FBQ25DLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixrREFBa0Q7QUFDM0U7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsUUFBUTtBQUNyQixhQUFhLHNCQUFzQjtBQUNuQyxhQUFhLHlCQUF5QjtBQUN0QztBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFVBQVU7QUFDdkIsY0FBYyxPQUFPO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsT0FBTztBQUN0Qzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0EsZ0RBQWdELFNBQVM7QUFDekQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLGdEQUFnRCxNQUFNO0FBQ3REO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVywyQkFBMkI7QUFDdEMsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlCQUF5QjtBQUNwQyxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLE1BQU0sRUFBRSx3QkFBd0I7QUFDbEQ7QUFDQSx5QkFBeUIsRUFBRSxJQUFJLFdBQVc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXYtZmluZGVyLy4vbm9kZV9tb2R1bGVzL3N0cmVhbS1jaGF0L25vZGVfbW9kdWxlcy93cy9saWIvd2Vic29ja2V0LXNlcnZlci5qcz9lYWNiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBuby11bnVzZWQtdmFyczogW1wiZXJyb3JcIiwgeyBcInZhcnNJZ25vcmVQYXR0ZXJuXCI6IFwiXm5ldHx0bHN8aHR0cHMkXCIgfV0gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKTtcbmNvbnN0IGh0dHAgPSByZXF1aXJlKCdodHRwJyk7XG5jb25zdCBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJyk7XG5jb25zdCBuZXQgPSByZXF1aXJlKCduZXQnKTtcbmNvbnN0IHRscyA9IHJlcXVpcmUoJ3RscycpO1xuY29uc3QgeyBjcmVhdGVIYXNoIH0gPSByZXF1aXJlKCdjcnlwdG8nKTtcblxuY29uc3QgUGVyTWVzc2FnZURlZmxhdGUgPSByZXF1aXJlKCcuL3Blcm1lc3NhZ2UtZGVmbGF0ZScpO1xuY29uc3QgV2ViU29ja2V0ID0gcmVxdWlyZSgnLi93ZWJzb2NrZXQnKTtcbmNvbnN0IHsgZm9ybWF0LCBwYXJzZSB9ID0gcmVxdWlyZSgnLi9leHRlbnNpb24nKTtcbmNvbnN0IHsgR1VJRCwga1dlYlNvY2tldCB9ID0gcmVxdWlyZSgnLi9jb25zdGFudHMnKTtcblxuY29uc3Qga2V5UmVnZXggPSAvXlsrLzAtOUEtWmEtel17MjJ9PT0kLztcblxuY29uc3QgUlVOTklORyA9IDA7XG5jb25zdCBDTE9TSU5HID0gMTtcbmNvbnN0IENMT1NFRCA9IDI7XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgV2ViU29ja2V0IHNlcnZlci5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqL1xuY2xhc3MgV2ViU29ja2V0U2VydmVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIGBXZWJTb2NrZXRTZXJ2ZXJgIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBDb25maWd1cmF0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmJhY2tsb2c9NTExXSBUaGUgbWF4aW11bSBsZW5ndGggb2YgdGhlIHF1ZXVlIG9mXG4gICAqICAgICBwZW5kaW5nIGNvbm5lY3Rpb25zXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY2xpZW50VHJhY2tpbmc9dHJ1ZV0gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvXG4gICAqICAgICB0cmFjayBjbGllbnRzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmhhbmRsZVByb3RvY29sc10gQSBob29rIHRvIGhhbmRsZSBwcm90b2NvbHNcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhvc3RdIFRoZSBob3N0bmFtZSB3aGVyZSB0byBiaW5kIHRoZSBzZXJ2ZXJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFBheWxvYWQ9MTA0ODU3NjAwXSBUaGUgbWF4aW11bSBhbGxvd2VkIG1lc3NhZ2VcbiAgICogICAgIHNpemVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5ub1NlcnZlcj1mYWxzZV0gRW5hYmxlIG5vIHNlcnZlciBtb2RlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wYXRoXSBBY2NlcHQgb25seSBjb25uZWN0aW9ucyBtYXRjaGluZyB0aGlzIHBhdGhcbiAgICogQHBhcmFtIHsoQm9vbGVhbnxPYmplY3QpfSBbb3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZT1mYWxzZV0gRW5hYmxlL2Rpc2FibGVcbiAgICogICAgIHBlcm1lc3NhZ2UtZGVmbGF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucG9ydF0gVGhlIHBvcnQgd2hlcmUgdG8gYmluZCB0aGUgc2VydmVyXG4gICAqIEBwYXJhbSB7KGh0dHAuU2VydmVyfGh0dHBzLlNlcnZlcil9IFtvcHRpb25zLnNlcnZlcl0gQSBwcmUtY3JlYXRlZCBIVFRQL1NcbiAgICogICAgIHNlcnZlciB0byB1c2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMudmVyaWZ5Q2xpZW50XSBBIGhvb2sgdG8gcmVqZWN0IGNvbm5lY3Rpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQSBsaXN0ZW5lciBmb3IgdGhlIGBsaXN0ZW5pbmdgIGV2ZW50XG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIHN1cGVyKCk7XG5cbiAgICBvcHRpb25zID0ge1xuICAgICAgbWF4UGF5bG9hZDogMTAwICogMTAyNCAqIDEwMjQsXG4gICAgICBwZXJNZXNzYWdlRGVmbGF0ZTogZmFsc2UsXG4gICAgICBoYW5kbGVQcm90b2NvbHM6IG51bGwsXG4gICAgICBjbGllbnRUcmFja2luZzogdHJ1ZSxcbiAgICAgIHZlcmlmeUNsaWVudDogbnVsbCxcbiAgICAgIG5vU2VydmVyOiBmYWxzZSxcbiAgICAgIGJhY2tsb2c6IG51bGwsIC8vIHVzZSBkZWZhdWx0ICg1MTEgYXMgaW1wbGVtZW50ZWQgaW4gbmV0LmpzKVxuICAgICAgc2VydmVyOiBudWxsLFxuICAgICAgaG9zdDogbnVsbCxcbiAgICAgIHBhdGg6IG51bGwsXG4gICAgICBwb3J0OiBudWxsLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH07XG5cbiAgICBpZiAoXG4gICAgICAob3B0aW9ucy5wb3J0ID09IG51bGwgJiYgIW9wdGlvbnMuc2VydmVyICYmICFvcHRpb25zLm5vU2VydmVyKSB8fFxuICAgICAgKG9wdGlvbnMucG9ydCAhPSBudWxsICYmIChvcHRpb25zLnNlcnZlciB8fCBvcHRpb25zLm5vU2VydmVyKSkgfHxcbiAgICAgIChvcHRpb25zLnNlcnZlciAmJiBvcHRpb25zLm5vU2VydmVyKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgJ09uZSBhbmQgb25seSBvbmUgb2YgdGhlIFwicG9ydFwiLCBcInNlcnZlclwiLCBvciBcIm5vU2VydmVyXCIgb3B0aW9ucyAnICtcbiAgICAgICAgICAnbXVzdCBiZSBzcGVjaWZpZWQnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnBvcnQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fc2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoKHJlcSwgcmVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBodHRwLlNUQVRVU19DT0RFU1s0MjZdO1xuXG4gICAgICAgIHJlcy53cml0ZUhlYWQoNDI2LCB7XG4gICAgICAgICAgJ0NvbnRlbnQtTGVuZ3RoJzogYm9keS5sZW5ndGgsXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICd0ZXh0L3BsYWluJ1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzLmVuZChib2R5KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fc2VydmVyLmxpc3RlbihcbiAgICAgICAgb3B0aW9ucy5wb3J0LFxuICAgICAgICBvcHRpb25zLmhvc3QsXG4gICAgICAgIG9wdGlvbnMuYmFja2xvZyxcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnNlcnZlcikge1xuICAgICAgdGhpcy5fc2VydmVyID0gb3B0aW9ucy5zZXJ2ZXI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3NlcnZlcikge1xuICAgICAgY29uc3QgZW1pdENvbm5lY3Rpb24gPSB0aGlzLmVtaXQuYmluZCh0aGlzLCAnY29ubmVjdGlvbicpO1xuXG4gICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcnMgPSBhZGRMaXN0ZW5lcnModGhpcy5fc2VydmVyLCB7XG4gICAgICAgIGxpc3RlbmluZzogdGhpcy5lbWl0LmJpbmQodGhpcywgJ2xpc3RlbmluZycpLFxuICAgICAgICBlcnJvcjogdGhpcy5lbWl0LmJpbmQodGhpcywgJ2Vycm9yJyksXG4gICAgICAgIHVwZ3JhZGU6IChyZXEsIHNvY2tldCwgaGVhZCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGFuZGxlVXBncmFkZShyZXEsIHNvY2tldCwgaGVhZCwgZW1pdENvbm5lY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZSA9PT0gdHJ1ZSkgb3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZSA9IHt9O1xuICAgIGlmIChvcHRpb25zLmNsaWVudFRyYWNraW5nKSB0aGlzLmNsaWVudHMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9zdGF0ZSA9IFJVTk5JTkc7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYm91bmQgYWRkcmVzcywgdGhlIGFkZHJlc3MgZmFtaWx5IG5hbWUsIGFuZCBwb3J0IG9mIHRoZSBzZXJ2ZXJcbiAgICogYXMgcmVwb3J0ZWQgYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0gaWYgbGlzdGVuaW5nIG9uIGFuIElQIHNvY2tldC5cbiAgICogSWYgdGhlIHNlcnZlciBpcyBsaXN0ZW5pbmcgb24gYSBwaXBlIG9yIFVOSVggZG9tYWluIHNvY2tldCwgdGhlIG5hbWUgaXNcbiAgICogcmV0dXJuZWQgYXMgYSBzdHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm4geyhPYmplY3R8U3RyaW5nfG51bGwpfSBUaGUgYWRkcmVzcyBvZiB0aGUgc2VydmVyXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGFkZHJlc3MoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5ub1NlcnZlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2VydmVyIGlzIG9wZXJhdGluZyBpbiBcIm5vU2VydmVyXCIgbW9kZScpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fc2VydmVyKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyLmFkZHJlc3MoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGNsb3NlKGNiKSB7XG4gICAgaWYgKGNiKSB0aGlzLm9uY2UoJ2Nsb3NlJywgY2IpO1xuXG4gICAgaWYgKHRoaXMuX3N0YXRlID09PSBDTE9TRUQpIHtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZW1pdENsb3NlLCB0aGlzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc3RhdGUgPT09IENMT1NJTkcpIHJldHVybjtcbiAgICB0aGlzLl9zdGF0ZSA9IENMT1NJTkc7XG5cbiAgICAvL1xuICAgIC8vIFRlcm1pbmF0ZSBhbGwgYXNzb2NpYXRlZCBjbGllbnRzLlxuICAgIC8vXG4gICAgaWYgKHRoaXMuY2xpZW50cykge1xuICAgICAgZm9yIChjb25zdCBjbGllbnQgb2YgdGhpcy5jbGllbnRzKSBjbGllbnQudGVybWluYXRlKCk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2VydmVyID0gdGhpcy5fc2VydmVyO1xuXG4gICAgaWYgKHNlcnZlcikge1xuICAgICAgdGhpcy5fcmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLl9yZW1vdmVMaXN0ZW5lcnMgPSB0aGlzLl9zZXJ2ZXIgPSBudWxsO1xuXG4gICAgICAvL1xuICAgICAgLy8gQ2xvc2UgdGhlIGh0dHAgc2VydmVyIGlmIGl0IHdhcyBpbnRlcm5hbGx5IGNyZWF0ZWQuXG4gICAgICAvL1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5wb3J0ICE9IG51bGwpIHtcbiAgICAgICAgc2VydmVyLmNsb3NlKGVtaXRDbG9zZS5iaW5kKHVuZGVmaW5lZCwgdGhpcykpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvY2Vzcy5uZXh0VGljayhlbWl0Q2xvc2UsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlZSBpZiBhIGdpdmVuIHJlcXVlc3Qgc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhpcyBzZXJ2ZXIgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSB7aHR0cC5JbmNvbWluZ01lc3NhZ2V9IHJlcSBSZXF1ZXN0IG9iamVjdCB0byBpbnNwZWN0XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcmVxdWVzdCBpcyB2YWxpZCwgZWxzZSBgZmFsc2VgXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNob3VsZEhhbmRsZShyZXEpIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnBhdGgpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gcmVxLnVybC5pbmRleE9mKCc/Jyk7XG4gICAgICBjb25zdCBwYXRobmFtZSA9IGluZGV4ICE9PSAtMSA/IHJlcS51cmwuc2xpY2UoMCwgaW5kZXgpIDogcmVxLnVybDtcblxuICAgICAgaWYgKHBhdGhuYW1lICE9PSB0aGlzLm9wdGlvbnMucGF0aCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBhIEhUVFAgVXBncmFkZSByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge2h0dHAuSW5jb21pbmdNZXNzYWdlfSByZXEgVGhlIHJlcXVlc3Qgb2JqZWN0XG4gICAqIEBwYXJhbSB7KG5ldC5Tb2NrZXR8dGxzLlNvY2tldCl9IHNvY2tldCBUaGUgbmV0d29yayBzb2NrZXQgYmV0d2VlbiB0aGVcbiAgICogICAgIHNlcnZlciBhbmQgY2xpZW50XG4gICAqIEBwYXJhbSB7QnVmZmVyfSBoZWFkIFRoZSBmaXJzdCBwYWNrZXQgb2YgdGhlIHVwZ3JhZGVkIHN0cmVhbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYiBDYWxsYmFja1xuICAgKiBAcHVibGljXG4gICAqL1xuICBoYW5kbGVVcGdyYWRlKHJlcSwgc29ja2V0LCBoZWFkLCBjYikge1xuICAgIHNvY2tldC5vbignZXJyb3InLCBzb2NrZXRPbkVycm9yKTtcblxuICAgIGNvbnN0IGtleSA9XG4gICAgICByZXEuaGVhZGVyc1snc2VjLXdlYnNvY2tldC1rZXknXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcmVxLmhlYWRlcnNbJ3NlYy13ZWJzb2NrZXQta2V5J10udHJpbSgpXG4gICAgICAgIDogZmFsc2U7XG4gICAgY29uc3QgdmVyc2lvbiA9ICtyZXEuaGVhZGVyc1snc2VjLXdlYnNvY2tldC12ZXJzaW9uJ107XG4gICAgY29uc3QgZXh0ZW5zaW9ucyA9IHt9O1xuXG4gICAgaWYgKFxuICAgICAgcmVxLm1ldGhvZCAhPT0gJ0dFVCcgfHxcbiAgICAgIHJlcS5oZWFkZXJzLnVwZ3JhZGUudG9Mb3dlckNhc2UoKSAhPT0gJ3dlYnNvY2tldCcgfHxcbiAgICAgICFrZXkgfHxcbiAgICAgICFrZXlSZWdleC50ZXN0KGtleSkgfHxcbiAgICAgICh2ZXJzaW9uICE9PSA4ICYmIHZlcnNpb24gIT09IDEzKSB8fFxuICAgICAgIXRoaXMuc2hvdWxkSGFuZGxlKHJlcSlcbiAgICApIHtcbiAgICAgIHJldHVybiBhYm9ydEhhbmRzaGFrZShzb2NrZXQsIDQwMCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZSkge1xuICAgICAgY29uc3QgcGVyTWVzc2FnZURlZmxhdGUgPSBuZXcgUGVyTWVzc2FnZURlZmxhdGUoXG4gICAgICAgIHRoaXMub3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgdGhpcy5vcHRpb25zLm1heFBheWxvYWRcbiAgICAgICk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9mZmVycyA9IHBhcnNlKHJlcS5oZWFkZXJzWydzZWMtd2Vic29ja2V0LWV4dGVuc2lvbnMnXSk7XG5cbiAgICAgICAgaWYgKG9mZmVyc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSkge1xuICAgICAgICAgIHBlck1lc3NhZ2VEZWZsYXRlLmFjY2VwdChvZmZlcnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0pO1xuICAgICAgICAgIGV4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0gPSBwZXJNZXNzYWdlRGVmbGF0ZTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBhYm9ydEhhbmRzaGFrZShzb2NrZXQsIDQwMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBPcHRpb25hbGx5IGNhbGwgZXh0ZXJuYWwgY2xpZW50IHZlcmlmaWNhdGlvbiBoYW5kbGVyLlxuICAgIC8vXG4gICAgaWYgKHRoaXMub3B0aW9ucy52ZXJpZnlDbGllbnQpIHtcbiAgICAgIGNvbnN0IGluZm8gPSB7XG4gICAgICAgIG9yaWdpbjpcbiAgICAgICAgICByZXEuaGVhZGVyc1tgJHt2ZXJzaW9uID09PSA4ID8gJ3NlYy13ZWJzb2NrZXQtb3JpZ2luJyA6ICdvcmlnaW4nfWBdLFxuICAgICAgICBzZWN1cmU6ICEhKHJlcS5zb2NrZXQuYXV0aG9yaXplZCB8fCByZXEuc29ja2V0LmVuY3J5cHRlZCksXG4gICAgICAgIHJlcVxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy52ZXJpZnlDbGllbnQubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy52ZXJpZnlDbGllbnQoaW5mbywgKHZlcmlmaWVkLCBjb2RlLCBtZXNzYWdlLCBoZWFkZXJzKSA9PiB7XG4gICAgICAgICAgaWYgKCF2ZXJpZmllZCkge1xuICAgICAgICAgICAgcmV0dXJuIGFib3J0SGFuZHNoYWtlKHNvY2tldCwgY29kZSB8fCA0MDEsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuY29tcGxldGVVcGdyYWRlKGtleSwgZXh0ZW5zaW9ucywgcmVxLCBzb2NrZXQsIGhlYWQsIGNiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudmVyaWZ5Q2xpZW50KGluZm8pKSByZXR1cm4gYWJvcnRIYW5kc2hha2Uoc29ja2V0LCA0MDEpO1xuICAgIH1cblxuICAgIHRoaXMuY29tcGxldGVVcGdyYWRlKGtleSwgZXh0ZW5zaW9ucywgcmVxLCBzb2NrZXQsIGhlYWQsIGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGdyYWRlIHRoZSBjb25uZWN0aW9uIHRvIFdlYlNvY2tldC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleSBUaGUgdmFsdWUgb2YgdGhlIGBTZWMtV2ViU29ja2V0LUtleWAgaGVhZGVyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBleHRlbnNpb25zIFRoZSBhY2NlcHRlZCBleHRlbnNpb25zXG4gICAqIEBwYXJhbSB7aHR0cC5JbmNvbWluZ01lc3NhZ2V9IHJlcSBUaGUgcmVxdWVzdCBvYmplY3RcbiAgICogQHBhcmFtIHsobmV0LlNvY2tldHx0bHMuU29ja2V0KX0gc29ja2V0IFRoZSBuZXR3b3JrIHNvY2tldCBiZXR3ZWVuIHRoZVxuICAgKiAgICAgc2VydmVyIGFuZCBjbGllbnRcbiAgICogQHBhcmFtIHtCdWZmZXJ9IGhlYWQgVGhlIGZpcnN0IHBhY2tldCBvZiB0aGUgdXBncmFkZWQgc3RyZWFtXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIENhbGxiYWNrXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBJZiBjYWxsZWQgbW9yZSB0aGFuIG9uY2Ugd2l0aCB0aGUgc2FtZSBzb2NrZXRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbXBsZXRlVXBncmFkZShrZXksIGV4dGVuc2lvbnMsIHJlcSwgc29ja2V0LCBoZWFkLCBjYikge1xuICAgIC8vXG4gICAgLy8gRGVzdHJveSB0aGUgc29ja2V0IGlmIHRoZSBjbGllbnQgaGFzIGFscmVhZHkgc2VudCBhIEZJTiBwYWNrZXQuXG4gICAgLy9cbiAgICBpZiAoIXNvY2tldC5yZWFkYWJsZSB8fCAhc29ja2V0LndyaXRhYmxlKSByZXR1cm4gc29ja2V0LmRlc3Ryb3koKTtcblxuICAgIGlmIChzb2NrZXRba1dlYlNvY2tldF0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3NlcnZlci5oYW5kbGVVcGdyYWRlKCkgd2FzIGNhbGxlZCBtb3JlIHRoYW4gb25jZSB3aXRoIHRoZSBzYW1lICcgK1xuICAgICAgICAgICdzb2NrZXQsIHBvc3NpYmx5IGR1ZSB0byBhIG1pc2NvbmZpZ3VyYXRpb24nXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zdGF0ZSA+IFJVTk5JTkcpIHJldHVybiBhYm9ydEhhbmRzaGFrZShzb2NrZXQsIDUwMyk7XG5cbiAgICBjb25zdCBkaWdlc3QgPSBjcmVhdGVIYXNoKCdzaGExJylcbiAgICAgIC51cGRhdGUoa2V5ICsgR1VJRClcbiAgICAgIC5kaWdlc3QoJ2Jhc2U2NCcpO1xuXG4gICAgY29uc3QgaGVhZGVycyA9IFtcbiAgICAgICdIVFRQLzEuMSAxMDEgU3dpdGNoaW5nIFByb3RvY29scycsXG4gICAgICAnVXBncmFkZTogd2Vic29ja2V0JyxcbiAgICAgICdDb25uZWN0aW9uOiBVcGdyYWRlJyxcbiAgICAgIGBTZWMtV2ViU29ja2V0LUFjY2VwdDogJHtkaWdlc3R9YFxuICAgIF07XG5cbiAgICBjb25zdCB3cyA9IG5ldyBXZWJTb2NrZXQobnVsbCk7XG4gICAgbGV0IHByb3RvY29sID0gcmVxLmhlYWRlcnNbJ3NlYy13ZWJzb2NrZXQtcHJvdG9jb2wnXTtcblxuICAgIGlmIChwcm90b2NvbCkge1xuICAgICAgcHJvdG9jb2wgPSBwcm90b2NvbC5zcGxpdCgnLCcpLm1hcCh0cmltKTtcblxuICAgICAgLy9cbiAgICAgIC8vIE9wdGlvbmFsbHkgY2FsbCBleHRlcm5hbCBwcm90b2NvbCBzZWxlY3Rpb24gaGFuZGxlci5cbiAgICAgIC8vXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmhhbmRsZVByb3RvY29scykge1xuICAgICAgICBwcm90b2NvbCA9IHRoaXMub3B0aW9ucy5oYW5kbGVQcm90b2NvbHMocHJvdG9jb2wsIHJlcSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm90b2NvbCA9IHByb3RvY29sWzBdO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvdG9jb2wpIHtcbiAgICAgICAgaGVhZGVycy5wdXNoKGBTZWMtV2ViU29ja2V0LVByb3RvY29sOiAke3Byb3RvY29sfWApO1xuICAgICAgICB3cy5fcHJvdG9jb2wgPSBwcm90b2NvbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSkge1xuICAgICAgY29uc3QgcGFyYW1zID0gZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXS5wYXJhbXM7XG4gICAgICBjb25zdCB2YWx1ZSA9IGZvcm1hdCh7XG4gICAgICAgIFtQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXTogW3BhcmFtc11cbiAgICAgIH0pO1xuICAgICAgaGVhZGVycy5wdXNoKGBTZWMtV2ViU29ja2V0LUV4dGVuc2lvbnM6ICR7dmFsdWV9YCk7XG4gICAgICB3cy5fZXh0ZW5zaW9ucyA9IGV4dGVuc2lvbnM7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBBbGxvdyBleHRlcm5hbCBtb2RpZmljYXRpb24vaW5zcGVjdGlvbiBvZiBoYW5kc2hha2UgaGVhZGVycy5cbiAgICAvL1xuICAgIHRoaXMuZW1pdCgnaGVhZGVycycsIGhlYWRlcnMsIHJlcSk7XG5cbiAgICBzb2NrZXQud3JpdGUoaGVhZGVycy5jb25jYXQoJ1xcclxcbicpLmpvaW4oJ1xcclxcbicpKTtcbiAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgc29ja2V0T25FcnJvcik7XG5cbiAgICB3cy5zZXRTb2NrZXQoc29ja2V0LCBoZWFkLCB0aGlzLm9wdGlvbnMubWF4UGF5bG9hZCk7XG5cbiAgICBpZiAodGhpcy5jbGllbnRzKSB7XG4gICAgICB0aGlzLmNsaWVudHMuYWRkKHdzKTtcbiAgICAgIHdzLm9uKCdjbG9zZScsICgpID0+IHRoaXMuY2xpZW50cy5kZWxldGUod3MpKTtcbiAgICB9XG5cbiAgICBjYih3cywgcmVxKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYlNvY2tldFNlcnZlcjtcblxuLyoqXG4gKiBBZGQgZXZlbnQgbGlzdGVuZXJzIG9uIGFuIGBFdmVudEVtaXR0ZXJgIHVzaW5nIGEgbWFwIG9mIDxldmVudCwgbGlzdGVuZXI+XG4gKiBwYWlycy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gc2VydmVyIFRoZSBldmVudCBlbWl0dGVyXG4gKiBAcGFyYW0ge09iamVjdC48U3RyaW5nLCBGdW5jdGlvbj59IG1hcCBUaGUgbGlzdGVuZXJzIHRvIGFkZFxuICogQHJldHVybiB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdGhhdCB3aWxsIHJlbW92ZSB0aGUgYWRkZWQgbGlzdGVuZXJzIHdoZW5cbiAqICAgICBjYWxsZWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVycyhzZXJ2ZXIsIG1hcCkge1xuICBmb3IgKGNvbnN0IGV2ZW50IG9mIE9iamVjdC5rZXlzKG1hcCkpIHNlcnZlci5vbihldmVudCwgbWFwW2V2ZW50XSk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVycygpIHtcbiAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIE9iamVjdC5rZXlzKG1hcCkpIHtcbiAgICAgIHNlcnZlci5yZW1vdmVMaXN0ZW5lcihldmVudCwgbWFwW2V2ZW50XSk7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEVtaXQgYSBgJ2Nsb3NlJ2AgZXZlbnQgb24gYW4gYEV2ZW50RW1pdHRlcmAuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IHNlcnZlciBUaGUgZXZlbnQgZW1pdHRlclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZW1pdENsb3NlKHNlcnZlcikge1xuICBzZXJ2ZXIuX3N0YXRlID0gQ0xPU0VEO1xuICBzZXJ2ZXIuZW1pdCgnY2xvc2UnKTtcbn1cblxuLyoqXG4gKiBIYW5kbGUgcHJlbWF0dXJlIHNvY2tldCBlcnJvcnMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc29ja2V0T25FcnJvcigpIHtcbiAgdGhpcy5kZXN0cm95KCk7XG59XG5cbi8qKlxuICogQ2xvc2UgdGhlIGNvbm5lY3Rpb24gd2hlbiBwcmVjb25kaXRpb25zIGFyZSBub3QgZnVsZmlsbGVkLlxuICpcbiAqIEBwYXJhbSB7KG5ldC5Tb2NrZXR8dGxzLlNvY2tldCl9IHNvY2tldCBUaGUgc29ja2V0IG9mIHRoZSB1cGdyYWRlIHJlcXVlc3RcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlIFRoZSBIVFRQIHJlc3BvbnNlIHN0YXR1cyBjb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gW21lc3NhZ2VdIFRoZSBIVFRQIHJlc3BvbnNlIGJvZHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbaGVhZGVyc10gQWRkaXRpb25hbCBIVFRQIHJlc3BvbnNlIGhlYWRlcnNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFib3J0SGFuZHNoYWtlKHNvY2tldCwgY29kZSwgbWVzc2FnZSwgaGVhZGVycykge1xuICBpZiAoc29ja2V0LndyaXRhYmxlKSB7XG4gICAgbWVzc2FnZSA9IG1lc3NhZ2UgfHwgaHR0cC5TVEFUVVNfQ09ERVNbY29kZV07XG4gICAgaGVhZGVycyA9IHtcbiAgICAgIENvbm5lY3Rpb246ICdjbG9zZScsXG4gICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvaHRtbCcsXG4gICAgICAnQ29udGVudC1MZW5ndGgnOiBCdWZmZXIuYnl0ZUxlbmd0aChtZXNzYWdlKSxcbiAgICAgIC4uLmhlYWRlcnNcbiAgICB9O1xuXG4gICAgc29ja2V0LndyaXRlKFxuICAgICAgYEhUVFAvMS4xICR7Y29kZX0gJHtodHRwLlNUQVRVU19DT0RFU1tjb2RlXX1cXHJcXG5gICtcbiAgICAgICAgT2JqZWN0LmtleXMoaGVhZGVycylcbiAgICAgICAgICAubWFwKChoKSA9PiBgJHtofTogJHtoZWFkZXJzW2hdfWApXG4gICAgICAgICAgLmpvaW4oJ1xcclxcbicpICtcbiAgICAgICAgJ1xcclxcblxcclxcbicgK1xuICAgICAgICBtZXNzYWdlXG4gICAgKTtcbiAgfVxuXG4gIHNvY2tldC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBzb2NrZXRPbkVycm9yKTtcbiAgc29ja2V0LmRlc3Ryb3koKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIGZyb20gYm90aCBlbmRzIG9mIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZ1xuICogQHJldHVybiB7U3RyaW5nfSBBIG5ldyBzdHJpbmcgcmVwcmVzZW50aW5nIGBzdHJgIHN0cmlwcGVkIG9mIHdoaXRlc3BhY2VcbiAqICAgICBjaGFyYWN0ZXJzIGZyb20gYm90aCBpdHMgYmVnaW5uaW5nIGFuZCBlbmRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIudHJpbSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/websocket-server.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/websocket.js":
/*!*******************************************************************!*\
  !*** ./node_modules/stream-chat/node_modules/ws/lib/websocket.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n\n\nconst EventEmitter = __webpack_require__(/*! events */ \"events\");\nconst https = __webpack_require__(/*! https */ \"https\");\nconst http = __webpack_require__(/*! http */ \"http\");\nconst net = __webpack_require__(/*! net */ \"net\");\nconst tls = __webpack_require__(/*! tls */ \"tls\");\nconst { randomBytes, createHash } = __webpack_require__(/*! crypto */ \"crypto\");\nconst { Readable } = __webpack_require__(/*! stream */ \"stream\");\nconst { URL } = __webpack_require__(/*! url */ \"url\");\n\nconst PerMessageDeflate = __webpack_require__(/*! ./permessage-deflate */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/permessage-deflate.js\");\nconst Receiver = __webpack_require__(/*! ./receiver */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/receiver.js\");\nconst Sender = __webpack_require__(/*! ./sender */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/sender.js\");\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = __webpack_require__(/*! ./constants */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/constants.js\");\nconst { addEventListener, removeEventListener } = __webpack_require__(/*! ./event-target */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/event-target.js\");\nconst { format, parse } = __webpack_require__(/*! ./extension */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/extension.js\");\nconst { toBuffer } = __webpack_require__(/*! ./buffer-util */ \"(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/buffer-util.js\");\n\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst protocolVersions = [8, 13];\nconst closeTimeout = 30 * 1000;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = '';\n    this._closeTimer = null;\n    this._extensions = {};\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (Array.isArray(protocols)) {\n        protocols = protocols.join(', ');\n      } else if (typeof protocols === 'object' && protocols !== null) {\n        options = protocols;\n        protocols = undefined;\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onclose(listener) {}\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onerror(listener) {}\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onopen(listener) {}\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  set onmessage(listener) {}\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Number} [maxPayload=0] The maximum allowed message size\n   * @private\n   */\n  setSocket(socket, head, maxPayload) {\n    const receiver = new Receiver(\n      this.binaryType,\n      this._extensions,\n      this._isServer,\n      maxPayload\n    );\n\n    this._sender = new Sender(socket, this._extensions);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {String} [data] A string explaining why the connection is closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      const listeners = this.listeners(method);\n      for (let i = 0; i < listeners.length; i++) {\n        if (listeners[i]._listener) return listeners[i]._listener;\n      }\n\n      return undefined;\n    },\n    set(listener) {\n      const listeners = this.listeners(method);\n      for (let i = 0; i < listeners.length; i++) {\n        //\n        // Remove only the listeners added via `addEventListener`.\n        //\n        if (listeners[i]._listener) this.removeListener(method, listeners[i]);\n      }\n      this.addEventListener(method, listener);\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {String} [protocols] The subprotocols\n * @param {Object} [options] Connection options\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: undefined,\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    parsedUrl = new URL(address);\n    websocket._url = address;\n  }\n\n  const isUnixSocket = parsedUrl.protocol === 'ws+unix:';\n\n  if (!parsedUrl.host && (!isUnixSocket || !parsedUrl.pathname)) {\n    const err = new Error(`Invalid URL: ${websocket.url}`);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const isSecure =\n    parsedUrl.protocol === 'wss:' || parsedUrl.protocol === 'https:';\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const get = isSecure ? https.get : http.get;\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket',\n    ...opts.headers\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols) {\n    opts.headers['Sec-WebSocket-Protocol'] = protocols;\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isUnixSocket) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalUnixSocket = isUnixSocket;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isUnixSocket\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else {\n      const isSameHost = isUnixSocket\n        ? websocket._originalUnixSocket\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalUnixSocket\n        ? false\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n  }\n\n  let req = (websocket._req = get(opts));\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req.aborted) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (err) {\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the `upgrade`\n    // event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    if (res.headers.upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    const protList = (protocols || '').split(/, */);\n    let protError;\n\n    if (!protocols && serverProt) {\n      protError = 'Server sent a subprotocol but none was requested';\n    } else if (protocols && !serverProt) {\n      protError = 'Server sent no subprotocol';\n    } else if (serverProt && !protList.includes(serverProt)) {\n      protError = 'Server sent an invalid subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (extensionNames.length) {\n        if (\n          extensionNames.length !== 1 ||\n          extensionNames[0] !== PerMessageDeflate.extensionName\n        ) {\n          const message =\n            'Server indicated an extension that was not requested';\n          abortHandshake(websocket, socket, message);\n          return;\n        }\n\n        try {\n          perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n        } catch (err) {\n          const message = 'Invalid Sec-WebSocket-Extensions header';\n          abortHandshake(websocket, socket, message);\n          return;\n        }\n\n        websocket._extensions[PerMessageDeflate.extensionName] =\n          perMessageDeflate;\n      }\n    }\n\n    websocket.setSocket(socket, head, opts.maxPayload);\n  });\n}\n\n/**\n * Emit the `'error'` and `'close'` event.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    stream.once('abort', websocket.emitClose.bind(websocket));\n    websocket.emit('error', err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    cb(err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {String} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  this[kWebSocket]._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {(String|Buffer|ArrayBuffer|Buffer[])} data The message\n * @private\n */\nfunction receiverOnMessage(data) {\n  this[kWebSocket].emit('message', data);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zdHJlYW0tY2hhdC9ub2RlX21vZHVsZXMvd3MvbGliL3dlYnNvY2tldC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxzQ0FBc0MsbUNBQW1DOztBQUU1RDs7QUFFYixxQkFBcUIsbUJBQU8sQ0FBQyxzQkFBUTtBQUNyQyxjQUFjLG1CQUFPLENBQUMsb0JBQU87QUFDN0IsYUFBYSxtQkFBTyxDQUFDLGtCQUFNO0FBQzNCLFlBQVksbUJBQU8sQ0FBQyxnQkFBSztBQUN6QixZQUFZLG1CQUFPLENBQUMsZ0JBQUs7QUFDekIsUUFBUSwwQkFBMEIsRUFBRSxtQkFBTyxDQUFDLHNCQUFRO0FBQ3BELFFBQVEsV0FBVyxFQUFFLG1CQUFPLENBQUMsc0JBQVE7QUFDckMsUUFBUSxNQUFNLEVBQUUsbUJBQU8sQ0FBQyxnQkFBSzs7QUFFN0IsMEJBQTBCLG1CQUFPLENBQUMsbUhBQXNCO0FBQ3hELGlCQUFpQixtQkFBTyxDQUFDLCtGQUFZO0FBQ3JDLGVBQWUsbUJBQU8sQ0FBQywyRkFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsRUFBRSxtQkFBTyxDQUFDLGlHQUFhO0FBQ3pCLFFBQVEsd0NBQXdDLEVBQUUsbUJBQU8sQ0FBQyx1R0FBZ0I7QUFDMUUsUUFBUSxnQkFBZ0IsRUFBRSxtQkFBTyxDQUFDLGlHQUFhO0FBQy9DLFFBQVEsV0FBVyxFQUFFLG1CQUFPLENBQUMscUdBQWU7O0FBRTVDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGNBQWM7QUFDM0IsYUFBYSxtQkFBbUI7QUFDaEMsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHlCQUF5QjtBQUN0QztBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxlQUFlO0FBQ3REO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsNENBQTRDO0FBQ3ZEO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLEdBQUc7QUFDZCxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJDQUEyQyxzQkFBc0I7QUFDakUsWUFBWSxrQ0FBa0M7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxzQ0FBc0M7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rldi1maW5kZXIvLi9ub2RlX21vZHVsZXMvc3RyZWFtLWNoYXQvbm9kZV9tb2R1bGVzL3dzL2xpYi93ZWJzb2NrZXQuanM/NDA0NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IFtcImVycm9yXCIsIHsgXCJ2YXJzSWdub3JlUGF0dGVyblwiOiBcIl5SZWFkYWJsZSRcIiB9XSAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpO1xuY29uc3QgaHR0cHMgPSByZXF1aXJlKCdodHRwcycpO1xuY29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcbmNvbnN0IG5ldCA9IHJlcXVpcmUoJ25ldCcpO1xuY29uc3QgdGxzID0gcmVxdWlyZSgndGxzJyk7XG5jb25zdCB7IHJhbmRvbUJ5dGVzLCBjcmVhdGVIYXNoIH0gPSByZXF1aXJlKCdjcnlwdG8nKTtcbmNvbnN0IHsgUmVhZGFibGUgfSA9IHJlcXVpcmUoJ3N0cmVhbScpO1xuY29uc3QgeyBVUkwgfSA9IHJlcXVpcmUoJ3VybCcpO1xuXG5jb25zdCBQZXJNZXNzYWdlRGVmbGF0ZSA9IHJlcXVpcmUoJy4vcGVybWVzc2FnZS1kZWZsYXRlJyk7XG5jb25zdCBSZWNlaXZlciA9IHJlcXVpcmUoJy4vcmVjZWl2ZXInKTtcbmNvbnN0IFNlbmRlciA9IHJlcXVpcmUoJy4vc2VuZGVyJyk7XG5jb25zdCB7XG4gIEJJTkFSWV9UWVBFUyxcbiAgRU1QVFlfQlVGRkVSLFxuICBHVUlELFxuICBrU3RhdHVzQ29kZSxcbiAga1dlYlNvY2tldCxcbiAgTk9PUFxufSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG5jb25zdCB7IGFkZEV2ZW50TGlzdGVuZXIsIHJlbW92ZUV2ZW50TGlzdGVuZXIgfSA9IHJlcXVpcmUoJy4vZXZlbnQtdGFyZ2V0Jyk7XG5jb25zdCB7IGZvcm1hdCwgcGFyc2UgfSA9IHJlcXVpcmUoJy4vZXh0ZW5zaW9uJyk7XG5jb25zdCB7IHRvQnVmZmVyIH0gPSByZXF1aXJlKCcuL2J1ZmZlci11dGlsJyk7XG5cbmNvbnN0IHJlYWR5U3RhdGVzID0gWydDT05ORUNUSU5HJywgJ09QRU4nLCAnQ0xPU0lORycsICdDTE9TRUQnXTtcbmNvbnN0IHByb3RvY29sVmVyc2lvbnMgPSBbOCwgMTNdO1xuY29uc3QgY2xvc2VUaW1lb3V0ID0gMzAgKiAxMDAwO1xuXG4vKipcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIFdlYlNvY2tldC5cbiAqXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqL1xuY2xhc3MgV2ViU29ja2V0IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBgV2ViU29ja2V0YC5cbiAgICpcbiAgICogQHBhcmFtIHsoU3RyaW5nfFVSTCl9IGFkZHJlc3MgVGhlIFVSTCB0byB3aGljaCB0byBjb25uZWN0XG4gICAqIEBwYXJhbSB7KFN0cmluZ3xTdHJpbmdbXSl9IFtwcm90b2NvbHNdIFRoZSBzdWJwcm90b2NvbHNcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBDb25uZWN0aW9uIG9wdGlvbnNcbiAgICovXG4gIGNvbnN0cnVjdG9yKGFkZHJlc3MsIHByb3RvY29scywgb3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9iaW5hcnlUeXBlID0gQklOQVJZX1RZUEVTWzBdO1xuICAgIHRoaXMuX2Nsb3NlQ29kZSA9IDEwMDY7XG4gICAgdGhpcy5fY2xvc2VGcmFtZVJlY2VpdmVkID0gZmFsc2U7XG4gICAgdGhpcy5fY2xvc2VGcmFtZVNlbnQgPSBmYWxzZTtcbiAgICB0aGlzLl9jbG9zZU1lc3NhZ2UgPSAnJztcbiAgICB0aGlzLl9jbG9zZVRpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9leHRlbnNpb25zID0ge307XG4gICAgdGhpcy5fcHJvdG9jb2wgPSAnJztcbiAgICB0aGlzLl9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNPTk5FQ1RJTkc7XG4gICAgdGhpcy5fcmVjZWl2ZXIgPSBudWxsO1xuICAgIHRoaXMuX3NlbmRlciA9IG51bGw7XG4gICAgdGhpcy5fc29ja2V0ID0gbnVsbDtcblxuICAgIGlmIChhZGRyZXNzICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9idWZmZXJlZEFtb3VudCA9IDA7XG4gICAgICB0aGlzLl9pc1NlcnZlciA9IGZhbHNlO1xuICAgICAgdGhpcy5fcmVkaXJlY3RzID0gMDtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvdG9jb2xzKSkge1xuICAgICAgICBwcm90b2NvbHMgPSBwcm90b2NvbHMuam9pbignLCAnKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByb3RvY29scyA9PT0gJ29iamVjdCcgJiYgcHJvdG9jb2xzICE9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSBwcm90b2NvbHM7XG4gICAgICAgIHByb3RvY29scyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgaW5pdEFzQ2xpZW50KHRoaXMsIGFkZHJlc3MsIHByb3RvY29scywgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2lzU2VydmVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBkZXZpYXRlcyBmcm9tIHRoZSBXSEFUV0cgaW50ZXJmYWNlIHNpbmNlIHdzIGRvZXNuJ3Qgc3VwcG9ydCB0aGVcbiAgICogcmVxdWlyZWQgZGVmYXVsdCBcImJsb2JcIiB0eXBlIChpbnN0ZWFkIHdlIGRlZmluZSBhIGN1c3RvbSBcIm5vZGVidWZmZXJcIlxuICAgKiB0eXBlKS5cbiAgICpcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCBiaW5hcnlUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLl9iaW5hcnlUeXBlO1xuICB9XG5cbiAgc2V0IGJpbmFyeVR5cGUodHlwZSkge1xuICAgIGlmICghQklOQVJZX1RZUEVTLmluY2x1ZGVzKHR5cGUpKSByZXR1cm47XG5cbiAgICB0aGlzLl9iaW5hcnlUeXBlID0gdHlwZTtcblxuICAgIC8vXG4gICAgLy8gQWxsb3cgdG8gY2hhbmdlIGBiaW5hcnlUeXBlYCBvbiB0aGUgZmx5LlxuICAgIC8vXG4gICAgaWYgKHRoaXMuX3JlY2VpdmVyKSB0aGlzLl9yZWNlaXZlci5fYmluYXJ5VHlwZSA9IHR5cGU7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIGdldCBidWZmZXJlZEFtb3VudCgpIHtcbiAgICBpZiAoIXRoaXMuX3NvY2tldCkgcmV0dXJuIHRoaXMuX2J1ZmZlcmVkQW1vdW50O1xuXG4gICAgcmV0dXJuIHRoaXMuX3NvY2tldC5fd3JpdGFibGVTdGF0ZS5sZW5ndGggKyB0aGlzLl9zZW5kZXIuX2J1ZmZlcmVkQnl0ZXM7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge1N0cmluZ31cbiAgICovXG4gIGdldCBleHRlbnNpb25zKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9leHRlbnNpb25zKS5qb2luKCk7XG4gIH1cblxuICAvKipcbiAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgKi9cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZ2V0IG9uY2xvc2UoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHNldCBvbmNsb3NlKGxpc3RlbmVyKSB7fVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBnZXQgb25lcnJvcigpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgc2V0IG9uZXJyb3IobGlzdGVuZXIpIHt9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICovXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGdldCBvbm9wZW4oKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHNldCBvbm9wZW4obGlzdGVuZXIpIHt9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICovXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGdldCBvbm1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHNldCBvbm1lc3NhZ2UobGlzdGVuZXIpIHt9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBnZXQgcHJvdG9jb2woKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sO1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICBnZXQgcmVhZHlTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVhZHlTdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXJsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB1cCB0aGUgc29ja2V0IGFuZCB0aGUgaW50ZXJuYWwgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBAcGFyYW0geyhuZXQuU29ja2V0fHRscy5Tb2NrZXQpfSBzb2NrZXQgVGhlIG5ldHdvcmsgc29ja2V0IGJldHdlZW4gdGhlXG4gICAqICAgICBzZXJ2ZXIgYW5kIGNsaWVudFxuICAgKiBAcGFyYW0ge0J1ZmZlcn0gaGVhZCBUaGUgZmlyc3QgcGFja2V0IG9mIHRoZSB1cGdyYWRlZCBzdHJlYW1cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhQYXlsb2FkPTBdIFRoZSBtYXhpbXVtIGFsbG93ZWQgbWVzc2FnZSBzaXplXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBzZXRTb2NrZXQoc29ja2V0LCBoZWFkLCBtYXhQYXlsb2FkKSB7XG4gICAgY29uc3QgcmVjZWl2ZXIgPSBuZXcgUmVjZWl2ZXIoXG4gICAgICB0aGlzLmJpbmFyeVR5cGUsXG4gICAgICB0aGlzLl9leHRlbnNpb25zLFxuICAgICAgdGhpcy5faXNTZXJ2ZXIsXG4gICAgICBtYXhQYXlsb2FkXG4gICAgKTtcblxuICAgIHRoaXMuX3NlbmRlciA9IG5ldyBTZW5kZXIoc29ja2V0LCB0aGlzLl9leHRlbnNpb25zKTtcbiAgICB0aGlzLl9yZWNlaXZlciA9IHJlY2VpdmVyO1xuICAgIHRoaXMuX3NvY2tldCA9IHNvY2tldDtcblxuICAgIHJlY2VpdmVyW2tXZWJTb2NrZXRdID0gdGhpcztcbiAgICBzb2NrZXRba1dlYlNvY2tldF0gPSB0aGlzO1xuXG4gICAgcmVjZWl2ZXIub24oJ2NvbmNsdWRlJywgcmVjZWl2ZXJPbkNvbmNsdWRlKTtcbiAgICByZWNlaXZlci5vbignZHJhaW4nLCByZWNlaXZlck9uRHJhaW4pO1xuICAgIHJlY2VpdmVyLm9uKCdlcnJvcicsIHJlY2VpdmVyT25FcnJvcik7XG4gICAgcmVjZWl2ZXIub24oJ21lc3NhZ2UnLCByZWNlaXZlck9uTWVzc2FnZSk7XG4gICAgcmVjZWl2ZXIub24oJ3BpbmcnLCByZWNlaXZlck9uUGluZyk7XG4gICAgcmVjZWl2ZXIub24oJ3BvbmcnLCByZWNlaXZlck9uUG9uZyk7XG5cbiAgICBzb2NrZXQuc2V0VGltZW91dCgwKTtcbiAgICBzb2NrZXQuc2V0Tm9EZWxheSgpO1xuXG4gICAgaWYgKGhlYWQubGVuZ3RoID4gMCkgc29ja2V0LnVuc2hpZnQoaGVhZCk7XG5cbiAgICBzb2NrZXQub24oJ2Nsb3NlJywgc29ja2V0T25DbG9zZSk7XG4gICAgc29ja2V0Lm9uKCdkYXRhJywgc29ja2V0T25EYXRhKTtcbiAgICBzb2NrZXQub24oJ2VuZCcsIHNvY2tldE9uRW5kKTtcbiAgICBzb2NrZXQub24oJ2Vycm9yJywgc29ja2V0T25FcnJvcik7XG5cbiAgICB0aGlzLl9yZWFkeVN0YXRlID0gV2ViU29ja2V0Lk9QRU47XG4gICAgdGhpcy5lbWl0KCdvcGVuJyk7XG4gIH1cblxuICAvKipcbiAgICogRW1pdCB0aGUgYCdjbG9zZSdgIGV2ZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZW1pdENsb3NlKCkge1xuICAgIGlmICghdGhpcy5fc29ja2V0KSB7XG4gICAgICB0aGlzLl9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NFRDtcbiAgICAgIHRoaXMuZW1pdCgnY2xvc2UnLCB0aGlzLl9jbG9zZUNvZGUsIHRoaXMuX2Nsb3NlTWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0pIHtcbiAgICAgIHRoaXMuX2V4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0uY2xlYW51cCgpO1xuICAgIH1cblxuICAgIHRoaXMuX3JlY2VpdmVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBXZWJTb2NrZXQuQ0xPU0VEO1xuICAgIHRoaXMuZW1pdCgnY2xvc2UnLCB0aGlzLl9jbG9zZUNvZGUsIHRoaXMuX2Nsb3NlTWVzc2FnZSk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgYSBjbG9zaW5nIGhhbmRzaGFrZS5cbiAgICpcbiAgICogICAgICAgICAgKy0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0tKyAgICstLS0tLS0tLS0tK1xuICAgKiAgICAgLSAtIC18d3MuY2xvc2UoKXwtLT58Y2xvc2UgZnJhbWV8LS0+fHdzLmNsb3NlKCl8LSAtIC1cbiAgICogICAgfCAgICAgKy0tLS0tLS0tLS0rICAgKy0tLS0tLS0tLS0tKyAgICstLS0tLS0tLS0tKyAgICAgfFxuICAgKiAgICAgICAgICArLS0tLS0tLS0tLSsgICArLS0tLS0tLS0tLS0rICAgICAgICAgfFxuICAgKiBDTE9TSU5HICB8d3MuY2xvc2UoKXw8LS18Y2xvc2UgZnJhbWV8PC0tKy0tLS0tKyAgICAgICBDTE9TSU5HXG4gICAqICAgICAgICAgICstLS0tLS0tLS0tKyAgICstLS0tLS0tLS0tLSsgICB8XG4gICAqICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICB8ICAgKy0tLSsgICAgICAgIHxcbiAgICogICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLT58ZmlufCAtIC0gLSAtXG4gICAqICAgIHwgICAgICAgICArLS0tKyAgICAgICAgICAgICAgICAgICAgICB8ICAgKy0tLStcbiAgICogICAgIC0gLSAtIC0gLXxmaW58PC0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAgICogICAgICAgICAgICAgICstLS0rXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbY29kZV0gU3RhdHVzIGNvZGUgZXhwbGFpbmluZyB3aHkgdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2luZ1xuICAgKiBAcGFyYW0ge1N0cmluZ30gW2RhdGFdIEEgc3RyaW5nIGV4cGxhaW5pbmcgd2h5IHRoZSBjb25uZWN0aW9uIGlzIGNsb3NpbmdcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY2xvc2UoY29kZSwgZGF0YSkge1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TRUQpIHJldHVybjtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykge1xuICAgICAgY29uc3QgbXNnID0gJ1dlYlNvY2tldCB3YXMgY2xvc2VkIGJlZm9yZSB0aGUgY29ubmVjdGlvbiB3YXMgZXN0YWJsaXNoZWQnO1xuICAgICAgcmV0dXJuIGFib3J0SGFuZHNoYWtlKHRoaXMsIHRoaXMuX3JlcSwgbXNnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0lORykge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLl9jbG9zZUZyYW1lU2VudCAmJlxuICAgICAgICAodGhpcy5fY2xvc2VGcmFtZVJlY2VpdmVkIHx8IHRoaXMuX3JlY2VpdmVyLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZClcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9zb2NrZXQuZW5kKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XG4gICAgdGhpcy5fc2VuZGVyLmNsb3NlKGNvZGUsIGRhdGEsICF0aGlzLl9pc1NlcnZlciwgKGVycikgPT4ge1xuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgZXJyb3IgaXMgaGFuZGxlZCBieSB0aGUgYCdlcnJvcidgIGxpc3RlbmVyIG9uIHRoZSBzb2NrZXQuIFdlIG9ubHlcbiAgICAgIC8vIHdhbnQgdG8ga25vdyBpZiB0aGUgY2xvc2UgZnJhbWUgaGFzIGJlZW4gc2VudCBoZXJlLlxuICAgICAgLy9cbiAgICAgIGlmIChlcnIpIHJldHVybjtcblxuICAgICAgdGhpcy5fY2xvc2VGcmFtZVNlbnQgPSB0cnVlO1xuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuX2Nsb3NlRnJhbWVSZWNlaXZlZCB8fFxuICAgICAgICB0aGlzLl9yZWNlaXZlci5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWRcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9zb2NrZXQuZW5kKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL1xuICAgIC8vIFNwZWNpZnkgYSB0aW1lb3V0IGZvciB0aGUgY2xvc2luZyBoYW5kc2hha2UgdG8gY29tcGxldGUuXG4gICAgLy9cbiAgICB0aGlzLl9jbG9zZVRpbWVyID0gc2V0VGltZW91dChcbiAgICAgIHRoaXMuX3NvY2tldC5kZXN0cm95LmJpbmQodGhpcy5fc29ja2V0KSxcbiAgICAgIGNsb3NlVGltZW91dFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogU2VuZCBhIHBpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gW2RhdGFdIFRoZSBkYXRhIHRvIHNlbmRcbiAgICogQHBhcmFtIHtCb29sZWFufSBbbWFza10gSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgYGRhdGFgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2sgd2hpY2ggaXMgZXhlY3V0ZWQgd2hlbiB0aGUgcGluZyBpcyBzZW50XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHBpbmcoZGF0YSwgbWFzaywgY2IpIHtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJTb2NrZXQgaXMgbm90IG9wZW46IHJlYWR5U3RhdGUgMCAoQ09OTkVDVElORyknKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gZGF0YTtcbiAgICAgIGRhdGEgPSBtYXNrID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1hc2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gbWFzaztcbiAgICAgIG1hc2sgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykgZGF0YSA9IGRhdGEudG9TdHJpbmcoKTtcblxuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICBzZW5kQWZ0ZXJDbG9zZSh0aGlzLCBkYXRhLCBjYik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1hc2sgPT09IHVuZGVmaW5lZCkgbWFzayA9ICF0aGlzLl9pc1NlcnZlcjtcbiAgICB0aGlzLl9zZW5kZXIucGluZyhkYXRhIHx8IEVNUFRZX0JVRkZFUiwgbWFzaywgY2IpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBwb25nLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IFtkYXRhXSBUaGUgZGF0YSB0byBzZW5kXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21hc2tdIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0byBtYXNrIGBkYXRhYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrIHdoaWNoIGlzIGV4ZWN1dGVkIHdoZW4gdGhlIHBvbmcgaXMgc2VudFxuICAgKiBAcHVibGljXG4gICAqL1xuICBwb25nKGRhdGEsIG1hc2ssIGNiKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNPTk5FQ1RJTkcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignV2ViU29ja2V0IGlzIG5vdCBvcGVuOiByZWFkeVN0YXRlIDAgKENPTk5FQ1RJTkcpJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYiA9IGRhdGE7XG4gICAgICBkYXRhID0gbWFzayA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtYXNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYiA9IG1hc2s7XG4gICAgICBtYXNrID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIGRhdGEgPSBkYXRhLnRvU3RyaW5nKCk7XG5cbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgc2VuZEFmdGVyQ2xvc2UodGhpcywgZGF0YSwgY2IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtYXNrID09PSB1bmRlZmluZWQpIG1hc2sgPSAhdGhpcy5faXNTZXJ2ZXI7XG4gICAgdGhpcy5fc2VuZGVyLnBvbmcoZGF0YSB8fCBFTVBUWV9CVUZGRVIsIG1hc2ssIGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZW5kIGEgZGF0YSBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1lc3NhZ2UgdG8gc2VuZFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuY29tcHJlc3NdIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBjb21wcmVzc1xuICAgKiAgICAgYGRhdGFgXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYmluYXJ5XSBTcGVjaWZpZXMgd2hldGhlciBgZGF0YWAgaXMgYmluYXJ5IG9yXG4gICAqICAgICB0ZXh0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZmluPXRydWVdIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBmcmFnbWVudCBpcyB0aGVcbiAgICogICAgIGxhc3Qgb25lXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWFza10gU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IHRvIG1hc2sgYGRhdGFgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYl0gQ2FsbGJhY2sgd2hpY2ggaXMgZXhlY3V0ZWQgd2hlbiBkYXRhIGlzIHdyaXR0ZW4gb3V0XG4gICAqIEBwdWJsaWNcbiAgICovXG4gIHNlbmQoZGF0YSwgb3B0aW9ucywgY2IpIHtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJTb2NrZXQgaXMgbm90IG9wZW46IHJlYWR5U3RhdGUgMCAoQ09OTkVDVElORyknKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSBkYXRhID0gZGF0YS50b1N0cmluZygpO1xuXG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgIHNlbmRBZnRlckNsb3NlKHRoaXMsIGRhdGEsIGNiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRzID0ge1xuICAgICAgYmluYXJ5OiB0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycsXG4gICAgICBtYXNrOiAhdGhpcy5faXNTZXJ2ZXIsXG4gICAgICBjb21wcmVzczogdHJ1ZSxcbiAgICAgIGZpbjogdHJ1ZSxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuXG4gICAgaWYgKCF0aGlzLl9leHRlbnNpb25zW1Blck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVdKSB7XG4gICAgICBvcHRzLmNvbXByZXNzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fc2VuZGVyLnNlbmQoZGF0YSB8fCBFTVBUWV9CVUZGRVIsIG9wdHMsIGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjaWJseSBjbG9zZSB0aGUgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgdGVybWluYXRlKCkge1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TRUQpIHJldHVybjtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ09OTkVDVElORykge1xuICAgICAgY29uc3QgbXNnID0gJ1dlYlNvY2tldCB3YXMgY2xvc2VkIGJlZm9yZSB0aGUgY29ubmVjdGlvbiB3YXMgZXN0YWJsaXNoZWQnO1xuICAgICAgcmV0dXJuIGFib3J0SGFuZHNoYWtlKHRoaXMsIHRoaXMuX3JlcSwgbXNnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fc29ja2V0KSB7XG4gICAgICB0aGlzLl9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XG4gICAgICB0aGlzLl9zb2NrZXQuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBDT05ORUNUSU5HXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQsICdDT05ORUNUSU5HJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB2YWx1ZTogcmVhZHlTdGF0ZXMuaW5kZXhPZignQ09OTkVDVElORycpXG59KTtcblxuLyoqXG4gKiBAY29uc3RhbnQge051bWJlcn0gQ09OTkVDVElOR1xuICogQG1lbWJlcm9mIFdlYlNvY2tldC5wcm90b3R5cGVcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldC5wcm90b3R5cGUsICdDT05ORUNUSU5HJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICB2YWx1ZTogcmVhZHlTdGF0ZXMuaW5kZXhPZignQ09OTkVDVElORycpXG59KTtcblxuLyoqXG4gKiBAY29uc3RhbnQge051bWJlcn0gT1BFTlxuICogQG1lbWJlcm9mIFdlYlNvY2tldFxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LCAnT1BFTicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ09QRU4nKVxufSk7XG5cbi8qKlxuICogQGNvbnN0YW50IHtOdW1iZXJ9IE9QRU5cbiAqIEBtZW1iZXJvZiBXZWJTb2NrZXQucHJvdG90eXBlXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZWJTb2NrZXQucHJvdG90eXBlLCAnT1BFTicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ09QRU4nKVxufSk7XG5cbi8qKlxuICogQGNvbnN0YW50IHtOdW1iZXJ9IENMT1NJTkdcbiAqIEBtZW1iZXJvZiBXZWJTb2NrZXRcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldCwgJ0NMT1NJTkcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHZhbHVlOiByZWFkeVN0YXRlcy5pbmRleE9mKCdDTE9TSU5HJylcbn0pO1xuXG4vKipcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBDTE9TSU5HXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0LnByb3RvdHlwZVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LnByb3RvdHlwZSwgJ0NMT1NJTkcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIHZhbHVlOiByZWFkeVN0YXRlcy5pbmRleE9mKCdDTE9TSU5HJylcbn0pO1xuXG4vKipcbiAqIEBjb25zdGFudCB7TnVtYmVyfSBDTE9TRURcbiAqIEBtZW1iZXJvZiBXZWJTb2NrZXRcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFdlYlNvY2tldCwgJ0NMT1NFRCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ0NMT1NFRCcpXG59KTtcblxuLyoqXG4gKiBAY29uc3RhbnQge051bWJlcn0gQ0xPU0VEXG4gKiBAbWVtYmVyb2YgV2ViU29ja2V0LnByb3RvdHlwZVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LnByb3RvdHlwZSwgJ0NMT1NFRCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgdmFsdWU6IHJlYWR5U3RhdGVzLmluZGV4T2YoJ0NMT1NFRCcpXG59KTtcblxuW1xuICAnYmluYXJ5VHlwZScsXG4gICdidWZmZXJlZEFtb3VudCcsXG4gICdleHRlbnNpb25zJyxcbiAgJ3Byb3RvY29sJyxcbiAgJ3JlYWR5U3RhdGUnLFxuICAndXJsJ1xuXS5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LnByb3RvdHlwZSwgcHJvcGVydHksIHsgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn0pO1xuXG4vL1xuLy8gQWRkIHRoZSBgb25vcGVuYCwgYG9uZXJyb3JgLCBgb25jbG9zZWAsIGFuZCBgb25tZXNzYWdlYCBhdHRyaWJ1dGVzLlxuLy8gU2VlIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2NvbW1zLmh0bWwjdGhlLXdlYnNvY2tldC1pbnRlcmZhY2Vcbi8vXG5bJ29wZW4nLCAnZXJyb3InLCAnY2xvc2UnLCAnbWVzc2FnZSddLmZvckVhY2goKG1ldGhvZCkgPT4ge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoV2ViU29ja2V0LnByb3RvdHlwZSwgYG9uJHttZXRob2R9YCwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0KCkge1xuICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMobWV0aG9kKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChsaXN0ZW5lcnNbaV0uX2xpc3RlbmVyKSByZXR1cm4gbGlzdGVuZXJzW2ldLl9saXN0ZW5lcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIHNldChsaXN0ZW5lcikge1xuICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMobWV0aG9kKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFJlbW92ZSBvbmx5IHRoZSBsaXN0ZW5lcnMgYWRkZWQgdmlhIGBhZGRFdmVudExpc3RlbmVyYC5cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5fbGlzdGVuZXIpIHRoaXMucmVtb3ZlTGlzdGVuZXIobWV0aG9kLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgfVxuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKG1ldGhvZCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuV2ViU29ja2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcjtcbldlYlNvY2tldC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IHJlbW92ZUV2ZW50TGlzdGVuZXI7XG5cbm1vZHVsZS5leHBvcnRzID0gV2ViU29ja2V0O1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBXZWJTb2NrZXQgY2xpZW50LlxuICpcbiAqIEBwYXJhbSB7V2ViU29ja2V0fSB3ZWJzb2NrZXQgVGhlIGNsaWVudCB0byBpbml0aWFsaXplXG4gKiBAcGFyYW0geyhTdHJpbmd8VVJMKX0gYWRkcmVzcyBUaGUgVVJMIHRvIHdoaWNoIHRvIGNvbm5lY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvdG9jb2xzXSBUaGUgc3VicHJvdG9jb2xzXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIENvbm5lY3Rpb24gb3B0aW9uc1xuICogQHBhcmFtIHsoQm9vbGVhbnxPYmplY3QpfSBbb3B0aW9ucy5wZXJNZXNzYWdlRGVmbGF0ZT10cnVlXSBFbmFibGUvZGlzYWJsZVxuICogICAgIHBlcm1lc3NhZ2UtZGVmbGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhhbmRzaGFrZVRpbWVvdXRdIFRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGVcbiAqICAgICBoYW5kc2hha2UgcmVxdWVzdFxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnByb3RvY29sVmVyc2lvbj0xM10gVmFsdWUgb2YgdGhlXG4gKiAgICAgYFNlYy1XZWJTb2NrZXQtVmVyc2lvbmAgaGVhZGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMub3JpZ2luXSBWYWx1ZSBvZiB0aGUgYE9yaWdpbmAgb3JcbiAqICAgICBgU2VjLVdlYlNvY2tldC1PcmlnaW5gIGhlYWRlclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heFBheWxvYWQ9MTA0ODU3NjAwXSBUaGUgbWF4aW11bSBhbGxvd2VkIG1lc3NhZ2VcbiAqICAgICBzaXplXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmZvbGxvd1JlZGlyZWN0cz1mYWxzZV0gV2hldGhlciBvciBub3QgdG8gZm9sbG93XG4gKiAgICAgcmVkaXJlY3RzXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4UmVkaXJlY3RzPTEwXSBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVkaXJlY3RzXG4gKiAgICAgYWxsb3dlZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaW5pdEFzQ2xpZW50KHdlYnNvY2tldCwgYWRkcmVzcywgcHJvdG9jb2xzLCBvcHRpb25zKSB7XG4gIGNvbnN0IG9wdHMgPSB7XG4gICAgcHJvdG9jb2xWZXJzaW9uOiBwcm90b2NvbFZlcnNpb25zWzFdLFxuICAgIG1heFBheWxvYWQ6IDEwMCAqIDEwMjQgKiAxMDI0LFxuICAgIHBlck1lc3NhZ2VEZWZsYXRlOiB0cnVlLFxuICAgIGZvbGxvd1JlZGlyZWN0czogZmFsc2UsXG4gICAgbWF4UmVkaXJlY3RzOiAxMCxcbiAgICAuLi5vcHRpb25zLFxuICAgIGNyZWF0ZUNvbm5lY3Rpb246IHVuZGVmaW5lZCxcbiAgICBzb2NrZXRQYXRoOiB1bmRlZmluZWQsXG4gICAgaG9zdG5hbWU6IHVuZGVmaW5lZCxcbiAgICBwcm90b2NvbDogdW5kZWZpbmVkLFxuICAgIHRpbWVvdXQ6IHVuZGVmaW5lZCxcbiAgICBtZXRob2Q6IHVuZGVmaW5lZCxcbiAgICBob3N0OiB1bmRlZmluZWQsXG4gICAgcGF0aDogdW5kZWZpbmVkLFxuICAgIHBvcnQ6IHVuZGVmaW5lZFxuICB9O1xuXG4gIGlmICghcHJvdG9jb2xWZXJzaW9ucy5pbmNsdWRlcyhvcHRzLnByb3RvY29sVmVyc2lvbikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcbiAgICAgIGBVbnN1cHBvcnRlZCBwcm90b2NvbCB2ZXJzaW9uOiAke29wdHMucHJvdG9jb2xWZXJzaW9ufSBgICtcbiAgICAgICAgYChzdXBwb3J0ZWQgdmVyc2lvbnM6ICR7cHJvdG9jb2xWZXJzaW9ucy5qb2luKCcsICcpfSlgXG4gICAgKTtcbiAgfVxuXG4gIGxldCBwYXJzZWRVcmw7XG5cbiAgaWYgKGFkZHJlc3MgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICBwYXJzZWRVcmwgPSBhZGRyZXNzO1xuICAgIHdlYnNvY2tldC5fdXJsID0gYWRkcmVzcy5ocmVmO1xuICB9IGVsc2Uge1xuICAgIHBhcnNlZFVybCA9IG5ldyBVUkwoYWRkcmVzcyk7XG4gICAgd2Vic29ja2V0Ll91cmwgPSBhZGRyZXNzO1xuICB9XG5cbiAgY29uc3QgaXNVbml4U29ja2V0ID0gcGFyc2VkVXJsLnByb3RvY29sID09PSAnd3MrdW5peDonO1xuXG4gIGlmICghcGFyc2VkVXJsLmhvc3QgJiYgKCFpc1VuaXhTb2NrZXQgfHwgIXBhcnNlZFVybC5wYXRobmFtZSkpIHtcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IoYEludmFsaWQgVVJMOiAke3dlYnNvY2tldC51cmx9YCk7XG5cbiAgICBpZiAod2Vic29ja2V0Ll9yZWRpcmVjdHMgPT09IDApIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdEVycm9yQW5kQ2xvc2Uod2Vic29ja2V0LCBlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGlzU2VjdXJlID1cbiAgICBwYXJzZWRVcmwucHJvdG9jb2wgPT09ICd3c3M6JyB8fCBwYXJzZWRVcmwucHJvdG9jb2wgPT09ICdodHRwczonO1xuICBjb25zdCBkZWZhdWx0UG9ydCA9IGlzU2VjdXJlID8gNDQzIDogODA7XG4gIGNvbnN0IGtleSA9IHJhbmRvbUJ5dGVzKDE2KS50b1N0cmluZygnYmFzZTY0Jyk7XG4gIGNvbnN0IGdldCA9IGlzU2VjdXJlID8gaHR0cHMuZ2V0IDogaHR0cC5nZXQ7XG4gIGxldCBwZXJNZXNzYWdlRGVmbGF0ZTtcblxuICBvcHRzLmNyZWF0ZUNvbm5lY3Rpb24gPSBpc1NlY3VyZSA/IHRsc0Nvbm5lY3QgOiBuZXRDb25uZWN0O1xuICBvcHRzLmRlZmF1bHRQb3J0ID0gb3B0cy5kZWZhdWx0UG9ydCB8fCBkZWZhdWx0UG9ydDtcbiAgb3B0cy5wb3J0ID0gcGFyc2VkVXJsLnBvcnQgfHwgZGVmYXVsdFBvcnQ7XG4gIG9wdHMuaG9zdCA9IHBhcnNlZFVybC5ob3N0bmFtZS5zdGFydHNXaXRoKCdbJylcbiAgICA/IHBhcnNlZFVybC5ob3N0bmFtZS5zbGljZSgxLCAtMSlcbiAgICA6IHBhcnNlZFVybC5ob3N0bmFtZTtcbiAgb3B0cy5oZWFkZXJzID0ge1xuICAgICdTZWMtV2ViU29ja2V0LVZlcnNpb24nOiBvcHRzLnByb3RvY29sVmVyc2lvbixcbiAgICAnU2VjLVdlYlNvY2tldC1LZXknOiBrZXksXG4gICAgQ29ubmVjdGlvbjogJ1VwZ3JhZGUnLFxuICAgIFVwZ3JhZGU6ICd3ZWJzb2NrZXQnLFxuICAgIC4uLm9wdHMuaGVhZGVyc1xuICB9O1xuICBvcHRzLnBhdGggPSBwYXJzZWRVcmwucGF0aG5hbWUgKyBwYXJzZWRVcmwuc2VhcmNoO1xuICBvcHRzLnRpbWVvdXQgPSBvcHRzLmhhbmRzaGFrZVRpbWVvdXQ7XG5cbiAgaWYgKG9wdHMucGVyTWVzc2FnZURlZmxhdGUpIHtcbiAgICBwZXJNZXNzYWdlRGVmbGF0ZSA9IG5ldyBQZXJNZXNzYWdlRGVmbGF0ZShcbiAgICAgIG9wdHMucGVyTWVzc2FnZURlZmxhdGUgIT09IHRydWUgPyBvcHRzLnBlck1lc3NhZ2VEZWZsYXRlIDoge30sXG4gICAgICBmYWxzZSxcbiAgICAgIG9wdHMubWF4UGF5bG9hZFxuICAgICk7XG4gICAgb3B0cy5oZWFkZXJzWydTZWMtV2ViU29ja2V0LUV4dGVuc2lvbnMnXSA9IGZvcm1hdCh7XG4gICAgICBbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV06IHBlck1lc3NhZ2VEZWZsYXRlLm9mZmVyKClcbiAgICB9KTtcbiAgfVxuICBpZiAocHJvdG9jb2xzKSB7XG4gICAgb3B0cy5oZWFkZXJzWydTZWMtV2ViU29ja2V0LVByb3RvY29sJ10gPSBwcm90b2NvbHM7XG4gIH1cbiAgaWYgKG9wdHMub3JpZ2luKSB7XG4gICAgaWYgKG9wdHMucHJvdG9jb2xWZXJzaW9uIDwgMTMpIHtcbiAgICAgIG9wdHMuaGVhZGVyc1snU2VjLVdlYlNvY2tldC1PcmlnaW4nXSA9IG9wdHMub3JpZ2luO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzLmhlYWRlcnMuT3JpZ2luID0gb3B0cy5vcmlnaW47XG4gICAgfVxuICB9XG4gIGlmIChwYXJzZWRVcmwudXNlcm5hbWUgfHwgcGFyc2VkVXJsLnBhc3N3b3JkKSB7XG4gICAgb3B0cy5hdXRoID0gYCR7cGFyc2VkVXJsLnVzZXJuYW1lfToke3BhcnNlZFVybC5wYXNzd29yZH1gO1xuICB9XG5cbiAgaWYgKGlzVW5peFNvY2tldCkge1xuICAgIGNvbnN0IHBhcnRzID0gb3B0cy5wYXRoLnNwbGl0KCc6Jyk7XG5cbiAgICBvcHRzLnNvY2tldFBhdGggPSBwYXJ0c1swXTtcbiAgICBvcHRzLnBhdGggPSBwYXJ0c1sxXTtcbiAgfVxuXG4gIGlmIChvcHRzLmZvbGxvd1JlZGlyZWN0cykge1xuICAgIGlmICh3ZWJzb2NrZXQuX3JlZGlyZWN0cyA9PT0gMCkge1xuICAgICAgd2Vic29ja2V0Ll9vcmlnaW5hbFVuaXhTb2NrZXQgPSBpc1VuaXhTb2NrZXQ7XG4gICAgICB3ZWJzb2NrZXQuX29yaWdpbmFsU2VjdXJlID0gaXNTZWN1cmU7XG4gICAgICB3ZWJzb2NrZXQuX29yaWdpbmFsSG9zdE9yU29ja2V0UGF0aCA9IGlzVW5peFNvY2tldFxuICAgICAgICA/IG9wdHMuc29ja2V0UGF0aFxuICAgICAgICA6IHBhcnNlZFVybC5ob3N0O1xuXG4gICAgICBjb25zdCBoZWFkZXJzID0gb3B0aW9ucyAmJiBvcHRpb25zLmhlYWRlcnM7XG5cbiAgICAgIC8vXG4gICAgICAvLyBTaGFsbG93IGNvcHkgdGhlIHVzZXIgcHJvdmlkZWQgb3B0aW9ucyBzbyB0aGF0IGhlYWRlcnMgY2FuIGJlIGNoYW5nZWRcbiAgICAgIC8vIHdpdGhvdXQgbXV0YXRpbmcgdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgIC8vXG4gICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCBoZWFkZXJzOiB7fSB9O1xuXG4gICAgICBpZiAoaGVhZGVycykge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhoZWFkZXJzKSkge1xuICAgICAgICAgIG9wdGlvbnMuaGVhZGVyc1trZXkudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpc1NhbWVIb3N0ID0gaXNVbml4U29ja2V0XG4gICAgICAgID8gd2Vic29ja2V0Ll9vcmlnaW5hbFVuaXhTb2NrZXRcbiAgICAgICAgICA/IG9wdHMuc29ja2V0UGF0aCA9PT0gd2Vic29ja2V0Ll9vcmlnaW5hbEhvc3RPclNvY2tldFBhdGhcbiAgICAgICAgICA6IGZhbHNlXG4gICAgICAgIDogd2Vic29ja2V0Ll9vcmlnaW5hbFVuaXhTb2NrZXRcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6IHBhcnNlZFVybC5ob3N0ID09PSB3ZWJzb2NrZXQuX29yaWdpbmFsSG9zdE9yU29ja2V0UGF0aDtcblxuICAgICAgaWYgKCFpc1NhbWVIb3N0IHx8ICh3ZWJzb2NrZXQuX29yaWdpbmFsU2VjdXJlICYmICFpc1NlY3VyZSkpIHtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gTWF0Y2ggY3VybCA3Ljc3LjAgYmVoYXZpb3IgYW5kIGRyb3AgdGhlIGZvbGxvd2luZyBoZWFkZXJzLiBUaGVzZVxuICAgICAgICAvLyBoZWFkZXJzIGFyZSBhbHNvIGRyb3BwZWQgd2hlbiBmb2xsb3dpbmcgYSByZWRpcmVjdCB0byBhIHN1YmRvbWFpbi5cbiAgICAgICAgLy9cbiAgICAgICAgZGVsZXRlIG9wdHMuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgICAgICBkZWxldGUgb3B0cy5oZWFkZXJzLmNvb2tpZTtcblxuICAgICAgICBpZiAoIWlzU2FtZUhvc3QpIGRlbGV0ZSBvcHRzLmhlYWRlcnMuaG9zdDtcblxuICAgICAgICBvcHRzLmF1dGggPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBNYXRjaCBjdXJsIDcuNzcuMCBiZWhhdmlvciBhbmQgbWFrZSB0aGUgZmlyc3QgYEF1dGhvcml6YXRpb25gIGhlYWRlciB3aW4uXG4gICAgLy8gSWYgdGhlIGBBdXRob3JpemF0aW9uYCBoZWFkZXIgaXMgc2V0LCB0aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG8gZG8gYXMgaXRcbiAgICAvLyB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAgICAvL1xuICAgIGlmIChvcHRzLmF1dGggJiYgIW9wdGlvbnMuaGVhZGVycy5hdXRob3JpemF0aW9uKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuYXV0aG9yaXphdGlvbiA9XG4gICAgICAgICdCYXNpYyAnICsgQnVmZmVyLmZyb20ob3B0cy5hdXRoKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgfVxuICB9XG5cbiAgbGV0IHJlcSA9ICh3ZWJzb2NrZXQuX3JlcSA9IGdldChvcHRzKSk7XG5cbiAgaWYgKG9wdHMudGltZW91dCkge1xuICAgIHJlcS5vbigndGltZW91dCcsICgpID0+IHtcbiAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgcmVxLCAnT3BlbmluZyBoYW5kc2hha2UgaGFzIHRpbWVkIG91dCcpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVxLm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICBpZiAocmVxID09PSBudWxsIHx8IHJlcS5hYm9ydGVkKSByZXR1cm47XG5cbiAgICByZXEgPSB3ZWJzb2NrZXQuX3JlcSA9IG51bGw7XG4gICAgZW1pdEVycm9yQW5kQ2xvc2Uod2Vic29ja2V0LCBlcnIpO1xuICB9KTtcblxuICByZXEub24oJ3Jlc3BvbnNlJywgKHJlcykgPT4ge1xuICAgIGNvbnN0IGxvY2F0aW9uID0gcmVzLmhlYWRlcnMubG9jYXRpb247XG4gICAgY29uc3Qgc3RhdHVzQ29kZSA9IHJlcy5zdGF0dXNDb2RlO1xuXG4gICAgaWYgKFxuICAgICAgbG9jYXRpb24gJiZcbiAgICAgIG9wdHMuZm9sbG93UmVkaXJlY3RzICYmXG4gICAgICBzdGF0dXNDb2RlID49IDMwMCAmJlxuICAgICAgc3RhdHVzQ29kZSA8IDQwMFxuICAgICkge1xuICAgICAgaWYgKCsrd2Vic29ja2V0Ll9yZWRpcmVjdHMgPiBvcHRzLm1heFJlZGlyZWN0cykge1xuICAgICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHJlcSwgJ01heGltdW0gcmVkaXJlY3RzIGV4Y2VlZGVkJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVxLmFib3J0KCk7XG5cbiAgICAgIGxldCBhZGRyO1xuXG4gICAgICB0cnkge1xuICAgICAgICBhZGRyID0gbmV3IFVSTChsb2NhdGlvbiwgYWRkcmVzcyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZW1pdEVycm9yQW5kQ2xvc2Uod2Vic29ja2V0LCBlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGluaXRBc0NsaWVudCh3ZWJzb2NrZXQsIGFkZHIsIHByb3RvY29scywgb3B0aW9ucyk7XG4gICAgfSBlbHNlIGlmICghd2Vic29ja2V0LmVtaXQoJ3VuZXhwZWN0ZWQtcmVzcG9uc2UnLCByZXEsIHJlcykpIHtcbiAgICAgIGFib3J0SGFuZHNoYWtlKFxuICAgICAgICB3ZWJzb2NrZXQsXG4gICAgICAgIHJlcSxcbiAgICAgICAgYFVuZXhwZWN0ZWQgc2VydmVyIHJlc3BvbnNlOiAke3Jlcy5zdGF0dXNDb2RlfWBcbiAgICAgICk7XG4gICAgfVxuICB9KTtcblxuICByZXEub24oJ3VwZ3JhZGUnLCAocmVzLCBzb2NrZXQsIGhlYWQpID0+IHtcbiAgICB3ZWJzb2NrZXQuZW1pdCgndXBncmFkZScsIHJlcyk7XG5cbiAgICAvL1xuICAgIC8vIFRoZSB1c2VyIG1heSBoYXZlIGNsb3NlZCB0aGUgY29ubmVjdGlvbiBmcm9tIGEgbGlzdGVuZXIgb2YgdGhlIGB1cGdyYWRlYFxuICAgIC8vIGV2ZW50LlxuICAgIC8vXG4gICAgaWYgKHdlYnNvY2tldC5yZWFkeVN0YXRlICE9PSBXZWJTb2NrZXQuQ09OTkVDVElORykgcmV0dXJuO1xuXG4gICAgcmVxID0gd2Vic29ja2V0Ll9yZXEgPSBudWxsO1xuXG4gICAgaWYgKHJlcy5oZWFkZXJzLnVwZ3JhZGUudG9Mb3dlckNhc2UoKSAhPT0gJ3dlYnNvY2tldCcpIHtcbiAgICAgIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc29ja2V0LCAnSW52YWxpZCBVcGdyYWRlIGhlYWRlcicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGRpZ2VzdCA9IGNyZWF0ZUhhc2goJ3NoYTEnKVxuICAgICAgLnVwZGF0ZShrZXkgKyBHVUlEKVxuICAgICAgLmRpZ2VzdCgnYmFzZTY0Jyk7XG5cbiAgICBpZiAocmVzLmhlYWRlcnNbJ3NlYy13ZWJzb2NrZXQtYWNjZXB0J10gIT09IGRpZ2VzdCkge1xuICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCBzb2NrZXQsICdJbnZhbGlkIFNlYy1XZWJTb2NrZXQtQWNjZXB0IGhlYWRlcicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNlcnZlclByb3QgPSByZXMuaGVhZGVyc1snc2VjLXdlYnNvY2tldC1wcm90b2NvbCddO1xuICAgIGNvbnN0IHByb3RMaXN0ID0gKHByb3RvY29scyB8fCAnJykuc3BsaXQoLywgKi8pO1xuICAgIGxldCBwcm90RXJyb3I7XG5cbiAgICBpZiAoIXByb3RvY29scyAmJiBzZXJ2ZXJQcm90KSB7XG4gICAgICBwcm90RXJyb3IgPSAnU2VydmVyIHNlbnQgYSBzdWJwcm90b2NvbCBidXQgbm9uZSB3YXMgcmVxdWVzdGVkJztcbiAgICB9IGVsc2UgaWYgKHByb3RvY29scyAmJiAhc2VydmVyUHJvdCkge1xuICAgICAgcHJvdEVycm9yID0gJ1NlcnZlciBzZW50IG5vIHN1YnByb3RvY29sJztcbiAgICB9IGVsc2UgaWYgKHNlcnZlclByb3QgJiYgIXByb3RMaXN0LmluY2x1ZGVzKHNlcnZlclByb3QpKSB7XG4gICAgICBwcm90RXJyb3IgPSAnU2VydmVyIHNlbnQgYW4gaW52YWxpZCBzdWJwcm90b2NvbCc7XG4gICAgfVxuXG4gICAgaWYgKHByb3RFcnJvcikge1xuICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCBzb2NrZXQsIHByb3RFcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHNlcnZlclByb3QpIHdlYnNvY2tldC5fcHJvdG9jb2wgPSBzZXJ2ZXJQcm90O1xuXG4gICAgY29uc3Qgc2VjV2ViU29ja2V0RXh0ZW5zaW9ucyA9IHJlcy5oZWFkZXJzWydzZWMtd2Vic29ja2V0LWV4dGVuc2lvbnMnXTtcblxuICAgIGlmIChzZWNXZWJTb2NrZXRFeHRlbnNpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICghcGVyTWVzc2FnZURlZmxhdGUpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9XG4gICAgICAgICAgJ1NlcnZlciBzZW50IGEgU2VjLVdlYlNvY2tldC1FeHRlbnNpb25zIGhlYWRlciBidXQgbm8gZXh0ZW5zaW9uICcgK1xuICAgICAgICAgICd3YXMgcmVxdWVzdGVkJztcbiAgICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCBzb2NrZXQsIG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBleHRlbnNpb25zO1xuXG4gICAgICB0cnkge1xuICAgICAgICBleHRlbnNpb25zID0gcGFyc2Uoc2VjV2ViU29ja2V0RXh0ZW5zaW9ucyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICdJbnZhbGlkIFNlYy1XZWJTb2NrZXQtRXh0ZW5zaW9ucyBoZWFkZXInO1xuICAgICAgICBhYm9ydEhhbmRzaGFrZSh3ZWJzb2NrZXQsIHNvY2tldCwgbWVzc2FnZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZXh0ZW5zaW9uTmFtZXMgPSBPYmplY3Qua2V5cyhleHRlbnNpb25zKTtcblxuICAgICAgaWYgKGV4dGVuc2lvbk5hbWVzLmxlbmd0aCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZXh0ZW5zaW9uTmFtZXMubGVuZ3RoICE9PSAxIHx8XG4gICAgICAgICAgZXh0ZW5zaW9uTmFtZXNbMF0gIT09IFBlck1lc3NhZ2VEZWZsYXRlLmV4dGVuc2lvbk5hbWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9XG4gICAgICAgICAgICAnU2VydmVyIGluZGljYXRlZCBhbiBleHRlbnNpb24gdGhhdCB3YXMgbm90IHJlcXVlc3RlZCc7XG4gICAgICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCBzb2NrZXQsIG1lc3NhZ2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGVyTWVzc2FnZURlZmxhdGUuYWNjZXB0KGV4dGVuc2lvbnNbUGVyTWVzc2FnZURlZmxhdGUuZXh0ZW5zaW9uTmFtZV0pO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gJ0ludmFsaWQgU2VjLVdlYlNvY2tldC1FeHRlbnNpb25zIGhlYWRlcic7XG4gICAgICAgICAgYWJvcnRIYW5kc2hha2Uod2Vic29ja2V0LCBzb2NrZXQsIG1lc3NhZ2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHdlYnNvY2tldC5fZXh0ZW5zaW9uc1tQZXJNZXNzYWdlRGVmbGF0ZS5leHRlbnNpb25OYW1lXSA9XG4gICAgICAgICAgcGVyTWVzc2FnZURlZmxhdGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2Vic29ja2V0LnNldFNvY2tldChzb2NrZXQsIGhlYWQsIG9wdHMubWF4UGF5bG9hZCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEVtaXQgdGhlIGAnZXJyb3InYCBhbmQgYCdjbG9zZSdgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7V2ViU29ja2V0fSB3ZWJzb2NrZXQgVGhlIFdlYlNvY2tldCBpbnN0YW5jZVxuICogQHBhcmFtIHtFcnJvcn0gVGhlIGVycm9yIHRvIGVtaXRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGVtaXRFcnJvckFuZENsb3NlKHdlYnNvY2tldCwgZXJyKSB7XG4gIHdlYnNvY2tldC5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TSU5HO1xuICB3ZWJzb2NrZXQuZW1pdCgnZXJyb3InLCBlcnIpO1xuICB3ZWJzb2NrZXQuZW1pdENsb3NlKCk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgYG5ldC5Tb2NrZXRgIGFuZCBpbml0aWF0ZSBhIGNvbm5lY3Rpb24uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29ubmVjdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJuIHtuZXQuU29ja2V0fSBUaGUgbmV3bHkgY3JlYXRlZCBzb2NrZXQgdXNlZCB0byBzdGFydCB0aGUgY29ubmVjdGlvblxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbmV0Q29ubmVjdChvcHRpb25zKSB7XG4gIG9wdGlvbnMucGF0aCA9IG9wdGlvbnMuc29ja2V0UGF0aDtcbiAgcmV0dXJuIG5ldC5jb25uZWN0KG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGB0bHMuVExTU29ja2V0YCBhbmQgaW5pdGlhdGUgYSBjb25uZWN0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbm5lY3Rpb24gb3B0aW9uc1xuICogQHJldHVybiB7dGxzLlRMU1NvY2tldH0gVGhlIG5ld2x5IGNyZWF0ZWQgc29ja2V0IHVzZWQgdG8gc3RhcnQgdGhlIGNvbm5lY3Rpb25cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHRsc0Nvbm5lY3Qob3B0aW9ucykge1xuICBvcHRpb25zLnBhdGggPSB1bmRlZmluZWQ7XG5cbiAgaWYgKCFvcHRpb25zLnNlcnZlcm5hbWUgJiYgb3B0aW9ucy5zZXJ2ZXJuYW1lICE9PSAnJykge1xuICAgIG9wdGlvbnMuc2VydmVybmFtZSA9IG5ldC5pc0lQKG9wdGlvbnMuaG9zdCkgPyAnJyA6IG9wdGlvbnMuaG9zdDtcbiAgfVxuXG4gIHJldHVybiB0bHMuY29ubmVjdChvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBBYm9ydCB0aGUgaGFuZHNoYWtlIGFuZCBlbWl0IGFuIGVycm9yLlxuICpcbiAqIEBwYXJhbSB7V2ViU29ja2V0fSB3ZWJzb2NrZXQgVGhlIFdlYlNvY2tldCBpbnN0YW5jZVxuICogQHBhcmFtIHsoaHR0cC5DbGllbnRSZXF1ZXN0fG5ldC5Tb2NrZXR8dGxzLlNvY2tldCl9IHN0cmVhbSBUaGUgcmVxdWVzdCB0b1xuICogICAgIGFib3J0IG9yIHRoZSBzb2NrZXQgdG8gZGVzdHJveVxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2VcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFib3J0SGFuZHNoYWtlKHdlYnNvY2tldCwgc3RyZWFtLCBtZXNzYWdlKSB7XG4gIHdlYnNvY2tldC5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TSU5HO1xuXG4gIGNvbnN0IGVyciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyLCBhYm9ydEhhbmRzaGFrZSk7XG5cbiAgaWYgKHN0cmVhbS5zZXRIZWFkZXIpIHtcbiAgICBzdHJlYW0uYWJvcnQoKTtcblxuICAgIGlmIChzdHJlYW0uc29ja2V0ICYmICFzdHJlYW0uc29ja2V0LmRlc3Ryb3llZCkge1xuICAgICAgLy9cbiAgICAgIC8vIE9uIE5vZGUuanMgPj0gMTQuMy4wIGByZXF1ZXN0LmFib3J0KClgIGRvZXMgbm90IGRlc3Ryb3kgdGhlIHNvY2tldCBpZlxuICAgICAgLy8gY2FsbGVkIGFmdGVyIHRoZSByZXF1ZXN0IGNvbXBsZXRlZC4gU2VlXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9pc3N1ZXMvMTg2OS5cbiAgICAgIC8vXG4gICAgICBzdHJlYW0uc29ja2V0LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBzdHJlYW0ub25jZSgnYWJvcnQnLCB3ZWJzb2NrZXQuZW1pdENsb3NlLmJpbmQod2Vic29ja2V0KSk7XG4gICAgd2Vic29ja2V0LmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgfSBlbHNlIHtcbiAgICBzdHJlYW0uZGVzdHJveShlcnIpO1xuICAgIHN0cmVhbS5vbmNlKCdlcnJvcicsIHdlYnNvY2tldC5lbWl0LmJpbmQod2Vic29ja2V0LCAnZXJyb3InKSk7XG4gICAgc3RyZWFtLm9uY2UoJ2Nsb3NlJywgd2Vic29ja2V0LmVtaXRDbG9zZS5iaW5kKHdlYnNvY2tldCkpO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIGNhc2VzIHdoZXJlIHRoZSBgcGluZygpYCwgYHBvbmcoKWAsIG9yIGBzZW5kKClgIG1ldGhvZHMgYXJlIGNhbGxlZFxuICogd2hlbiB0aGUgYHJlYWR5U3RhdGVgIGF0dHJpYnV0ZSBpcyBgQ0xPU0lOR2Agb3IgYENMT1NFRGAuXG4gKlxuICogQHBhcmFtIHtXZWJTb2NrZXR9IHdlYnNvY2tldCBUaGUgV2ViU29ja2V0IGluc3RhbmNlXG4gKiBAcGFyYW0geyp9IFtkYXRhXSBUaGUgZGF0YSB0byBzZW5kXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIENhbGxiYWNrXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzZW5kQWZ0ZXJDbG9zZSh3ZWJzb2NrZXQsIGRhdGEsIGNiKSB7XG4gIGlmIChkYXRhKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gdG9CdWZmZXIoZGF0YSkubGVuZ3RoO1xuXG4gICAgLy9cbiAgICAvLyBUaGUgYF9idWZmZXJlZEFtb3VudGAgcHJvcGVydHkgaXMgdXNlZCBvbmx5IHdoZW4gdGhlIHBlZXIgaXMgYSBjbGllbnQgYW5kXG4gICAgLy8gdGhlIG9wZW5pbmcgaGFuZHNoYWtlIGZhaWxzLiBVbmRlciB0aGVzZSBjaXJjdW1zdGFuY2VzLCBpbiBmYWN0LCB0aGVcbiAgICAvLyBgc2V0U29ja2V0KClgIG1ldGhvZCBpcyBub3QgY2FsbGVkLCBzbyB0aGUgYF9zb2NrZXRgIGFuZCBgX3NlbmRlcmBcbiAgICAvLyBwcm9wZXJ0aWVzIGFyZSBzZXQgdG8gYG51bGxgLlxuICAgIC8vXG4gICAgaWYgKHdlYnNvY2tldC5fc29ja2V0KSB3ZWJzb2NrZXQuX3NlbmRlci5fYnVmZmVyZWRCeXRlcyArPSBsZW5ndGg7XG4gICAgZWxzZSB3ZWJzb2NrZXQuX2J1ZmZlcmVkQW1vdW50ICs9IGxlbmd0aDtcbiAgfVxuXG4gIGlmIChjYikge1xuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgIGBXZWJTb2NrZXQgaXMgbm90IG9wZW46IHJlYWR5U3RhdGUgJHt3ZWJzb2NrZXQucmVhZHlTdGF0ZX0gYCArXG4gICAgICAgIGAoJHtyZWFkeVN0YXRlc1t3ZWJzb2NrZXQucmVhZHlTdGF0ZV19KWBcbiAgICApO1xuICAgIGNiKGVycik7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBSZWNlaXZlcmAgYCdjb25jbHVkZSdgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlIFRoZSBzdGF0dXMgY29kZVxuICogQHBhcmFtIHtTdHJpbmd9IHJlYXNvbiBUaGUgcmVhc29uIGZvciBjbG9zaW5nXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWNlaXZlck9uQ29uY2x1ZGUoY29kZSwgcmVhc29uKSB7XG4gIGNvbnN0IHdlYnNvY2tldCA9IHRoaXNba1dlYlNvY2tldF07XG5cbiAgd2Vic29ja2V0Ll9jbG9zZUZyYW1lUmVjZWl2ZWQgPSB0cnVlO1xuICB3ZWJzb2NrZXQuX2Nsb3NlTWVzc2FnZSA9IHJlYXNvbjtcbiAgd2Vic29ja2V0Ll9jbG9zZUNvZGUgPSBjb2RlO1xuXG4gIGlmICh3ZWJzb2NrZXQuX3NvY2tldFtrV2ViU29ja2V0XSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgd2Vic29ja2V0Ll9zb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBzb2NrZXRPbkRhdGEpO1xuICBwcm9jZXNzLm5leHRUaWNrKHJlc3VtZSwgd2Vic29ja2V0Ll9zb2NrZXQpO1xuXG4gIGlmIChjb2RlID09PSAxMDA1KSB3ZWJzb2NrZXQuY2xvc2UoKTtcbiAgZWxzZSB3ZWJzb2NrZXQuY2xvc2UoY29kZSwgcmVhc29uKTtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBSZWNlaXZlcmAgYCdkcmFpbidgIGV2ZW50LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY2VpdmVyT25EcmFpbigpIHtcbiAgdGhpc1trV2ViU29ja2V0XS5fc29ja2V0LnJlc3VtZSgpO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYFJlY2VpdmVyYCBgJ2Vycm9yJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoUmFuZ2VFcnJvcnxFcnJvcil9IGVyciBUaGUgZW1pdHRlZCBlcnJvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVjZWl2ZXJPbkVycm9yKGVycikge1xuICBjb25zdCB3ZWJzb2NrZXQgPSB0aGlzW2tXZWJTb2NrZXRdO1xuXG4gIGlmICh3ZWJzb2NrZXQuX3NvY2tldFtrV2ViU29ja2V0XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgd2Vic29ja2V0Ll9zb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBzb2NrZXRPbkRhdGEpO1xuXG4gICAgLy9cbiAgICAvLyBPbiBOb2RlLmpzIDwgMTQuMC4wIHRoZSBgJ2Vycm9yJ2AgZXZlbnQgaXMgZW1pdHRlZCBzeW5jaHJvbm91c2x5LiBTZWVcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vd2Vic29ja2V0cy93cy9pc3N1ZXMvMTk0MC5cbiAgICAvL1xuICAgIHByb2Nlc3MubmV4dFRpY2socmVzdW1lLCB3ZWJzb2NrZXQuX3NvY2tldCk7XG5cbiAgICB3ZWJzb2NrZXQuY2xvc2UoZXJyW2tTdGF0dXNDb2RlXSk7XG4gIH1cblxuICB3ZWJzb2NrZXQuZW1pdCgnZXJyb3InLCBlcnIpO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYFJlY2VpdmVyYCBgJ2ZpbmlzaCdgIGV2ZW50LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY2VpdmVyT25GaW5pc2goKSB7XG4gIHRoaXNba1dlYlNvY2tldF0uZW1pdENsb3NlKCk7XG59XG5cbi8qKlxuICogVGhlIGxpc3RlbmVyIG9mIHRoZSBgUmVjZWl2ZXJgIGAnbWVzc2FnZSdgIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xCdWZmZXJ8QXJyYXlCdWZmZXJ8QnVmZmVyW10pfSBkYXRhIFRoZSBtZXNzYWdlXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZWNlaXZlck9uTWVzc2FnZShkYXRhKSB7XG4gIHRoaXNba1dlYlNvY2tldF0uZW1pdCgnbWVzc2FnZScsIGRhdGEpO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYFJlY2VpdmVyYCBgJ3BpbmcnYCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gZGF0YSBUaGUgZGF0YSBpbmNsdWRlZCBpbiB0aGUgcGluZyBmcmFtZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVjZWl2ZXJPblBpbmcoZGF0YSkge1xuICBjb25zdCB3ZWJzb2NrZXQgPSB0aGlzW2tXZWJTb2NrZXRdO1xuXG4gIHdlYnNvY2tldC5wb25nKGRhdGEsICF3ZWJzb2NrZXQuX2lzU2VydmVyLCBOT09QKTtcbiAgd2Vic29ja2V0LmVtaXQoJ3BpbmcnLCBkYXRhKTtcbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBSZWNlaXZlcmAgYCdwb25nJ2AgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IGRhdGEgVGhlIGRhdGEgaW5jbHVkZWQgaW4gdGhlIHBvbmcgZnJhbWVcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlY2VpdmVyT25Qb25nKGRhdGEpIHtcbiAgdGhpc1trV2ViU29ja2V0XS5lbWl0KCdwb25nJywgZGF0YSk7XG59XG5cbi8qKlxuICogUmVzdW1lIGEgcmVhZGFibGUgc3RyZWFtXG4gKlxuICogQHBhcmFtIHtSZWFkYWJsZX0gc3RyZWFtIFRoZSByZWFkYWJsZSBzdHJlYW1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlc3VtZShzdHJlYW0pIHtcbiAgc3RyZWFtLnJlc3VtZSgpO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYG5ldC5Tb2NrZXRgIGAnY2xvc2UnYCBldmVudC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzb2NrZXRPbkNsb3NlKCkge1xuICBjb25zdCB3ZWJzb2NrZXQgPSB0aGlzW2tXZWJTb2NrZXRdO1xuXG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgc29ja2V0T25DbG9zZSk7XG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2RhdGEnLCBzb2NrZXRPbkRhdGEpO1xuICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBzb2NrZXRPbkVuZCk7XG5cbiAgd2Vic29ja2V0Ll9yZWFkeVN0YXRlID0gV2ViU29ja2V0LkNMT1NJTkc7XG5cbiAgbGV0IGNodW5rO1xuXG4gIC8vXG4gIC8vIFRoZSBjbG9zZSBmcmFtZSBtaWdodCBub3QgaGF2ZSBiZWVuIHJlY2VpdmVkIG9yIHRoZSBgJ2VuZCdgIGV2ZW50IGVtaXR0ZWQsXG4gIC8vIGZvciBleGFtcGxlLCBpZiB0aGUgc29ja2V0IHdhcyBkZXN0cm95ZWQgZHVlIHRvIGFuIGVycm9yLiBFbnN1cmUgdGhhdCB0aGVcbiAgLy8gYHJlY2VpdmVyYCBzdHJlYW0gaXMgY2xvc2VkIGFmdGVyIHdyaXRpbmcgYW55IHJlbWFpbmluZyBidWZmZXJlZCBkYXRhIHRvXG4gIC8vIGl0LiBJZiB0aGUgcmVhZGFibGUgc2lkZSBvZiB0aGUgc29ja2V0IGlzIGluIGZsb3dpbmcgbW9kZSB0aGVuIHRoZXJlIGlzIG5vXG4gIC8vIGJ1ZmZlcmVkIGRhdGEgYXMgZXZlcnl0aGluZyBoYXMgYmVlbiBhbHJlYWR5IHdyaXR0ZW4gYW5kIGByZWFkYWJsZS5yZWFkKClgXG4gIC8vIHdpbGwgcmV0dXJuIGBudWxsYC4gSWYgaW5zdGVhZCwgdGhlIHNvY2tldCBpcyBwYXVzZWQsIGFueSBwb3NzaWJsZSBidWZmZXJlZFxuICAvLyBkYXRhIHdpbGwgYmUgcmVhZCBhcyBhIHNpbmdsZSBjaHVuay5cbiAgLy9cbiAgaWYgKFxuICAgICF0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQgJiZcbiAgICAhd2Vic29ja2V0Ll9jbG9zZUZyYW1lUmVjZWl2ZWQgJiZcbiAgICAhd2Vic29ja2V0Ll9yZWNlaXZlci5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgJiZcbiAgICAoY2h1bmsgPSB3ZWJzb2NrZXQuX3NvY2tldC5yZWFkKCkpICE9PSBudWxsXG4gICkge1xuICAgIHdlYnNvY2tldC5fcmVjZWl2ZXIud3JpdGUoY2h1bmspO1xuICB9XG5cbiAgd2Vic29ja2V0Ll9yZWNlaXZlci5lbmQoKTtcblxuICB0aGlzW2tXZWJTb2NrZXRdID0gdW5kZWZpbmVkO1xuXG4gIGNsZWFyVGltZW91dCh3ZWJzb2NrZXQuX2Nsb3NlVGltZXIpO1xuXG4gIGlmIChcbiAgICB3ZWJzb2NrZXQuX3JlY2VpdmVyLl93cml0YWJsZVN0YXRlLmZpbmlzaGVkIHx8XG4gICAgd2Vic29ja2V0Ll9yZWNlaXZlci5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWRcbiAgKSB7XG4gICAgd2Vic29ja2V0LmVtaXRDbG9zZSgpO1xuICB9IGVsc2Uge1xuICAgIHdlYnNvY2tldC5fcmVjZWl2ZXIub24oJ2Vycm9yJywgcmVjZWl2ZXJPbkZpbmlzaCk7XG4gICAgd2Vic29ja2V0Ll9yZWNlaXZlci5vbignZmluaXNoJywgcmVjZWl2ZXJPbkZpbmlzaCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBuZXQuU29ja2V0YCBgJ2RhdGEnYCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gY2h1bmsgQSBjaHVuayBvZiBkYXRhXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzb2NrZXRPbkRhdGEoY2h1bmspIHtcbiAgaWYgKCF0aGlzW2tXZWJTb2NrZXRdLl9yZWNlaXZlci53cml0ZShjaHVuaykpIHtcbiAgICB0aGlzLnBhdXNlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgbGlzdGVuZXIgb2YgdGhlIGBuZXQuU29ja2V0YCBgJ2VuZCdgIGV2ZW50LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNvY2tldE9uRW5kKCkge1xuICBjb25zdCB3ZWJzb2NrZXQgPSB0aGlzW2tXZWJTb2NrZXRdO1xuXG4gIHdlYnNvY2tldC5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TSU5HO1xuICB3ZWJzb2NrZXQuX3JlY2VpdmVyLmVuZCgpO1xuICB0aGlzLmVuZCgpO1xufVxuXG4vKipcbiAqIFRoZSBsaXN0ZW5lciBvZiB0aGUgYG5ldC5Tb2NrZXRgIGAnZXJyb3InYCBldmVudC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzb2NrZXRPbkVycm9yKCkge1xuICBjb25zdCB3ZWJzb2NrZXQgPSB0aGlzW2tXZWJTb2NrZXRdO1xuXG4gIHRoaXMucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgc29ja2V0T25FcnJvcik7XG4gIHRoaXMub24oJ2Vycm9yJywgTk9PUCk7XG5cbiAgaWYgKHdlYnNvY2tldCkge1xuICAgIHdlYnNvY2tldC5fcmVhZHlTdGF0ZSA9IFdlYlNvY2tldC5DTE9TSU5HO1xuICAgIHRoaXMuZGVzdHJveSgpO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/stream-chat/node_modules/ws/lib/websocket.js\n");

/***/ })

};
;